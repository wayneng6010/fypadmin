{"version":3,"sources":["assets/hotspot_icon.png","NavBar.js","App.js","serviceWorker.js","change_password_first_login.js","login.js","dashboard.js","search_casual_contacts.js","view_casual_contacts.js","view_confirmed_case_check_ins.js","view_casual_contact_check_ins.js","view_simp_casual_contact_check_ins.js","download_excel_casual_contacts.js","download_excel_infected_premise.js","add_hotspot.js","view_hotspots.js","view_hotspots_each.js","view_hotspots_manual_add.js","send_batch_email.js","add_staff.js","manage_staff.js","manage_profile.js","logout.js","health_risk_assessment_analytics.js","Router.js","index.js","assets/marker_icon.png"],"names":["module","exports","NavBar","startup","a","fetch","method","headers","body","JSON","stringify","then","res","json","jsonData","last_login","replace","substring","indexOf","setState","login_name","fname","role","catch","error","state","i","dropdown","document","getElementsByClassName","length","addEventListener","this","classList","toggle","dropdownContent","nextElementSibling","style","display","verify_role","class","to","pathname","Component","Boolean","window","location","hostname","match","change_password_first_login","text","verify_token","href","alert","handleSubmit","e","preventDefault","old_psw","refs","value","new_psw","con_new_psw","test","user","name","id","onSubmit","for","placeholder","type","className","ref","required","App","email","psw","dashboard","componentDidMount","dashboard_data","search_casual_contacts","saveCasualContacts","check_in_time_range_before","check_in_time_range_before_hr","check_in_time_range_before_min","check_in_time_range_after","check_in_time_range_after_hr","check_in_time_range_after_min","confirmed_case_ic_num","confirmed_case_id","confirmed_case_info","_id","confirmed_case_user_type","check_in_day_range","checked_in_premise","casual_contacts_visitors","search_casual_contacts_visitor","ic_number","check_in_timerange","contact_counter","ttl_contact_counter","forEach","checkin_item","contact_item","check_in_record_id","casual_contact_counts","ttl_contact_counts","loading_confirmed_case_check_in","search_casual_contacts_dependent","search_check_in_records_dependent","currentTime","date_from","toISOString","counter","Array","item","time_check_in_before","Date","date_created","setHours","getHours","parseInt","setMinutes","getMinutes","time_check_in_before_iso","time_check_in_after","time_check_in_after_iso","push","user_premiseowner","time_from","time_to","ttl_check_ins","search_confirmed_case_info_dependent","loading_confirmed_case_info","search_check_in_records_visitor","getTime","getTimezoneOffset","setUTCHours","setDate","getDate","utc_tdy","toJSON","slice","utc_trace_from_date","utc_from","traceUntilDate","traceFromDate","view_casual_contacts","confirmed_case_check_in_id","casual_contacts_this_premise","casual_contact_counter","hasOwnProperty","visitor_dependent","ic_num","ic_fname","user_visitor","handleClose","modal_show","handleShow","handleChange_before_hr","target","toString","handleChange_before_min","handleChange_after_hr","handleChange_after_min","isDisabled","disabled","Modal","size","show","onHide","Header","closeButton","Title","Body","data","columns","accessor","Cell","row","defaultPageSize","Footer","Button","variant","onClick","selected","min","max","onInput","bind","verifyToken","getCheckInCount","groupRecord","sort","b","records_group","jsonDataReturned","visitor_and_dependent_fname","confirmed_case_visitor","visitor_and_dependent_ic_num","confirmed_case_dependent","handleCopyID","sid","navigator","clipboard","writeText","confirm_delete","record_id","confirm","submitSearch","search_query","trim","onChange","width","toUpperCase","src","title","AnyReactComponent","require","height","view_confirmed_case_check_ins","getCasualContactCount","checkInRecord","check_in_record","check_in_records","group_record_id","selected_records_group","isDisable","split","casual_contact_count","show_phone_no_qr","premise_details","region","lat","parseFloat","premise_lat","lng","premise_lng","place_lat","place_lng","props","params","premise_name","premise_address","premise_postcode","premise_state","premise_id","center","defaultZoom","owner_fname","phone_no","day_range_check_in","time_range_check_in_before","time_range_check_in_after","d","saved_casual_contacts_group","view_casual_contact_check_ins","check_in_group_id","check_in_id","selected_check_in_records","ic_firstTwoChar","birth_year","age","ic_lastChar","gender","this_year","getFullYear","visitor_fname","visitor_ic_num","visitor_ic_address","ic_address","visitor_home_lat","home_lat","visitor_home_lng","home_lng","visitor_home_id","home_id","visitor_phone_no","visitor_email","dependent_fname","dependent_ic_num","dependent_relationship","relationship","dependent_age","dependent_gender","visitor_age","visitor_gender","handleCheckContacted","contact_info","premise_qr_code","entry_point","view_simp_casual_contact_check_ins","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","download_excel_casual_contacts","confirmed_case_arr","confirmed_case_details","premise_arr","premise_owner_name","premise_owner_phone_no","premise_owner_email","premise_owner_state","premise_owner_address","confirmed_case_check_in_date_time","visitor_arr","dependent_arr","dependent_check_in_date_time","visitor_check_in_date_time","dependent_record","visitor_record","check_in_premises","confirmed_case_details_dataSet","selected_check_in_records_dataSet","visitor_record_dataSet","dependent_record_dataSet","hideElement","label","download_excel_infected_premise","infected_premise_arr","infected_premise","infected_premise_dataSet","add_hotspot","addNewHotspot","place_id","hotspot_place_name","hotspot_place_address","hotspot_place_state","hotspot_description","hotspot_remark","place_name","place_address","place_state","description","remark","response","reload","getSearchLocation","query_get_home_location","console","log","axios","get","latitude_res","result","geometry","longitude_res","onPressResult","search_prediction_selected","searchLocation","query_search_home_adress","predicted_places","predictions","search_prediction","handleChange","rows","maxlength","map","paddingVertical","cursor","key","view_hotspots","getHotspotCount","hotspot_count","isDisable_1","view_hotspots_each","Object","keys","hotspotDetailsMerged","premise_hotpots_record","home_hotpots_record","handleClose_1","modal_show_1","handleShow_1","premise_place","saveNewHotspotLocation","search_query_1","minWidth","defaultProps","zoom","view_hotspots_manual_add","send_batch_email","search_confirmed_case_id","group_id","confirmed_case_name","confirmed_case_date_created","group_id_verified","email_subject","email_content","send_to","sending_mail","send_to_onChange","add_staff","email_address","random_psw","x","character","charAt","Math","floor","random","manage_staff","first_login","staff_list","switchRole","deleteStaff","isDisable_switch","isDisable_delete","manage_profile","profile_details","updatePhoneNo","updated_phone_no","changePassword","current_psw","maxLength","logout","health_risk_assessment_analytics","hra_responses_yes","yes","hra_responses_no","no","hra_results","hra_gender","hra_age","data_gender","data_age","data_responses","data_results","labels","datasets","backgroundColor","hoverBackgroundColor","borderColor","borderWidth","hoverBorderColor","options","scales","yAxes","ticks","beginAtZero","precision","Router","path","component","login","exact","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.fb863107.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAG7AAABuwE67OPiAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAcVQTFRF/////wAAgICAqlVVv0BAzDMzqlVVqjlVs01NuUZGqkBAu0REuEdHsUNOtUBKsUVOsD5Gs0RNtUJKtkJJsUBHtUNKsUFIs0BNtD5LtEBLsUNItUBKs0JMskBJsz9MtEJLsUFJskFJs0BMtD9LtEBLsj9Js0FItEFLskBKs0BJtEFLskFKskFKtEBLsj9Ks0FJskBKsz9KskBLtD9JskFLs0BKs0BJtD9Ls0BKskBLs0FJtEBLtD9Js0BKs0BKs0FKs0BKtEBJs0BLsz9KskBJs0BKsz9Ks0BLs0FLs0FLsz9Ls0FKskBKsz9KtEFKs0BJtD9Ks0BKs0BJtEBKsz9Js0BKs0BKs0BKskBKs0BKsj9Ks0BLsz9KskBKsz9Js0BKsz9Ks0BKs0BKs0BLtD9Ks0BKs0BKs0BKs0BKtEBKs0BKs0BKs0BKs0BKsz9Ks0BKs0BJsz9Ks0BKs0BKs0BKsz9Ks0BLs0BKs0BKs0BKsz9Ks0BKs0BKsz9Ks0BKs0BKtUNNtURNtkROtkZPuUpTu09XwlpixmJox2NqzGtxzm900nd71Ht+24aI24eJ3IeK3YmM5pma7qem76mo8Kuq8a2s9LKwOW574AAAAH90Uk5TAAECAwQFBgkKCwwPEhcYGh0eHyMkJicoKSwuNDY4OTo7P0BBRElKS0xQUlNWXF1eYGFjaWprbG1vdHZ3fX+DhoeLjI2PkJGTlpqdnqOlpqeprK6wsbKztLfAwcPJy83P0dLT1NXY2tze3+Dm5+jp6+zt7u/w8fP29/j5+/z9/k+gHm8AAANESURBVFjDrZf5Q0xRFMePYiKSChFaFGEsUdlSCpUsI1tRWVJSMk1ZJgzzmRkqSdLI/Xv9cN975k2zmHl9f7v3ne+57yz33HNEkiCvtqm9u2/E7x/p625vqs2TjFBU3zuNDdO99UX/y3adHiQhBk+7/oOec2KMpBg7kZOOf3jIFJ70tDS6K0tKKt2NLZ5Jc3focEp6Yb8h96y1Mtf2XxUXTbv6C5Pz944DEPTsTPR1+43PAIzvTcY//gGAnrJkArvvA/DheGLvtQEwUJHKxvIBANoS+HL9PQC60kTK1QXA3dxVX64BBBpsexuK9h1xlxfbdTYEAC7H85sBfPv/beRWXXkR1H4PjnZUx5y43wdQZ+cfA3i93VoXdE7aU2iqs8D6WOIDPtp8te0dEDxkLvOb/auz0N+cb/1DAJiIvRsPAFrNVY3XJIVnZmdnwubKW2P5AWBgncWvA3homtkYACA0txhVSimlootzIQACjSajC+CoudrkA15tNcJ5FYDIwoqKwcpCBICr641oDgDPzSPPAZ+qjIXmz0dVHKLzWoMhVgFw0qg9XuCa+f8AoSWVAEshANOKHuClzpCzAHsM/wWAr8sqIZa/AgHDk2VB4IyIiAwCj4z4eYFQEr5Sy2HAa0TTAwyKiJQCnIrJxyWVFL8AmrXsToAiEbkAvNmo888PzKsU+A74jZx8BtSLyFOgQ291ApFoKgW/vwCdWroV6BXZHAR26fszBSyolPgBTOn4VwLTeVINvNUqq4HQSmoFfyJAtT5vEqiVc8ATraADmFNp8O2fxR6gSW4Bd/TGKLCYTsFPYFTLtwDt0g9c0vkdBKLpFESBoMvK2m4ZttKzGAirtAgDxSIi4gb6ZBw4qCsuMJNewQxQboVhRN4DpZbC2fQKZgG3Lm2A37mCceCAExOGgQYnTuwH2pyE8RZw20kinQceO0nlGuC1k8u0BfiU4+A6y0PLpuwKihTevL/DfFKzKmmrHvlMi2ossirrNmT1sNiQzdNmRxaPa1y3lsXzHm9Fxg3GKk9m3OLEI/MmS0SkqufKtqzbPBFxTThqNEUKAs5aXZHrDpttx+2+84FjDUYe50OX87FvDQZP56PvGgzfmY3/fwEcHneQqn+fZQAAAABJRU5ErkJggg==\"","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\n\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass NavBar extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tlogin_name: null,\n\t\t\tlast_login: null,\n\t\t\trole: 0,\n\t\t};\n\t\tthis.startup();\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {\n\t\tvar dropdown = document.getElementsByClassName(\"dropdown-btn\");\n\t\tvar i;\n\n\t\tfor (i = 0; i < dropdown.length; i++) {\n\t\t\tdropdown[i].addEventListener(\"click\", function () {\n\t\t\t\tthis.classList.toggle(\"active\");\n\t\t\t\tvar dropdownContent = this.nextElementSibling;\n\t\t\t\tif (dropdownContent.style.display === \"block\") {\n\t\t\t\t\tdropdownContent.style.display = \"none\";\n\t\t\t\t} else {\n\t\t\t\t\tdropdownContent.style.display = \"block\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tstartup = async () => {\n\t\tawait fetch(\"/getLoginDetails\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData[0].last_login == \"undefined\") {\n\t\t\t\t\tjsonData[0].last_login = \"None\";\n\t\t\t\t}\n\n\t\t\t\tjsonData[0].last_login = jsonData[0].last_login\n\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t.substring(0, jsonData[0].last_login.indexOf(\".\") - 3);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tlogin_name: jsonData[0].fname,\n\t\t\t\t\tlast_login: jsonData[0].last_login,\n\t\t\t\t\trole: jsonData[0].role,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// alert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tconst { role, verify_role } = this.state;\n\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<div class=\"sidenav\">\n\t\t\t\t\t<p class=\"sidenav_title\">COVID-19 CTS</p>\n\t\t\t\t\t<div class=\"admin_outer\">\n\t\t\t\t\t\t<p>Admin Panel</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* dashboard */}\n\t\t\t\t\t<div class=\"mx-0\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: `/dashboard`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"p-0 m-0\">Dashboard</a>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* casual contact */}\n\t\t\t\t\t<button class=\"dropdown-btn py-2\">\n\t\t\t\t\t\tCasual Contacts\n\t\t\t\t\t\t<i class=\"fa fa-caret-down mr-2 mt-1\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class=\"dropdown-container\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: `/search_casual_contacts`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"\">Add Casual Contacts</a>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: `/view_casual_contacts`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"\">Manage Casual Contacts</a>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* hotspot */}\n\t\t\t\t\t<button class=\"dropdown-btn py-2\">\n\t\t\t\t\t\tHotspots\n\t\t\t\t\t\t<i class=\"fa fa-caret-down mr-2 mt-1\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class=\"dropdown-container\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: `/add_hotspot`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"\">Add New Hotspot</a>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: `/view_hotspots`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"\">Manage Existing Hotspots</a>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: `/view_hotspots_manual_add`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"\">Manage Added Hotspots</a>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* batch email */}\n\t\t\t\t\t<div class=\"mx-0\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: `/send_batch_email`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"p-0 m-0\">Send Batch Email</a>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* health risk assessment analytics */}\n\t\t\t\t\t<div class=\"mx-0\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: `/health_risk_assessment_analytics`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"p-0 m-0\">Health Risk Assessment Analytics</a>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* manage staff */}\n\t\t\t\t\t<div class={role == 0 ? \"d-none\" : \"\"}>\n\t\t\t\t\t\t<button class=\"dropdown-btn py-2\">\n\t\t\t\t\t\t\tStaff\n\t\t\t\t\t\t\t<i class=\"fa fa-caret-down mr-2 mt-1\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<div class=\"dropdown-container\">\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\tpathname: `/add_staff`,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<a class=\"\">Add New Staff</a>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\tpathname: `/manage_staff`,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<a class=\"\">Manage Staff</a>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* my profile */}\n\t\t\t\t\t<div class=\"mx-0\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: `/manage_profile`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"p-0 m-0\">Profile</a>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* logout */}\n\t\t\t\t\t<div class=\"mx-0 logout_outer\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: `/logout`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a class=\"p-0 m-0\">Logout</a>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* <a href=\"#contact\">Search</a> */}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default NavBar;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\n\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass App extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\t// this.startup();\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {}\n\n\tstartup = async () => {\n\t\tawait fetch(\"/testing\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tvisitor_id: \"991004-07-5721\",\n\t\t\t\tdate_from: \"2020-08-24T13:54:36.038+00:00\",\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\talert(JSON.stringify(jsonData));\n\t\t\t\t// if (jsonData) {\n\t\t\t\t// \talert(\"Login successful\");\n\t\t\t\t// \t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t// } else {\n\t\t\t\t// \talert(\"Phone number or password is incorrect\");\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">Dashboard</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<h1>Dashboard</h1>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\n\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass change_password_first_login extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tverify_token: false,\n\t\t};\n\t\tthis.startup();\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {}\n\n\tstartup = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/dashboard\";\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t\t// window.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\t// await fetch(\"/getLoginDetails\", {\n\t\t// \tmethod: \"POST\",\n\t\t// \theaders: {\n\t\t// \t\t\"Content-Type\": \"application/json\",\n\t\t// \t},\n\t\t// \tbody: JSON.stringify({}),\n\t\t// })\n\t\t// \t.then((res) => {\n\t\t// \t\t// console.log(JSON.stringify(res.headers));\n\t\t// \t\treturn res.json();\n\t\t// \t})\n\t\t// \t.then((jsonData) => {\n\t\t// \t\t// alert(JSON.stringify(jsonData));\n\t\t// \t\tif (jsonData[0].role == 1) {\n\t\t// \t\t\twindow.location.href = \"/dashboard\";\n\t\t// \t\t}\n\t\t// \t})\n\t\t// \t.catch((error) => {\n\t\t// \t\t// alert(\"Error: \" + error);\n\t\t// \t});\n\t};\n\n\thandleSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\t// input value\n\t\tconst old_psw = this.refs.old_psw.value,\n\t\t\tnew_psw = this.refs.new_psw.value,\n\t\t\tcon_new_psw = this.refs.con_new_psw.value;\n\n\t\tif (new_psw !== con_new_psw) {\n\t\t\talert(\"New password does not match\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/.test(new_psw)) {\n\t\t\talert(\n\t\t\t\t\"New password must contain at least 8 characters with combination of number, uppercase and lowercase character\"\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\t// check login credentials\n\t\tawait fetch(\"/change_psw_first_login\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tuser: {\n\t\t\t\t\told_psw: old_psw,\n\t\t\t\t\tnew_psw: new_psw,\n\t\t\t\t},\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// console.log(jsonData);\n\t\t\t\tif (jsonData) {\n\t\t\t\t\talert(\"Password changed successful\");\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else {\n\t\t\t\t\talert(\n\t\t\t\t\t\t\"Current password is incorrect or new password is same as current password\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tconst { verify_token } = this.state;\n\t\tif (!verify_token) return <div />;\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">First Login - Change Password</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content_first_login\">\n\t\t\t\t\t<h2 class=\"text-center\">First Login - Change Password</h2>\n\t\t\t\t\t<p class=\"text-center lead mt-3\">\n\t\t\t\t\t\tYou have to change password in order to activate your account\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mt-5 d-flex justify-content-center align-items-center change_psw_first_login\">\n\t\t\t\t\t<form\n\t\t\t\t\t\tname=\"trace_casual_contacts_form\"\n\t\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\t\tid=\"trace_casual_contacts_form\"\n\t\t\t\t\t\tclass=\"add_staff_form\"\n\t\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* input group */}\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"old_psw\">Current Password</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"Current Password\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"old_psw\"\n\t\t\t\t\t\t\t\tid=\"old_psw\"\n\t\t\t\t\t\t\t\tref=\"old_psw\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"new_psw\">New Password</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"New Password\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"new_psw\"\n\t\t\t\t\t\t\t\tid=\"new_psw\"\n\t\t\t\t\t\t\t\tref=\"new_psw\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"con_new_psw\">Confirm New Password</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"Confirm New Password\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"con_new_psw\"\n\t\t\t\t\t\t\t\tid=\"con_new_psw\"\n\t\t\t\t\t\t\t\tref=\"con_new_psw\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t<div class=\"d-flex justify-content-center align-items-center\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"search_submit_btn\"\n\t\t\t\t\t\t\t\tclass=\"btn btn-success col-sm-6\"\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tvalue=\"Change Password\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default change_password_first_login;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\n\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass App extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\t// this.startup();\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {}\n\n\tstartup = async () => {};\n\n\thandleSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\t// input value\n\t\tconst email = this.refs.email.value,\n\t\t\tpsw = this.refs.psw.value;\n\n\t\t// check login credentials\n\t\tawait fetch(\"/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tuser: {\n\t\t\t\t\temail: email,\n\t\t\t\t\tpsw: psw,\n\t\t\t\t},\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// console.log(jsonData);\n\t\t\t\tif (jsonData == \"success_first_login\") {\n\t\t\t\t\t// alert(\"Login successful\");\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t} else if (jsonData == \"success\") {\n\t\t\t\t\twindow.location.href = \"/dashboard\";\n\t\t\t\t} else if (jsonData == \"failed\") {\n\t\t\t\t\talert(\"Email or password is incorrect\");\n\t\t\t\t} else if (jsonData == \"failed_expired\") {\n\t\t\t\t\talert(\n\t\t\t\t\t\t\"This account is expired due to not activate within 3 days. Please contact the system administrator on this.\"\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Error occured while login\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div class=\"login_outer\">\n\t\t\t\t<div class=\"login_form_outer d-flex justify-content-center align-items-center\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 class=\"login_title text-center\">\n\t\t\t\t\t\t\tCOVID-19 Contact Tracing System\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div className=\"login_form_outer_inner\">\n\t\t\t\t\t\t\t<h3 class=\"text-center\">Staff Login</h3>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<div class=\"login_form_inner\">\n\t\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\t\tname=\"login_form\"\n\t\t\t\t\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\t\t\t\t\tid=\"login_form\"\n\t\t\t\t\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{/* input group */}\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\tref=\"email\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tname=\"psw\"\n\t\t\t\t\t\t\t\t\t\tref=\"psw\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"search_submit_btn\"\n\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-success w-100\"\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"Login\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{/* <p class=\"text-center\">\n\t\t\t\t\t\t\t\tForgot password? Please contact the system admin\n\t\t\t\t\t\t\t</p> */}\n\t\t\t\t\t\t\t<p class=\"px-5 text-center\">\n\t\t\t\t\t\t\t\tThis system is only accessible by medical teams of\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t\t<i>Ministry of Health Malaysia</i>\n\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\n\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass dashboard extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tverify_token: false,\n\t\t\tlogin_name: null,\n\t\t\tlast_login: null,\n\t\t\tdashboard_data: null,\n\t\t};\n\t\tthis.startup();\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount = async () => {\n\t\tawait fetch(\"/getLoginDetails\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData[0].last_login == \"undefined\") {\n\t\t\t\t\tjsonData[0].last_login = \"None\";\n\t\t\t\t}\n\n\t\t\t\tjsonData[0].last_login = jsonData[0].last_login\n\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t.substring(0, jsonData[0].last_login.indexOf(\".\") - 3);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tlogin_name: jsonData[0].fname,\n\t\t\t\t\tlast_login: jsonData[0].last_login,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// alert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/getDashboardData\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tthis.setState({ dashboard_data: jsonData });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// alert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tstartup = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar { verify_token, login_name, last_login, dashboard_data } = this.state;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{verify_token == true ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<NavBar />\n\t\t\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"col-sm-2\"></div>\n\t\t\t\t\t\t\t\t<div class=\"col-sm-5 text-right page_title\">Dashboard</div>\n\t\t\t\t\t\t\t\t{login_name == null || last_login == null ? (\n\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div class=\"col-sm-5 text-right page_subtitle\">\n\t\t\t\t\t\t\t\t\t\t{\"Logged in as \" + login_name}\n\t\t\t\t\t\t\t\t\t\t<span class=\"ml-5 mr-5\">\n\t\t\t\t\t\t\t\t\t\t\t{\"Last login - \" + last_login}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t\t\t<h1>Dashboard</h1>\n\t\t\t\t\t\t\t{dashboard_data == null ? (\n\t\t\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div class=\"row my-4 dash_outer\">\n\t\t\t\t\t\t\t\t\t<div class=\"col-sm-2 dash_box dash_0\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"left_top\">Confirmed Case</p>\n\t\t\t\t\t\t\t\t\t\t<span class=\"right_bottom\">{dashboard_data[4]}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-sm-2 dash_box dash_1\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"left_top\">Casual Contact</p>\n\t\t\t\t\t\t\t\t\t\t<span class=\"right_bottom\">{dashboard_data[0]}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-sm-2 dash_box dash_2\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"left_top\">Hotspot</p>\n\t\t\t\t\t\t\t\t\t\t<span class=\"right_bottom\">{dashboard_data[1]}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-sm-2 dash_box dash_3\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"left_top\">Health Risk Assessment Respondent</p>\n\t\t\t\t\t\t\t\t\t\t<span class=\"right_bottom\">{dashboard_data[2]}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-sm-2 dash_box dash_4\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"left_top\">Staff</p>\n\t\t\t\t\t\t\t\t\t\t<span class=\"right_bottom\">{dashboard_data[3]}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div></div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default dashboard;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass search_casual_contacts extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.startup();\n\t\tthis.state = {\n\t\t\tconfirmed_case_ic_num: null,\n\t\t\tconfirmed_case_info: null,\n\t\t\tconfirmed_case_user_type: null,\n\t\t\tchecked_in_premise: null,\n\t\t\tcasual_contacts_visitors: null,\n\t\t\tcasual_contacts_this_premise: null,\n\t\t\tmodal_show: false,\n\t\t\tcheck_in_day_range: null,\n\t\t\tcheck_in_time_range_before_hr: 0,\n\t\t\tcheck_in_time_range_before_min: 30,\n\t\t\tcheck_in_time_range_after_hr: 24,\n\t\t\tcheck_in_time_range_after_min: 0,\n\t\t\tttl_contact_counts: null,\n\t\t\ttraceUntilDate: null,\n\t\t\ttraceFromDate: null,\n\t\t\tcasual_contact_counter: null,\n\t\t\tttl_check_ins: null,\n\t\t\tloading_confirmed_case_info: false,\n\t\t\tloading_confirmed_case_check_in: false,\n\t\t\tverify_token: false,\n\t\t};\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {}\n\n\tstartup = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tsaveCasualContacts = async () => {\n\t\t// const check_in_premise = this.state.checked_in_premise;\n\t\t// var check_in_premise_arr = new Array();\n\n\t\t// check_in_premise.forEach(function (item) {\n\t\t// \talert(item.user_premiseowner.premise_name);\n\t\t// \tcheck_in_premise_arr.push(item.user_premiseowner.premise_name);\n\t\t// });\n\t\t// alert(JSON.stringify(check_in_premise));\n\t\tvar check_in_time_range_before =\n\t\t\tthis.state.check_in_time_range_before_hr +\n\t\t\t\" hr \" +\n\t\t\tthis.state.check_in_time_range_before_min +\n\t\t\t\" min\";\n\t\tvar check_in_time_range_after =\n\t\t\tthis.state.check_in_time_range_after_hr +\n\t\t\t\" hr \" +\n\t\t\tthis.state.check_in_time_range_after_min +\n\t\t\t\" min\";\n\t\tawait fetch(\"/savedCasualContactsGroup\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tconfirmed_case_ic_num: this.state.confirmed_case_ic_num,\n\t\t\t\tconfirmed_case_id: this.state.confirmed_case_info._id,\n\t\t\t\tconfirmed_case_user_type: this.state.confirmed_case_user_type,\n\t\t\t\tcheck_in_day_range: this.state.check_in_day_range,\n\t\t\t\tcheck_in_time_range_before: check_in_time_range_before,\n\t\t\t\tcheck_in_time_range_after: check_in_time_range_after,\n\t\t\t\tchecked_in_premise: this.state.checked_in_premise,\n\t\t\t\tcasual_contacts_visitors: this.state.casual_contacts_visitors,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData) {\n\t\t\t\t\talert(\"Saved successful\");\n\t\t\t\t\t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Error occured while saving the record\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tsearch_casual_contacts_visitor = async (ic_number, check_in_timerange) => {\n\t\t// alert(JSON.stringify(this.state.checked_in_premise));\n\t\tvar checked_in_premise = this.state.checked_in_premise;\n\n\t\tawait fetch(\"/search_casual_contacts_visitor\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tic_number: ic_number,\n\t\t\t\tcheck_in_timerange: check_in_timerange,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\t// jsonData.forEach(function (item) {\n\t\t\t\t// \tif (!item.hasOwnProperty(\"visitor_dependent\")) {\n\t\t\t\t// \t\titem[\"visitor_dependent\"] = { ic_num: \"-\" };\n\t\t\t\t// \t}\n\t\t\t\t// });\n\t\t\t\tthis.setState({ casual_contacts_visitors: jsonData });\n\t\t\t\tvar contact_counter = 0,\n\t\t\t\t\tttl_contact_counter = 0;\n\t\t\t\tchecked_in_premise.forEach(function (checkin_item) {\n\t\t\t\t\tcontact_counter = 0;\n\t\t\t\t\tjsonData.forEach(function (contact_item) {\n\t\t\t\t\t\tif (contact_item.check_in_record_id == checkin_item._id) {\n\t\t\t\t\t\t\t// alert(contact_item._id);\n\t\t\t\t\t\t\tcontact_counter += 1;\n\t\t\t\t\t\t\tttl_contact_counter += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tcheckin_item.casual_contact_counts = contact_counter;\n\t\t\t\t\t// alert(contact_counter);\n\t\t\t\t});\n\t\t\t\tthis.setState({\n\t\t\t\t\tchecked_in_premise: checked_in_premise,\n\t\t\t\t\tttl_contact_counts: ttl_contact_counter,\n\t\t\t\t\tloading_confirmed_case_check_in: false,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tsearch_casual_contacts_dependent = async (ic_number, check_in_timerange) => {\n\t\tvar checked_in_premise = this.state.checked_in_premise;\n\t\tawait fetch(\"/search_casual_contacts_dependent\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tic_number: ic_number,\n\t\t\t\tcheck_in_timerange: check_in_timerange,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tthis.setState({ casual_contacts_visitors: jsonData });\n\t\t\t\tvar contact_counter = 0,\n\t\t\t\t\tttl_contact_counter = 0;\n\t\t\t\tchecked_in_premise.forEach(function (checkin_item) {\n\t\t\t\t\tcontact_counter = 0;\n\t\t\t\t\tjsonData.forEach(function (contact_item) {\n\t\t\t\t\t\tif (contact_item.check_in_record_id == checkin_item._id) {\n\t\t\t\t\t\t\t// alert(contact_item._id);\n\t\t\t\t\t\t\tcontact_counter += 1;\n\t\t\t\t\t\t\tttl_contact_counter += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tcheckin_item.casual_contact_counts = contact_counter;\n\t\t\t\t\t// alert(contact_counter);\n\t\t\t\t});\n\t\t\t\tthis.setState({\n\t\t\t\t\tchecked_in_premise: checked_in_premise,\n\t\t\t\t\tttl_contact_counts: ttl_contact_counter,\n\t\t\t\t\tloading_confirmed_case_check_in: false,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tsearch_check_in_records_dependent = async (\n\t\tic_number,\n\t\tcurrentTime,\n\t\tcheck_in_time_range_before_hr,\n\t\tcheck_in_time_range_before_min,\n\t\tcheck_in_time_range_after_hr,\n\t\tcheck_in_time_range_after_min\n\t) => {\n\t\tawait fetch(\"/search_check_in_records_dependent\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tic_number: ic_number,\n\t\t\t\tdate_from: currentTime.toISOString(),\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\t// var checked_in_premise = jsonData;\n\t\t\t\t// checked_in_premise.forEach(function (item) {\n\t\t\t\t// \titem.date_created = new Date(item.date_created);\n\t\t\t\t// });\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\tthis.setState({ checked_in_premise: \"none\" });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar checked_in_premise = jsonData;\n\t\t\t\tvar counter = 0;\n\t\t\t\tvar check_in_timerange = new Array();\n\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\tvar time_check_in = new Date(item.date_created);\n\t\t\t\t\t// alert(time_check_in.toISOString());\n\n\t\t\t\t\t// calculate time range from\n\t\t\t\t\tvar time_check_in_before = time_check_in;\n\t\t\t\t\ttime_check_in_before.setHours(\n\t\t\t\t\t\ttime_check_in_before.getHours() -\n\t\t\t\t\t\t\tparseInt(check_in_time_range_before_hr)\n\t\t\t\t\t);\n\t\t\t\t\ttime_check_in_before.setMinutes(\n\t\t\t\t\t\ttime_check_in_before.getMinutes() -\n\t\t\t\t\t\t\tparseInt(check_in_time_range_before_min)\n\t\t\t\t\t);\n\n\t\t\t\t\tvar time_check_in_before_iso = time_check_in_before.toISOString();\n\n\t\t\t\t\tvar time_check_in = new Date(item.date_created);\n\t\t\t\t\t// calculate time range to\n\t\t\t\t\tvar time_check_in_after = time_check_in;\n\t\t\t\t\ttime_check_in_after.setHours(\n\t\t\t\t\t\ttime_check_in_after.getHours() +\n\t\t\t\t\t\t\tparseInt(check_in_time_range_after_hr)\n\t\t\t\t\t);\n\t\t\t\t\ttime_check_in_after.setMinutes(\n\t\t\t\t\t\ttime_check_in_after.getMinutes() +\n\t\t\t\t\t\t\tparseInt(check_in_time_range_after_min)\n\t\t\t\t\t);\n\t\t\t\t\tvar time_check_in_after_iso = time_check_in_after.toISOString();\n\t\t\t\t\t// push to array\n\t\t\t\t\tcheck_in_timerange.push({\n\t\t\t\t\t\tcheck_in_record_id: item._id,\n\t\t\t\t\t\tuser_premiseowner: item.user_premiseowner,\n\t\t\t\t\t\ttime_from: time_check_in_before_iso,\n\t\t\t\t\t\ttime_to: time_check_in_after_iso,\n\t\t\t\t\t});\n\n\t\t\t\t\tchecked_in_premise[counter][\"time_check_in\"] = new Date(\n\t\t\t\t\t\titem.date_created\n\t\t\t\t\t)\n\t\t\t\t\t\t.toISOString()\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\tchecked_in_premise[counter][\n\t\t\t\t\t\t\"time_from\"\n\t\t\t\t\t] = time_check_in_before_iso\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\tchecked_in_premise[counter][\n\t\t\t\t\t\t\"time_to\"\n\t\t\t\t\t] = time_check_in_after_iso\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\n\t\t\t\t\tcounter += 1;\n\t\t\t\t\t// var x = item.date_created;\n\t\t\t\t});\n\t\t\t\t// alert(JSON.stringify(check_in_timerange));\n\t\t\t\tthis.setState({ checked_in_premise: jsonData, ttl_check_ins: counter });\n\t\t\t\tthis.search_casual_contacts_dependent(ic_number, check_in_timerange);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tsearch_confirmed_case_info_dependent = async (\n\t\tic_number,\n\t\tcurrentTime,\n\t\tcheck_in_time_range_before_hr,\n\t\tcheck_in_time_range_before_min,\n\t\tcheck_in_time_range_after_hr,\n\t\tcheck_in_time_range_after_min\n\t) => {\n\t\tawait fetch(\"/search_confirmed_case_info_dependent\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tic_number: ic_number,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tconfirmed_case_info: null,\n\t\t\t\t\t\tconfirmed_case_user_type: null,\n\t\t\t\t\t\tchecked_in_premise: null,\n\t\t\t\t\t\tcasual_contacts_visitors: null,\n\t\t\t\t\t\tttl_contact_counts: null,\n\t\t\t\t\t});\n\t\t\t\t\talert(\"User not found in the database\");\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tloading_confirmed_case_info: false,\n\t\t\t\t\t\tloading_confirmed_case_check_in: false,\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tconfirmed_case_info: jsonData,\n\t\t\t\t\t\tconfirmed_case_user_type: \"Dependent\",\n\t\t\t\t\t\tloading_confirmed_case_info: false,\n\t\t\t\t\t});\n\t\t\t\t\tthis.search_check_in_records_dependent(\n\t\t\t\t\t\tic_number,\n\t\t\t\t\t\tcurrentTime,\n\t\t\t\t\t\tcheck_in_time_range_before_hr,\n\t\t\t\t\t\tcheck_in_time_range_before_min,\n\t\t\t\t\t\tcheck_in_time_range_after_hr,\n\t\t\t\t\t\tcheck_in_time_range_after_min\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tsearch_check_in_records_visitor = async (\n\t\tic_number,\n\t\tcurrentTime,\n\t\tcheck_in_time_range_before_hr,\n\t\tcheck_in_time_range_before_min,\n\t\tcheck_in_time_range_after_hr,\n\t\tcheck_in_time_range_after_min\n\t) => {\n\t\t// alert(currentTime.toISOString());\n\t\tawait fetch(\"/search_check_in_records_visitor\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tic_number: ic_number,\n\t\t\t\tdate_from: currentTime.toISOString(),\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\t// var checked_in_premise = jsonData;\n\t\t\t\t// checked_in_premise.forEach(function (item) {\n\t\t\t\t// \titem.date_created = new Date(item.date_created);\n\t\t\t\t// });\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\tthis.setState({ checked_in_premise: \"none\" });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar checked_in_premise = jsonData;\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\n\t\t\t\tvar check_in_timerange = new Array();\n\t\t\t\tvar counter = 0;\n\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\tvar time_check_in = new Date(item.date_created);\n\n\t\t\t\t\t// calculate time range from\n\t\t\t\t\tvar time_check_in_before = time_check_in;\n\t\t\t\t\ttime_check_in_before.setHours(\n\t\t\t\t\t\ttime_check_in_before.getHours() -\n\t\t\t\t\t\t\tparseInt(check_in_time_range_before_hr)\n\t\t\t\t\t);\n\t\t\t\t\ttime_check_in_before.setMinutes(\n\t\t\t\t\t\ttime_check_in_before.getMinutes() -\n\t\t\t\t\t\t\tparseInt(check_in_time_range_before_min)\n\t\t\t\t\t);\n\n\t\t\t\t\tvar time_check_in_before_iso = time_check_in_before.toISOString();\n\n\t\t\t\t\tvar time_check_in = new Date(item.date_created);\n\t\t\t\t\t// alert(time_check_in.toISOString());\n\n\t\t\t\t\t// calculate time range to\n\t\t\t\t\tvar time_check_in_after = time_check_in;\n\t\t\t\t\ttime_check_in_after.setHours(\n\t\t\t\t\t\ttime_check_in_after.getHours() +\n\t\t\t\t\t\t\tparseInt(check_in_time_range_after_hr)\n\t\t\t\t\t);\n\t\t\t\t\ttime_check_in_after.setMinutes(\n\t\t\t\t\t\ttime_check_in_after.getMinutes() +\n\t\t\t\t\t\t\tparseInt(check_in_time_range_after_min)\n\t\t\t\t\t);\n\t\t\t\t\tvar time_check_in_after_iso = time_check_in_after.toISOString();\n\t\t\t\t\t// push to array\n\t\t\t\t\tcheck_in_timerange.push({\n\t\t\t\t\t\tcheck_in_record_id: item._id,\n\t\t\t\t\t\tuser_premiseowner: item.user_premiseowner,\n\t\t\t\t\t\ttime_from: time_check_in_before_iso,\n\t\t\t\t\t\ttime_to: time_check_in_after_iso,\n\t\t\t\t\t});\n\n\t\t\t\t\tchecked_in_premise[counter][\"time_check_in\"] = new Date(\n\t\t\t\t\t\titem.date_created\n\t\t\t\t\t)\n\t\t\t\t\t\t.toISOString()\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\tchecked_in_premise[counter][\n\t\t\t\t\t\t\"time_from\"\n\t\t\t\t\t] = time_check_in_before_iso\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\tchecked_in_premise[counter][\n\t\t\t\t\t\t\"time_to\"\n\t\t\t\t\t] = time_check_in_after_iso\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\n\t\t\t\t\tcounter += 1;\n\t\t\t\t});\n\t\t\t\t// alert(JSON.stringify(checked_in_premise));\n\t\t\t\tthis.setState({ checked_in_premise: jsonData, ttl_check_ins: counter });\n\t\t\t\tthis.search_casual_contacts_visitor(ic_number, check_in_timerange);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\thandleSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\t// get form input value\n\t\tconst ic_number = this.refs.ic_number.value,\n\t\t\tcheck_in_day_range = this.refs.check_in_day_range.value,\n\t\t\tcheck_in_time_range_before_hr = this.refs.check_in_time_range_before_hr\n\t\t\t\t.value,\n\t\t\tcheck_in_time_range_before_min = this.refs.check_in_time_range_before_min\n\t\t\t\t.value,\n\t\t\tcheck_in_time_range_after_hr = this.refs.check_in_time_range_after_hr\n\t\t\t\t.value,\n\t\t\tcheck_in_time_range_after_min = this.refs.check_in_time_range_after_min\n\t\t\t\t.value;\n\n\t\t// data validation\n\t\tvar regex_ic_number = /^[0-9]{6}[-]{1}[0-9]{2}[-]{1}[0-9]{4}$/;\n\t\tif (!regex_ic_number.test(ic_number)) {\n\t\t\talert(\"Invalid IC format. Correct format should be xxxxxx-xx-xxxx\");\n\t\t\treturn;\n\t\t}\n\t\tif (check_in_day_range > 20) {\n\t\t\talert(\"Check in day range should be more than 20 days\");\n\t\t\treturn;\n\t\t}\n\t\tif (\n\t\t\tcheck_in_time_range_before_hr > 48 ||\n\t\t\tcheck_in_time_range_after_hr > 48\n\t\t) {\n\t\t\talert(\"Time range hour should be more than 48 hours\");\n\t\t\treturn;\n\t\t}\n\t\tif (\n\t\t\tcheck_in_time_range_before_min > 59 ||\n\t\t\tcheck_in_time_range_after_min > 59\n\t\t) {\n\t\t\talert(\"Time range minute should be more than 48 hours\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tloading_confirmed_case_info: true,\n\t\t\tloading_confirmed_case_check_in: true,\n\t\t});\n\n\t\tvar currentTime = new Date();\n\t\tcurrentTime = new Date(\n\t\t\tcurrentTime.getTime() - currentTime.getTimezoneOffset() * 60000\n\t\t); // utc +8\n\t\tcurrentTime.setUTCHours(0, 0, 0, 0); // change time to midnight 00:00 of that day\n\t\tcurrentTime.setDate(currentTime.getDate() - check_in_day_range);\n\n\t\t// get today's date\n\t\tvar utc_tdy = new Date().toJSON().slice(0, 10).replace(/-/g, \"/\");\n\t\t// get trace from date\n\t\tvar utc_trace_from_date = new Date();\n\t\tutc_trace_from_date.setDate(\n\t\t\tutc_trace_from_date.getDate() - check_in_day_range\n\t\t);\n\t\tvar utc_from = utc_trace_from_date.toJSON().slice(0, 10).replace(/-/g, \"/\");\n\t\tthis.setState({ traceUntilDate: utc_tdy, traceFromDate: utc_from });\n\t\t// alert(utc_tdy + utc_from);\n\t\t// alert(this.state.traceFromDate + \" \" + this.state.traceUntilDate);\n\n\t\tthis.setState({\n\t\t\tconfirmed_case_ic_num: ic_number,\n\t\t\tcheck_in_day_range: check_in_day_range,\n\t\t\tcheck_in_time_range_before_hr: check_in_time_range_before_hr,\n\t\t\tcheck_in_time_range_before_min: check_in_time_range_before_min,\n\t\t\tcheck_in_time_range_after_hr: check_in_time_range_after_hr,\n\t\t\tcheck_in_time_range_after_min: check_in_time_range_after_min,\n\t\t});\n\n\t\tawait fetch(\"/search_confirmed_case_info_visitor\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tic_number: ic_number,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\t// alert(\"not found\");\n\t\t\t\t\tthis.search_confirmed_case_info_dependent(\n\t\t\t\t\t\tic_number,\n\t\t\t\t\t\tcurrentTime,\n\t\t\t\t\t\tcheck_in_time_range_before_hr,\n\t\t\t\t\t\tcheck_in_time_range_before_min,\n\t\t\t\t\t\tcheck_in_time_range_after_hr,\n\t\t\t\t\t\tcheck_in_time_range_after_min\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tconfirmed_case_info: jsonData,\n\t\t\t\t\t\tconfirmed_case_user_type: \"Visitor\",\n\t\t\t\t\t\tloading_confirmed_case_info: false,\n\t\t\t\t\t});\n\t\t\t\t\tthis.search_check_in_records_visitor(\n\t\t\t\t\t\tic_number,\n\t\t\t\t\t\tcurrentTime,\n\t\t\t\t\t\tcheck_in_time_range_before_hr,\n\t\t\t\t\t\tcheck_in_time_range_before_min,\n\t\t\t\t\t\tcheck_in_time_range_after_hr,\n\t\t\t\t\t\tcheck_in_time_range_after_min\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tview_casual_contacts = async (confirmed_case_check_in_id) => {\n\t\t// e.preventDefault();\n\t\t// alert(premise_id);\n\t\tvar casual_contacts_this_premise = new Array();\n\t\tvar casual_contact_counter = 0;\n\t\tthis.state.casual_contacts_visitors.forEach(function (item) {\n\t\t\tif (item.check_in_record_id === confirmed_case_check_in_id) {\n\t\t\t\tcasual_contacts_this_premise.push(item);\n\t\t\t\tcasual_contact_counter += 1;\n\t\t\t}\n\t\t\t// alert(JSON.stringify(casual_contacts_this_premise));\n\t\t});\n\n\t\tcasual_contacts_this_premise.forEach(function (item) {\n\t\t\tif (item.hasOwnProperty(\"visitor_dependent\")) {\n\t\t\t\titem[\"ic_num_merged\"] = item.visitor_dependent.ic_num;\n\t\t\t\titem[\"ic_fname_merged\"] =\n\t\t\t\t\titem.visitor_dependent.ic_fname + \" (Dependent)\";\n\t\t\t} else {\n\t\t\t\titem[\"ic_num_merged\"] = item.user_visitor.ic_num;\n\t\t\t\titem[\"ic_fname_merged\"] = item.user_visitor.ic_fname;\n\t\t\t}\n\t\t\titem[\"date_created_simplified\"] = item.date_created\n\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t// alert(JSON.stringify(casual_contacts_this_premise));\n\t\t});\n\n\t\tthis.setState({\n\t\t\tcasual_contacts_this_premise: casual_contacts_this_premise,\n\t\t\tcasual_contact_counter: casual_contact_counter,\n\t\t});\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ modal_show: false });\n\t};\n\n\thandleShow = (confirmed_case_check_in_id) => {\n\t\tthis.setState({ modal_show: true });\n\t\tthis.view_casual_contacts(confirmed_case_check_in_id);\n\t};\n\n\thandleChange_before_hr = (e) => {\n\t\tvar value = e.target.value;\n\t\tif (value > 48) {\n\t\t\tvalue = 48;\n\t\t}\n\t\tvalue = value.toString().replace(/\\D/g, \"\");\n\t\tthis.setState({ check_in_time_range_before_hr: value });\n\t};\n\n\thandleChange_before_min = (e) => {\n\t\tvar value = e.target.value;\n\t\tif (value > 59) {\n\t\t\tvalue = 59;\n\t\t}\n\t\tvalue = value.toString().replace(/\\D/g, \"\");\n\t\tthis.setState({ check_in_time_range_before_min: value });\n\t};\n\n\thandleChange_after_hr = (e) => {\n\t\tvar value = e.target.value;\n\t\tif (value > 48) {\n\t\t\tvalue = 48;\n\t\t}\n\t\tvalue = value.toString().replace(/\\D/g, \"\");\n\t\tthis.setState({ check_in_time_range_after_hr: value });\n\t};\n\n\thandleChange_after_min = (e) => {\n\t\tvar value = e.target.value;\n\t\tif (value > 59) {\n\t\t\tvalue = 59;\n\t\t}\n\t\tvalue = value.toString().replace(/\\D/g, \"\");\n\t\tthis.setState({ check_in_time_range_after_min: value });\n\t};\n\n\tisDisabled = (value) => {\n\t\tvar { casual_contacts_visitors } = this.state;\n\t\tvar disabled = true;\n\t\tcasual_contacts_visitors.forEach(function (item) {\n\t\t\t// alert(value);\n\t\t\tif (item.check_in_record_id == value) {\n\t\t\t\t// alert(\"as\");\n\t\t\t\tdisabled = false;\n\t\t\t}\n\t\t});\n\t\t// alert(disabled);\n\t\treturn disabled;\n\t};\n\n\trender() {\n\t\tvar {\n\t\t\tchecked_in_premise,\n\t\t\tcasual_contacts_visitors,\n\t\t\tcasual_contacts_this_premise,\n\t\t\tconfirmed_case_info,\n\t\t\tttl_contact_counts,\n\t\t\ttraceUntilDate,\n\t\t\ttraceFromDate,\n\t\t\tcasual_contact_counter,\n\t\t\tttl_check_ins,\n\t\t\tloading_confirmed_case_check_in,\n\t\t\tloading_confirmed_case_info,\n\t\t\tverify_token,\n\t\t} = this.state;\n\n\t\tif (!verify_token) return <div />;\n\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<Modal size=\"lg\" show={this.state.modal_show} onHide={this.handleClose}>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title>Casual Contacts</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t{casual_contacts_this_premise === null ? (\n\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h5 class=\"mb-3\">\n\t\t\t\t\t\t\t\t\t{\"Number of casual contacts: \" +\n\t\t\t\t\t\t\t\t\t\tcasual_contact_counter +\n\t\t\t\t\t\t\t\t\t\t\" contact(s)\"}\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\t\t\tdata={casual_contacts_this_premise}\n\t\t\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t\t\t// \tHeader: \"Visitor Name\",\n\t\t\t\t\t\t\t\t\t\t// \taccessor: \"user_visitor.ic_fname\",\n\t\t\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tHeader: \"Name\",\n\t\t\t\t\t\t\t\t\t\t\taccessor: \"ic_fname_merged\",\n\t\t\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">{row.value}</div>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tHeader: \"IC No.\",\n\t\t\t\t\t\t\t\t\t\t\taccessor: \"ic_num_merged\",\n\t\t\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">{row.value}</div>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t\t\t// \tHeader: \"Visitor IC No.\",\n\t\t\t\t\t\t\t\t\t\t// \taccessor: \"user_visitor.ic_num\",\n\t\t\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t\t\t// \tHeader: \"Dependent IC No.\",\n\t\t\t\t\t\t\t\t\t\t// \taccessor: \"visitor_dependent.ic_num\",\n\t\t\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t\t\t// \tHeader: \"Phone Number\",\n\t\t\t\t\t\t\t\t\t\t// \taccessor: \"user_visitor.phone_no\",\n\t\t\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t\t\t// \tHeader: \"Email\",\n\t\t\t\t\t\t\t\t\t\t// \taccessor: \"user_visitor.email\",\n\t\t\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tHeader: \"Check In Date Time\",\n\t\t\t\t\t\t\t\t\t\t\taccessor: \"date_created_simplified\",\n\t\t\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">{row.value}</div>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t\t\t// \tHeader: \"View Casual Contacts\",\n\t\t\t\t\t\t\t\t\t\t// \taccessor: \"user_premiseowner._id\",\n\t\t\t\t\t\t\t\t\t\t// \tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t// \t\t<button\n\t\t\t\t\t\t\t\t\t\t// \t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t// \t\t\t\tthis.handleShow(value);\n\t\t\t\t\t\t\t\t\t\t// \t\t\t}}\n\t\t\t\t\t\t\t\t\t\t// \t\t>\n\t\t\t\t\t\t\t\t\t\t// \t\t\tView\n\t\t\t\t\t\t\t\t\t\t// \t\t</button>\n\t\t\t\t\t\t\t\t\t\t// \t),\n\t\t\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\tdefaultPageSize={5}\n\t\t\t\t\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{/* <Button variant=\"primary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">Trace Casual Contacts</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<h2>Search for casual contacts</h2>\n\t\t\t\t\t<br />\n\t\t\t\t\t<form\n\t\t\t\t\t\tname=\"trace_casual_contacts_form\"\n\t\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\t\tid=\"trace_casual_contacts_form\"\n\t\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* input group */}\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"ic_number\">Confirmed case IC number</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"e.g. 123456-05-1234\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"ic_number\"\n\t\t\t\t\t\t\t\tid=\"ic_number\"\n\t\t\t\t\t\t\t\tref=\"ic_number\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"check_in_day_range\">\n\t\t\t\t\t\t\t\t\tDay range of confirmed case check in\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"check_in_day_range\"\n\t\t\t\t\t\t\t\tid=\"check_in_day_range\"\n\t\t\t\t\t\t\t\tref=\"check_in_day_range\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"1\">1 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"2\">2 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"3\">3 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"4\">4 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"5\">5 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"6\">6 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"7\">7 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"8\">8 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"9\">9 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"10\">10 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"11\">11 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"12\">12 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"13\">13 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"14\" selected>\n\t\t\t\t\t\t\t\t\t14 day before\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t<option value=\"15\">15 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"16\">16 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"17\">17 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"18\">18 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"19\">19 day before</option>\n\t\t\t\t\t\t\t\t<option value=\"20\">20 day before</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* <br />\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"check_in_time_range\">Time range of check in</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"check_in_time_range\"\n\t\t\t\t\t\t\t\tid=\"check_in_time_range\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"whole_day\">Whole day</option>\n\t\t\t\t\t\t\t\t<option value=\"specific\">Specific time range</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"check_in_time_range_before\">\n\t\t\t\t\t\t\t\t\tTime range of casual contacts check in (before)\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tmax=\"48\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"check_in_time_range_before_hr\"\n\t\t\t\t\t\t\t\tid=\"check_in_time_range_before_hr\"\n\t\t\t\t\t\t\t\tref=\"check_in_time_range_before_hr\"\n\t\t\t\t\t\t\t\tvalue={this.state.check_in_time_range_before_hr}\n\t\t\t\t\t\t\t\tonInput={this.handleChange_before_hr.bind(this)}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>Hour</span>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"30\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tmax=\"59\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"check_in_time_range_before_min\"\n\t\t\t\t\t\t\t\tid=\"check_in_time_range_before_min\"\n\t\t\t\t\t\t\t\tref=\"check_in_time_range_before_min\"\n\t\t\t\t\t\t\t\tvalue={this.state.check_in_time_range_before_min}\n\t\t\t\t\t\t\t\tonInput={this.handleChange_before_min.bind(this)}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>Minute</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"check_in_time_range_after\">\n\t\t\t\t\t\t\t\t\tTime range of casual contacts check in (after)\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"24\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tmax=\"48\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"check_in_time_range_after_hr\"\n\t\t\t\t\t\t\t\tid=\"check_in_time_range_after_hr\"\n\t\t\t\t\t\t\t\tref=\"check_in_time_range_after_hr\"\n\t\t\t\t\t\t\t\tvalue={this.state.check_in_time_range_after_hr}\n\t\t\t\t\t\t\t\tonInput={this.handleChange_after_hr.bind(this)}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>Hour</span>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tmax=\"59\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"check_in_time_range_after_min\"\n\t\t\t\t\t\t\t\tid=\"check_in_time_range_after_min\"\n\t\t\t\t\t\t\t\tref=\"check_in_time_range_after_min\"\n\t\t\t\t\t\t\t\tvalue={this.state.check_in_time_range_after_min}\n\t\t\t\t\t\t\t\tonInput={this.handleChange_after_min.bind(this)}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>Minute</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"search_submit_btn\"\n\t\t\t\t\t\t\tclass=\"btn btn-success\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tvalue=\"Search\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</form>\n\t\t\t\t\t{loading_confirmed_case_info === true ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : confirmed_case_info === null ||\n\t\t\t\t\t  this.state.confirmed_case_user_type === null ? (\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div id=\"confirmed_case_info_outer\">\n\t\t\t\t\t\t\t<h4 id=\"confirmed_case_info_title\">Confirmed Case Info</h4>\n\t\t\t\t\t\t\t<div id=\"confirmed_case_info\">\n\t\t\t\t\t\t\t\t<p>{this.state.confirmed_case_user_type}</p>\n\t\t\t\t\t\t\t\t<p>{confirmed_case_info.ic_num}</p>\n\t\t\t\t\t\t\t\t<p>{confirmed_case_info.ic_fname}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{checked_in_premise === \"none\" ? (\n\t\t\t\t\t\t<h5>No check in found</h5>\n\t\t\t\t\t) : loading_confirmed_case_check_in === true ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : checked_in_premise === null ||\n\t\t\t\t\t  casual_contacts_visitors === null ||\n\t\t\t\t\t  ttl_contact_counts === null ? (\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t// checked_in_premise.map((item) => (\n\t\t\t\t\t\t// \t<div class=\"each_premise\">\n\t\t\t\t\t\t// \t\t<p class=\"premise_name\">\n\t\t\t\t\t\t// \t\t\t{item.user_premiseowner.premise_name}\n\t\t\t\t\t\t// \t\t</p>\n\t\t\t\t\t\t// \t\t<p class=\"premise_name\">\n\t\t\t\t\t\t// \t\t\t{item.date_created\n\t\t\t\t\t\t// \t\t\t\t.replace(\"T\", \"\")\n\t\t\t\t\t\t// \t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 1)}\n\t\t\t\t\t\t// \t\t</p>\n\t\t\t\t\t\t// \t\t<button\n\t\t\t\t\t\t// \t\t\tonClick={(e) =>\n\t\t\t\t\t\t// \t\t\t\tthis.view_casual_contacts(item.user_premiseowner._id)\n\t\t\t\t\t\t// \t\t\t}\n\t\t\t\t\t\t// \t\t>\n\t\t\t\t\t\t// \t\t\tView Casual Contact Visitors\n\t\t\t\t\t\t// \t\t</button>\n\t\t\t\t\t\t// \t</div>\n\t\t\t\t\t\t// ))\n\n\t\t\t\t\t\t<div class=\"casual_contacts_outer\">\n\t\t\t\t\t\t\t<div class=\"casual_contacts_trace_info\">\n\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t{\"Traced check ins from \" +\n\t\t\t\t\t\t\t\t\t\ttraceFromDate +\n\t\t\t\t\t\t\t\t\t\t\" to \" +\n\t\t\t\t\t\t\t\t\t\ttraceUntilDate}\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t<h5>{\"Total Check Ins: \" + ttl_check_ins + \" check in(s)\"}</h5>\n\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t{\"Total Number of Casual Contacts: \" +\n\t\t\t\t\t\t\t\t\t\tttl_contact_counts +\n\t\t\t\t\t\t\t\t\t\t\" contact(s)\"}\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\t\tdata={checked_in_premise}\n\t\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tHeader: \"Premise Name\",\n\t\t\t\t\t\t\t\t\t\taccessor: \"user_premiseowner.premise_name\",\n\t\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tHeader: \"Check In Time\",\n\t\t\t\t\t\t\t\t\t\taccessor: \"time_check_in\",\n\t\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tHeader: \"Time Range (From)\",\n\t\t\t\t\t\t\t\t\t\taccessor: \"time_from\",\n\t\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column_grey\">{row.value}</div>,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tHeader: \"Time Range (To)\",\n\t\t\t\t\t\t\t\t\t\taccessor: \"time_to\",\n\t\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column_grey\">{row.value}</div>,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tHeader: \"Number of Contacts\",\n\t\t\t\t\t\t\t\t\t\taccessor: \"casual_contact_counts\",\n\t\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t\t{row.value + \" contact(s)\"}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tHeader: \"View Casual Contacts\",\n\t\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <span>4 person </span> */}\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.isDisabled(value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleShow(value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\tdefaultPageSize={5}\n\t\t\t\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-primary\"\n\t\t\t\t\t\t\t\tid=\"long_btn\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.saveCasualContacts();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default search_casual_contacts;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass view_casual_contacts extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.verifyToken();\n\t\tthis.state = {\n\t\t\trecords_group: null,\n\t\t\tsearch_query: null,\n\t\t\tverify_token: false,\n\t\t};\n\t\tthis.startup();\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {}\n\n\tverifyToken = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tgetCheckInCount = async (groupRecord) => {\n\t\tawait fetch(\"/getCheckInCount\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ groupRecord }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tjsonData.sort(function compare(a, b) {\n\t\t\t\t\treturn new Date(a.date_created) - new Date(b.date_created);\n\t\t\t\t});\n\t\t\t\tthis.setState({ records_group: jsonData });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tstartup = async () => {\n\t\tawait fetch(\"/getSavedCasualContactsGroups\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tvar jsonDataReturned = jsonData;\n\t\t\t\tjsonDataReturned.forEach(function (item) {\n\t\t\t\t\tif (item.hasOwnProperty(\"confirmed_case_visitor\")) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_visitor));\n\t\t\t\t\t\titem.visitor_and_dependent_fname =\n\t\t\t\t\t\t\titem.confirmed_case_visitor.ic_fname;\n\t\t\t\t\t\titem.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\titem.confirmed_case_visitor.ic_num;\n\t\t\t\t\t} else if (item.hasOwnProperty(\"confirmed_case_dependent\")) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_dependent));\n\t\t\t\t\t\titem.visitor_and_dependent_fname =\n\t\t\t\t\t\t\titem.confirmed_case_dependent.ic_fname + \" (Dependent)\";\n\t\t\t\t\t\titem.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\titem.confirmed_case_dependent.ic_num;\n\t\t\t\t\t}\n\t\t\t\t\titem.date_created = item.date_created\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t});\n\t\t\t\t// alert(JSON.stringify(jsonDataReturned));\n\n\t\t\t\t// this.setState({ records_group: jsonDataReturned });\n\t\t\t\tthis.getCheckInCount(jsonDataReturned);\n\t\t\t\t// alert(JSON.stringify(this.state.records_group));\n\n\t\t\t\t// if (jsonData) {\n\t\t\t\t// \talert(\"Login successful\");\n\t\t\t\t// \t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t// } else {\n\t\t\t\t// \talert(\"Phone number or password is incorrect\");\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\thandleCopyID = (sid) => {\n\t\tnavigator.clipboard.writeText(sid);\n\t\t// alert(\"ID copied: \" + sid);\n\t};\n\n\tconfirm_delete = async (record_id) => {\n\t\tif (\n\t\t\twindow.confirm(\n\t\t\t\t\"Confirm to delete? All of the premise record, casual contact records and hotspots record under this confirmed case will be deleted.\"\n\t\t\t)\n\t\t) {\n\t\t\tawait fetch(\"/delete_saved_casual_contact_records\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ record_id: record_id }),\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\t\treturn res.text();\n\t\t\t\t})\n\t\t\t\t.then((jsonData) => {\n\t\t\t\t\tif (jsonData) {\n\t\t\t\t\t\tthis.startup();\n\t\t\t\t\t\talert(\"Record has been deleted successfully\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert(\"Error occured while deleting the record\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\talert(\"Error: \" + error);\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t};\n\n\tsubmitSearch = async () => {\n\t\tvar { search_query } = this.state;\n\n\t\tif (search_query == null) {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tif (search_query.trim() == \"\") {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\"/search_casual_contact_group\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ search_query: search_query }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\talert(\"No record found\");\n\t\t\t\t} else {\n\t\t\t\t\tvar jsonDataReturned = jsonData;\n\t\t\t\t\tjsonDataReturned.forEach(function (item) {\n\t\t\t\t\t\tif (item.hasOwnProperty(\"confirmed_case_visitor\")) {\n\t\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_visitor));\n\t\t\t\t\t\t\titem.visitor_and_dependent_fname =\n\t\t\t\t\t\t\t\titem.confirmed_case_visitor.ic_fname;\n\t\t\t\t\t\t\titem.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\t\titem.confirmed_case_visitor.ic_num;\n\t\t\t\t\t\t} else if (item.hasOwnProperty(\"confirmed_case_dependent\")) {\n\t\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_dependent));\n\t\t\t\t\t\t\titem.visitor_and_dependent_fname =\n\t\t\t\t\t\t\t\titem.confirmed_case_dependent.ic_fname + \" (Dependent)\";\n\t\t\t\t\t\t\titem.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\t\titem.confirmed_case_dependent.ic_num;\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.date_created = item.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t});\n\t\t\t\t\t// alert(JSON.stringify(jsonDataReturned));\n\t\t\t\t\t// this.setState({ records_group: jsonDataReturned });\n\t\t\t\t\tthis.getCheckInCount(jsonDataReturned);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar { records_group, verify_token } = this.state;\n\n\t\tif (!verify_token) return <div />;\n\t\t\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">View Casual Contacts</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<h2>Confirmed Case Record</h2>\n\t\t\t\t\t<div class=\"search_outer\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"form-control col-sm-3\"\n\t\t\t\t\t\t\t\tid=\"search_query\"\n\t\t\t\t\t\t\t\tname=\"search_query\"\n\t\t\t\t\t\t\t\tvalue={this.state.search_query}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ search_query: e.target.value });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tplaceholder=\"Search ID\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-success col-sm-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.submitSearch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t{records_group == null ? (\n\t\t\t\t\t\t<p>Loading ...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\tdata={records_group}\n\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"ID\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\twidth: 120,\n\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t{\"...\" +\n\t\t\t\t\t\t\t\t\t\t\t\trow.value.slice(row.value.length - 4).toUpperCase() +\n\t\t\t\t\t\t\t\t\t\t\t\t\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"https://www.flaticon.com/svg/static/icons/svg/60/60990.svg\"\n\t\t\t\t\t\t\t\t\t\t\t\twidth={17}\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Copy full ID\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"copy_id_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleCopyID(row.value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Confirmed Case Name\",\n\t\t\t\t\t\t\t\t\taccessor: \"visitor_and_dependent_fname\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Confirmed Case IC\",\n\t\t\t\t\t\t\t\t\taccessor: \"visitor_and_dependent_ic_num\",\n\t\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Total Premise Checked In\",\n\t\t\t\t\t\t\t\t\taccessor: \"check_in_count\",\n\t\t\t\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">{row.value + \" place(s)\"}</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Total Casual Contact\",\n\t\t\t\t\t\t\t\t\taccessor: \"casual_contact_count\",\n\t\t\t\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">{row.value + \" contact(s)\"}</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Day Range\",\n\t\t\t\t\t\t\t\t// \taccessor: \"day_range_check_in\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Time Range (Before)\",\n\t\t\t\t\t\t\t\t// \taccessor: \"time_range_check_in_before\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Time Range (After)\",\n\t\t\t\t\t\t\t\t// \taccessor: \"time_range_check_in_after\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Added by\",\n\t\t\t\t\t\t\t\t\taccessor: \"staff.fname\",\n\t\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Date Created\",\n\t\t\t\t\t\t\t\t\taccessor: \"date_created\",\n\t\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"View Checked In Premise\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t{/* <span>4 person </span> */}\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: `/view_confirmed_case_check_ins/${value}`,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"manage_btn register btn btn-success\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Delete\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-danger\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.confirm_delete(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"View Simplified Casual Contacts\",\n\t\t\t\t\t\t\t\t// \taccessor: \"_id\",\n\t\t\t\t\t\t\t\t// \tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t// \t\t<div>\n\t\t\t\t\t\t\t\t// \t\t\t{/* <span>4 person </span> */}\n\t\t\t\t\t\t\t\t// \t\t\t<Link\n\t\t\t\t\t\t\t\t// \t\t\t\tto={{\n\t\t\t\t\t\t\t\t// \t\t\t\t\tpathname: `/view_simp_casual_contact_check_ins/${value}`,\n\t\t\t\t\t\t\t\t// \t\t\t\t}}\n\t\t\t\t\t\t\t\t// \t\t\t>\n\t\t\t\t\t\t\t\t// \t\t\t\t<button class=\"manage_btn register btn btn-success\">\n\t\t\t\t\t\t\t\t// \t\t\t\t\tView Simplified\n\t\t\t\t\t\t\t\t// \t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t// \t\t\t</Link>\n\t\t\t\t\t\t\t\t// \t\t</div>\n\t\t\t\t\t\t\t\t// \t),\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tdefaultPageSize={10}\n\t\t\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default view_casual_contacts;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\nimport GoogleMapReact from \"google-map-react\";\n\nconst AnyReactComponent = ({}) => (\n\t<img\n\t\tsrc={require(\"./assets/marker_icon.png\")}\n\t\tstyle={{ height: 35, width: 35 }}\n\t/>\n);\n\nclass view_confirmed_case_check_ins extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.verifyToken();\n\t\tthis.state = {\n\t\t\tgroup_record_id: null,\n\t\t\tcheck_in_records: null,\n\t\t\tselected_records_group: null,\n\t\t\tpremise_details: null,\n\t\t\tshow_phone_no_qr: false,\n\t\t\tsearch_query: null,\n\t\t\tverify_token: false,\n\t\t};\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {\n\t\tthis.state.group_record_id = this.props.match.params.group_record_id;\n\t\tthis.startup();\n\t\t// alert(this.props.match.params.group_record_id);\n\t}\n\n\tverifyToken = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\t// getEachPremiseName = async (confirmed_case_check_ins) => {\n\t// \t// var confirmed_case_check_ins_returned = new Array();\n\t// \tvar counter = 0;\n\n\t// \tconfirmed_case_check_ins.forEach(async function (item) {\n\t// \t\t// alert(JSON.stringify(item.check_in_record.user_premiseowner));\n\t// \t\tawait fetch(\"/getEachPremiseName\", {\n\t// \t\t\tmethod: \"POST\",\n\t// \t\t\theaders: {\n\t// \t\t\t\t\"Content-Type\": \"application/json\",\n\t// \t\t\t},\n\t// \t\t\tbody: JSON.stringify({\n\t// \t\t\t\tuser_premiseowner_id: item.check_in_record.user_premiseowner,\n\t// \t\t\t}),\n\t// \t\t})\n\t// \t\t\t.then((res) => {\n\t// \t\t\t\t// console.log(JSON.stringify(res.headers));\n\t// \t\t\t\treturn res.json();\n\t// \t\t\t})\n\t// \t\t\t.then((jsonData) => {\n\t// \t\t\t\t// alert(JSON.stringify(jsonData.premise_name));\n\t// \t\t\t\t// var jsonDataReturned = jsonData;\n\t// \t\t\t\titem.premise_name = jsonData.premise_name;\n\t// \t\t\t\t// alert(JSON.stringify(item));\n\n\t// \t\t\t\t// alert(JSON.stringify(item));\n\t// \t\t\t\t// confirmed_case_check_ins_returned.push(item);\n\t// \t\t\t\t// alert(JSON.stringify(confirmed_case_check_ins_returned));\n\t// \t\t\t\t// this.getEachPremiseName(jsonData);\n\t// \t\t\t\t// jsonDataReturned.forEach(function (item) {\n\t// \t\t\t\t// item.premise_name = item.premise_name;\n\t// \t\t\t\t// alert(JSON.stringify(item.check_in_record.user_premiseowner));\n\t// \t\t\t\t// });\n\t// \t\t\t})\n\t// \t\t\t.catch((error) => {\n\t// \t\t\t\talert(\"Error: \" + error);\n\t// \t\t\t});\n\n\t// \t\tcounter += 1;\n\n\t// \t\t// if (counter == confirmed_case_check_ins.length) {\n\t// \t\t// \t// console.log(\"endOfLoop\");\n\t// \t\t// \talert(JSON.stringify(confirmed_case_check_ins_returned));\n\t// \t\t// \tthis.setState({ check_in_records: confirmed_case_check_ins_returned });\n\t// \t\t// }\n\t// \t});\n\t// \t// alert(JSON.stringify(this.state.check_in_records));\n\t// \t// this.setState({ check_in_records: confirmed_case_check_ins_returned });\n\t// };\n\n\tgetCasualContactCount = async (checkInRecord) => {\n\t\tawait fetch(\"/getCasualContactCount\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ checkInRecord }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tjsonData.sort(function compare(a, b) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tnew Date(a.check_in_record.date_created) -\n\t\t\t\t\t\tnew Date(b.check_in_record.date_created)\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tthis.setState({ check_in_records: jsonData });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tstartup = async () => {\n\t\t// alert(this.state.group_record_id);\n\t\tawait fetch(\"/getSelectedSavedCasualContactsGroups\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ group_record_id: this.state.group_record_id }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\talert(\"No record found\");\n\t\t\t\t} else {\n\t\t\t\t\tvar jsonDataReturned = jsonData;\n\t\t\t\t\tif (jsonDataReturned.hasOwnProperty(\"confirmed_case_visitor\")) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_visitor));\n\t\t\t\t\t\tjsonDataReturned.visitor_and_dependent_fname =\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_visitor.ic_fname;\n\t\t\t\t\t\tjsonDataReturned.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_visitor.ic_num;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tjsonDataReturned.hasOwnProperty(\"confirmed_case_dependent\")\n\t\t\t\t\t) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_dependent));\n\t\t\t\t\t\tjsonDataReturned.visitor_and_dependent_fname =\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_dependent.ic_fname +\n\t\t\t\t\t\t\t\" (Dependent)\";\n\t\t\t\t\t\tjsonDataReturned.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_dependent.ic_num;\n\t\t\t\t\t}\n\t\t\t\t\tjsonDataReturned.date_created = jsonDataReturned.date_created.substring(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t10\n\t\t\t\t\t);\n\t\t\t\t\t// alert(JSON.stringify(jsonDataReturned));\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tselected_records_group: jsonDataReturned,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// alert(JSON.stringify(this.state.records_group));\n\n\t\t\t\t// if (jsonData) {\n\t\t\t\t// \talert(\"Login successful\");\n\t\t\t\t// \t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t// } else {\n\t\t\t\t// \talert(\"Phone number or password is incorrect\");\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/getConfirmedCaseCheckIns\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tgroup_record_id: this.state.group_record_id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData[0]));\n\t\t\t\t// var jsonDataReturned = jsonData;\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\talert(\"No record found\");\n\t\t\t\t} else {\n\t\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.check_in_record.user_premiseowner));\n\t\t\t\t\t\titem.check_in_record.date_created = item.check_in_record.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.check_in_record.date_created.indexOf(\".\") - 3);\n\n\t\t\t\t\t\titem.user_premiseowner.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\titem.user_premiseowner.date_created.indexOf(\".\") - 3\n\t\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\t// this.setState({ check_in_records: jsonData });\n\t\t\t\t\tthis.getCasualContactCount(jsonData);\n\t\t\t\t}\n\t\t\t\t// this.getEachPremiseName(jsonData);\n\t\t\t\t// alert(JSON.stringify(this.state.check_in_records));\n\t\t\t\t// if (jsonData) {\n\t\t\t\t// \talert(\"Login successful\");\n\t\t\t\t// \t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t// } else {\n\t\t\t\t// \talert(\"Phone number or password is incorrect\");\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tisDisable = (value) => {\n\t\tvar { check_in_records } = this.state;\n\t\tvalue = value.split(\"/\")[0];\n\n\t\tvar disabled = false;\n\t\tcheck_in_records.forEach(function (item) {\n\t\t\t// alert(value);\n\t\t\tif (item.check_in_record._id == value) {\n\t\t\t\t// alert(\"as\");\n\t\t\t\tif (item.casual_contact_count == 0) {\n\t\t\t\t\tdisabled = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// alert(disabled);\n\t\treturn disabled;\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ modal_show: false, show_phone_no_qr: false });\n\t};\n\n\thandleShow = (premise_details) => {\n\t\tthis.setState({\n\t\t\tmodal_show: true,\n\t\t\tpremise_details: premise_details,\n\t\t\tregion: {\n\t\t\t\tlat: parseFloat(premise_details.premise_lat),\n\t\t\t\tlng: parseFloat(premise_details.premise_lng),\n\t\t\t},\n\t\t\tplace_lat: parseFloat(premise_details.premise_lat),\n\t\t\tplace_lng: parseFloat(premise_details.premise_lng),\n\t\t});\n\t};\n\n\thandleCopyID = (sid) => {\n\t\tnavigator.clipboard.writeText(sid);\n\t\t// alert(\"ID copied: \" + sid);\n\t};\n\n\tsubmitSearch = async () => {\n\t\tvar { search_query } = this.state;\n\n\t\tif (search_query == null) {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tif (search_query.trim() == \"\") {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\"/search_confirmed_case_check_in\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tgroup_record_id: this.state.group_record_id,\n\t\t\t\tsearch_query: search_query,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\t// var jsonDataReturned = jsonData;\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\talert(\"No record found\");\n\t\t\t\t} else {\n\t\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.check_in_record.user_premiseowner));\n\t\t\t\t\t\titem.check_in_record.date_created = item.check_in_record.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.check_in_record.date_created.indexOf(\".\") - 3);\n\n\t\t\t\t\t\titem.user_premiseowner.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\titem.user_premiseowner.date_created.indexOf(\".\") - 3\n\t\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.getCasualContactCount(jsonData);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar {\n\t\t\tgroup_record_id,\n\t\t\tcheck_in_records,\n\t\t\tselected_records_group,\n\t\t\tpremise_details,\n\t\t\tregion,\n\t\t\tplace_lat,\n\t\t\tplace_lng,\n\t\t\tshow_phone_no_qr,\n\t\t\tverify_token,\n\t\t} = this.state;\n\n\t\tif (!verify_token) return <div />;\n\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<Modal size=\"lg\" show={this.state.modal_show} onHide={this.handleClose}>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title>Contact Details</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t{premise_details === null ? (\n\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{premise_details === null ? (\n\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<h5>Premise Details</h5>\n\t\t\t\t\t\t\t\t\t\t\t{/* <p>{premise_details._id}</p> */}\n\t\t\t\t\t\t\t\t\t\t\t<p>{\"Premise Name: \" + premise_details.premise_name}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t{\"Premise Address: \" +\n\t\t\t\t\t\t\t\t\t\t\t\t\tpremise_details.premise_address +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\", \" +\n\t\t\t\t\t\t\t\t\t\t\t\t\tpremise_details.premise_postcode +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\", \" +\n\t\t\t\t\t\t\t\t\t\t\t\t\tpremise_details.premise_state}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref={`https://www.google.com/maps/place/?q=place_id:${premise_details.premise_id}`}\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tView on Google Map\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ height: \"300px\", width: \"70%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<GoogleMapReact\n\t\t\t\t\t\t\t\t\t\t\t\t\t// bootstrapURLKeys={\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\tkey: \"AIzaSyDV2M6vNxqRZbKeWuJJ4kMyt9K1hOgSvlo\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t\t\t\t\t\tcenter={region}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultZoom={16}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AnyReactComponent\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlat={place_lat}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlng={place_lng}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text=\"My Marker\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</GoogleMapReact>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t\t<h5>Owner Details</h5>\n\t\t\t\t\t\t\t\t\t\t\t<p>{\"Owner's Name: \" + premise_details.owner_fname}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t{\"Owner's Phone No.: \" + premise_details.phone_no + \" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"show_phone_no_qr\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (show_phone_no_qr) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ show_phone_no_qr: false });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ show_phone_no_qr: true });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{show_phone_no_qr\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Hide Phone No. QR code\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Show Phone No. QR code\"}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t\t\t{show_phone_no_qr === false ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"150\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://qrcode.tec-it.com/API/QRCode?data=tel%3a${premise_details.phone_no}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\tOwner's Email:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={\"mailto:\" + premise_details.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{premise_details.email}\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{/* <Button variant=\"primary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">View Confirmed Case Check Ins</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<div class=\"navigation_breadcrumb\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\tpathname: `/view_casual_contacts`,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"\">Confirmed Case Record</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<span class=\"\"> / Confirmed Case Check Ins</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h2>Confirmed Case Check Ins</h2>\n\n\t\t\t\t\t<br />\n\t\t\t\t\t{selected_records_group == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=\"confirmed_case_header_outer\">\n\t\t\t\t\t\t\t\t<h5>Confirmed Case Info</h5>\n\t\t\t\t\t\t\t\t<div id=\"confirmed_case_header_inner\">\n\t\t\t\t\t\t\t\t\t<p>{selected_records_group.visitor_and_dependent_fname}</p>\n\t\t\t\t\t\t\t\t\t<p>{selected_records_group.visitor_and_dependent_ic_num}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"casual_contact_header_outer\">\n\t\t\t\t\t\t\t\t<h5>Confirmed Case Record Details</h5>\n\t\t\t\t\t\t\t\t<div id=\"casual_contact_header_inner\">\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t{\"Filtered check ins of \" +\n\t\t\t\t\t\t\t\t\t\t\tselected_records_group.day_range_check_in +\n\t\t\t\t\t\t\t\t\t\t\t\" days before from \" +\n\t\t\t\t\t\t\t\t\t\t\tselected_records_group.date_created}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t{\"Traced casual contact check ins of \" +\n\t\t\t\t\t\t\t\t\t\t\tselected_records_group.time_range_check_in_before +\n\t\t\t\t\t\t\t\t\t\t\t\" before, \" +\n\t\t\t\t\t\t\t\t\t\t\tselected_records_group.time_range_check_in_after +\n\t\t\t\t\t\t\t\t\t\t\t\" after\"}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{/* <p>\n\t\t\t\t\t\t\t\t\t\t{\"Check in time range after: \" +\n\t\t\t\t\t\t\t\t\t\t\tselected_records_group.time_range_check_in_after}\n\t\t\t\t\t\t\t\t\t</p> */}\n\t\t\t\t\t\t\t\t\t{/* <p>\n\t\t\t\t\t\t\t\t\t\t{\"Created at \" + selected_records_group.date_created}\n\t\t\t\t\t\t\t\t\t</p> */}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* excel download button */}\n\t\t\t\t\t{group_record_id == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\tpathname: `/download_excel_infected_premise/${group_record_id}`,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button class=\"manage_btn register btn btn-success\">\n\t\t\t\t\t\t\t\t\tDownload Excel File\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div class=\"search_outer\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"form-control col-sm-3\"\n\t\t\t\t\t\t\t\tid=\"search_query\"\n\t\t\t\t\t\t\t\tname=\"search_query\"\n\t\t\t\t\t\t\t\tvalue={this.state.search_query}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ search_query: e.target.value });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tplaceholder=\"Search ID / Premise Name / Premise State\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-success col-sm-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.submitSearch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t{check_in_records == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\tdata={check_in_records}\n\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"ID\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\twidth: 120,\n\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t{\"...\" +\n\t\t\t\t\t\t\t\t\t\t\t\trow.value.slice(row.value.length - 4).toUpperCase() +\n\t\t\t\t\t\t\t\t\t\t\t\t\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"https://www.flaticon.com/svg/static/icons/svg/60/60990.svg\"\n\t\t\t\t\t\t\t\t\t\t\t\twidth={17}\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Copy full ID\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"copy_id_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleCopyID(row.value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Check In Premise\",\n\t\t\t\t\t\t\t\t\taccessor: \"user_premiseowner.premise_name\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Premise State\",\n\t\t\t\t\t\t\t\t\taccessor: \"user_premiseowner.premise_state\",\n\t\t\t\t\t\t\t\t\twidth: 170,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Total Casual Contact\",\n\t\t\t\t\t\t\t\t\taccessor: \"casual_contact_count\",\n\t\t\t\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">{row.value + \" person(s)\"}</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Confirmed Case IC\",\n\t\t\t\t\t\t\t\t// \taccessor: \"confirmed_case_visitor.ic_num\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Day Range\",\n\t\t\t\t\t\t\t\t// \taccessor: \"day_range_check_in\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Time Range (Before)\",\n\t\t\t\t\t\t\t\t// \taccessor: \"time_range_check_in_before\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Time Range (After)\",\n\t\t\t\t\t\t\t\t// \taccessor: \"time_range_check_in_after\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Check In Entry Point\",\n\t\t\t\t\t\t\t\t\taccessor: \"check_in_record.premise_qr_code.entry_point\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Check In Date\",\n\t\t\t\t\t\t\t\t\taccessor: \"check_in_record.date_created\",\n\t\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Premise Details\",\n\t\t\t\t\t\t\t\t\taccessor: \"user_premiseowner\",\n\t\t\t\t\t\t\t\t\twidth: 250,\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleShow(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tView Premise Details\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"View Casual Contacts\",\n\t\t\t\t\t\t\t\t\t// accessor: \"check_in_record._id\",\n\t\t\t\t\t\t\t\t\tid: \"id\",\n\t\t\t\t\t\t\t\t\twidth: 250,\n\t\t\t\t\t\t\t\t\taccessor: (d) =>\n\t\t\t\t\t\t\t\t\t\t`${d.check_in_record._id}` +\n\t\t\t\t\t\t\t\t\t\t\"/\" +\n\t\t\t\t\t\t\t\t\t\t`${d.saved_casual_contacts_group}`,\n\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t{/* <span>4 person </span> */}\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: `/view_casual_contact_check_ins/${value}`,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.isDisable(value)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView Casual Contacts\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tdefaultPageSize={10}\n\t\t\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<br />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default view_confirmed_case_check_ins;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\nimport GoogleMapReact from \"google-map-react\";\n\nconst AnyReactComponent = ({}) => (\n\t<img\n\t\tsrc={require(\"./assets/marker_icon.png\")}\n\t\tstyle={{ height: 35, width: 35 }}\n\t/>\n);\n\nclass view_casual_contact_check_ins extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.verifyToken();\n\t\tthis.state = {\n\t\t\tcheck_in_id: null,\n\t\t\tcheck_in_group_id: null,\n\t\t\tcheck_in_records: null,\n\t\t\tcontact_info: null,\n\t\t\tselected_records_group: null,\n\t\t\tselected_check_in_records: null,\n\t\t\tshow_phone_no_qr: false,\n\t\t\tsearch_query: null,\n\t\t\tverify_token: false,\n\t\t};\n\t}\n\n\tverifyToken = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {\n\t\t// this.state.check_in_id = this.props.match.params.check_in_id;\n\t\t// this.state.check_in_group_id = this.props.match.params.check_in_group_id;\n\t\t// alert(\"1 \"+this.props.match.params.check_in_id);\n\t\t// alert(\"2 \" + this.props.match.params.check_in_group_id);\n\t\t// var param =\n\t\t// \tthis.props.match.params.check_in_id +\n\t\t// \tthis.props.match.params.check_in_group_id;\n\t\t// var param_array = param.split(\",\");\n\t\t// alert(param_array[0]);\n\t\t// alert(param_array[1]);\n\t\t// this.state.check_in_id = param_array[0];\n\t\t// this.state.check_in_group_id = param_array[1];\n\n\t\tthis.state.check_in_id = this.props.match.params.check_in_id;\n\t\tthis.state.check_in_group_id = this.props.match.params.check_in_group_id;\n\t\tthis.startup();\n\t}\n\n\tstartup = async () => {\n\t\t// alert(this.state.check_in_id);\n\t\tawait fetch(\"/getSelectedSavedCasualContactsGroups\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ group_record_id: this.state.check_in_group_id }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tvar jsonDataReturned = jsonData;\n\t\t\t\tif (jsonDataReturned.hasOwnProperty(\"confirmed_case_visitor\")) {\n\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_visitor));\n\t\t\t\t\tjsonDataReturned.visitor_and_dependent_fname =\n\t\t\t\t\t\tjsonDataReturned.confirmed_case_visitor.ic_fname;\n\t\t\t\t\tjsonDataReturned.visitor_and_dependent_ic_num =\n\t\t\t\t\t\tjsonDataReturned.confirmed_case_visitor.ic_num;\n\t\t\t\t} else if (\n\t\t\t\t\tjsonDataReturned.hasOwnProperty(\"confirmed_case_dependent\")\n\t\t\t\t) {\n\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_dependent));\n\t\t\t\t\tjsonDataReturned.visitor_and_dependent_fname =\n\t\t\t\t\t\tjsonDataReturned.confirmed_case_dependent.ic_fname + \" (Dependent)\";\n\t\t\t\t\tjsonDataReturned.visitor_and_dependent_ic_num =\n\t\t\t\t\t\tjsonDataReturned.confirmed_case_dependent.ic_num;\n\t\t\t\t}\n\t\t\t\tjsonDataReturned.date_created = jsonDataReturned.date_created\n\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t.substring(0, jsonDataReturned.date_created.indexOf(\".\") - 3);\n\t\t\t\t// alert(JSON.stringify(jsonDataReturned));\n\n\t\t\t\tthis.setState({ selected_records_group: jsonDataReturned });\n\n\t\t\t\t// alert(JSON.stringify(this.state.records_group));\n\n\t\t\t\t// if (jsonData) {\n\t\t\t\t// \talert(\"Login successful\");\n\t\t\t\t// \t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t// } else {\n\t\t\t\t// \talert(\"Phone number or password is incorrect\");\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/getSelectedConfirmedCaseCheckIns\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tcheck_in_id: this.state.check_in_id,\n\t\t\t\tcheck_in_group_id: this.state.check_in_group_id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tjsonData.check_in_record.date_created = jsonData.check_in_record.date_created\n\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t.substring(0, jsonData.check_in_record.date_created.indexOf(\".\") - 3);\n\t\t\t\tthis.setState({ selected_check_in_records: jsonData });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/getCasualContactCheckIns\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tcheck_in_id: this.state.check_in_id,\n\t\t\t\tcheck_in_group_id: this.state.check_in_group_id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\talert(\"No record found\");\n\t\t\t\t} else {\n\t\t\t\t\tvar jsonDataReturned = jsonData;\n\n\t\t\t\t\tvar ic_firstTwoChar, birth_year, age;\n\t\t\t\t\tvar d = new Date();\n\t\t\t\t\tvar this_year = d.getFullYear();\n\t\t\t\t\tvar ic_lastChar, gender;\n\n\t\t\t\t\tjsonDataReturned.forEach(function (item) {\n\t\t\t\t\t\tif (item.hasOwnProperty(\"visitor_dependent\")) {\n\t\t\t\t\t\t\tic_lastChar = item.visitor_dependent.ic_num.slice(\n\t\t\t\t\t\t\t\titem.visitor_dependent.ic_num.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (ic_lastChar % 2 == 0) {\n\t\t\t\t\t\t\t\tgender = \"Female\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tgender = \"Male\";\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tic_firstTwoChar = item.visitor_dependent.ic_num.substring(0, 2);\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tic_firstTwoChar < parseInt(this_year.toString().substring(2, 4))\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbirth_year = 2000 + parseInt(ic_firstTwoChar);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbirth_year = 1900 + parseInt(ic_firstTwoChar);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tage = this_year - birth_year;\n\n\t\t\t\t\t\t\titem[\"ic_num_merged\"] = item.visitor_dependent.ic_num;\n\t\t\t\t\t\t\titem[\"role\"] = \"Dependent\";\n\t\t\t\t\t\t\titem[\"ic_fname_merged\"] = item.visitor_dependent.ic_fname;\n\t\t\t\t\t\t\titem[\"contact_info_merged\"] = {\n\t\t\t\t\t\t\t\tvisitor_fname: item.user_visitor.ic_fname,\n\t\t\t\t\t\t\t\tvisitor_ic_num: item.user_visitor.ic_num,\n\t\t\t\t\t\t\t\tvisitor_ic_address: item.user_visitor.ic_address,\n\t\t\t\t\t\t\t\tvisitor_home_lat: item.user_visitor.home_lat,\n\t\t\t\t\t\t\t\tvisitor_home_lng: item.user_visitor.home_lng,\n\t\t\t\t\t\t\t\tvisitor_home_id: item.user_visitor.home_id,\n\t\t\t\t\t\t\t\tvisitor_phone_no: item.user_visitor.phone_no,\n\t\t\t\t\t\t\t\tvisitor_email: item.user_visitor.email,\n\t\t\t\t\t\t\t\tdependent_fname: item.visitor_dependent.ic_fname,\n\t\t\t\t\t\t\t\tdependent_ic_num: item.visitor_dependent.ic_num,\n\t\t\t\t\t\t\t\tdependent_relationship: item.visitor_dependent.relationship,\n\t\t\t\t\t\t\t\tdependent_age: age,\n\t\t\t\t\t\t\t\tdependent_gender: gender,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else if (item.hasOwnProperty(\"user_visitor\")) {\n\t\t\t\t\t\t\tic_lastChar = item.user_visitor.ic_num.slice(\n\t\t\t\t\t\t\t\titem.user_visitor.ic_num.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (ic_lastChar % 2 == 0) {\n\t\t\t\t\t\t\t\tgender = \"Female\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tgender = \"Male\";\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tic_firstTwoChar = item.user_visitor.ic_num.substring(0, 2);\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tic_firstTwoChar < parseInt(this_year.toString().substring(2, 4))\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbirth_year = 2000 + parseInt(ic_firstTwoChar);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbirth_year = 1900 + parseInt(ic_firstTwoChar);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tage = this_year - birth_year;\n\n\t\t\t\t\t\t\titem[\"ic_num_merged\"] = item.user_visitor.ic_num;\n\t\t\t\t\t\t\titem[\"role\"] = \"Visitor\";\n\t\t\t\t\t\t\titem[\"ic_fname_merged\"] = item.user_visitor.ic_fname;\n\t\t\t\t\t\t\titem[\"contact_info_merged\"] = {\n\t\t\t\t\t\t\t\tvisitor_fname: item.user_visitor.ic_fname,\n\t\t\t\t\t\t\t\tvisitor_ic_num: item.user_visitor.ic_num,\n\t\t\t\t\t\t\t\tvisitor_ic_address: item.user_visitor.ic_address,\n\t\t\t\t\t\t\t\tvisitor_home_lat: item.user_visitor.home_lat,\n\t\t\t\t\t\t\t\tvisitor_home_lng: item.user_visitor.home_lng,\n\t\t\t\t\t\t\t\tvisitor_home_id: item.user_visitor.home_id,\n\t\t\t\t\t\t\t\tvisitor_phone_no: item.user_visitor.phone_no,\n\t\t\t\t\t\t\t\tvisitor_email: item.user_visitor.email,\n\t\t\t\t\t\t\t\tvisitor_age: age,\n\t\t\t\t\t\t\t\tvisitor_gender: gender,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.check_in_record.date_created = item.check_in_record.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.check_in_record.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t});\n\n\t\t\t\t\tjsonDataReturned.sort(function compare(a, b) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tnew Date(a.check_in_record.date_created) -\n\t\t\t\t\t\t\tnew Date(b.check_in_record.date_created)\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setState({ check_in_records: jsonDataReturned });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\thandleCheckContacted = (e) => {\n\t\tvar value = e.target.value;\n\t\talert(value + \" saved\");\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ modal_show: false, show_phone_no_qr: false });\n\t};\n\n\thandleShow = (contact_info) => {\n\t\tthis.setState({\n\t\t\tmodal_show: true,\n\t\t\tcontact_info: contact_info,\n\t\t\tregion: {\n\t\t\t\tlat: parseFloat(contact_info.visitor_home_lat),\n\t\t\t\tlng: parseFloat(contact_info.visitor_home_lng),\n\t\t\t},\n\t\t\tplace_lat: parseFloat(contact_info.visitor_home_lat),\n\t\t\tplace_lng: parseFloat(contact_info.visitor_home_lng),\n\t\t});\n\t\t// alert(JSON.stringify(value));\n\t\t// this.view_casual_contacts(confirmed_case_check_in_id);\n\t};\n\n\thandleCopyID = (sid) => {\n\t\tnavigator.clipboard.writeText(sid);\n\t\t// alert(\"ID copied: \" + sid);\n\t};\n\n\tsubmitSearch = async () => {\n\t\tvar { search_query } = this.state;\n\n\t\tif (search_query == null) {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tif (search_query.trim() == \"\") {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\"/search_casual_contact_check_in\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tcheck_in_id: this.state.check_in_id,\n\t\t\t\tcheck_in_group_id: this.state.check_in_group_id,\n\t\t\t\tsearch_query: this.state.search_query,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\talert(\"No record found\");\n\t\t\t\t} else {\n\t\t\t\t\tvar jsonDataReturned = jsonData;\n\n\t\t\t\t\tvar ic_firstTwoChar, birth_year, age;\n\t\t\t\t\tvar d = new Date();\n\t\t\t\t\tvar this_year = d.getFullYear();\n\t\t\t\t\tvar ic_lastChar, gender;\n\t\t\t\t\tjsonDataReturned.forEach(function (item) {\n\t\t\t\t\t\tif (item.hasOwnProperty(\"visitor_dependent\")) {\n\t\t\t\t\t\t\tic_lastChar = item.visitor_dependent.ic_num.slice(\n\t\t\t\t\t\t\t\titem.visitor_dependent.ic_num.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (ic_lastChar % 2 == 0) {\n\t\t\t\t\t\t\t\tgender = \"Female\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tgender = \"Male\";\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tic_firstTwoChar = item.visitor_dependent.ic_num.substring(0, 2);\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tic_firstTwoChar < parseInt(this_year.toString().substring(2, 4))\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbirth_year = 2000 + parseInt(ic_firstTwoChar);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbirth_year = 1900 + parseInt(ic_firstTwoChar);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tage = this_year - birth_year;\n\n\t\t\t\t\t\t\titem[\"ic_num_merged\"] = item.visitor_dependent.ic_num;\n\t\t\t\t\t\t\titem[\"role\"] = \"Dependent\";\n\t\t\t\t\t\t\titem[\"ic_fname_merged\"] = item.visitor_dependent.ic_fname;\n\t\t\t\t\t\t\titem[\"contact_info_merged\"] = {\n\t\t\t\t\t\t\t\tvisitor_fname: item.user_visitor.ic_fname,\n\t\t\t\t\t\t\t\tvisitor_ic_num: item.user_visitor.ic_num,\n\t\t\t\t\t\t\t\tvisitor_ic_address: item.user_visitor.ic_address,\n\t\t\t\t\t\t\t\tvisitor_home_lat: item.user_visitor.home_lat,\n\t\t\t\t\t\t\t\tvisitor_home_lng: item.user_visitor.home_lng,\n\t\t\t\t\t\t\t\tvisitor_home_id: item.user_visitor.home_id,\n\t\t\t\t\t\t\t\tvisitor_phone_no: item.user_visitor.phone_no,\n\t\t\t\t\t\t\t\tvisitor_email: item.user_visitor.email,\n\t\t\t\t\t\t\t\tdependent_fname: item.visitor_dependent.ic_fname,\n\t\t\t\t\t\t\t\tdependent_ic_num: item.visitor_dependent.ic_num,\n\t\t\t\t\t\t\t\tdependent_relationship: item.visitor_dependent.relationship,\n\t\t\t\t\t\t\t\tdependent_age: age,\n\t\t\t\t\t\t\t\tdependent_gender: gender,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else if (item.hasOwnProperty(\"user_visitor\")) {\n\t\t\t\t\t\t\tic_lastChar = item.user_visitor.ic_num.slice(\n\t\t\t\t\t\t\t\titem.user_visitor.ic_num.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (ic_lastChar % 2 == 0) {\n\t\t\t\t\t\t\t\tgender = \"Female\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tgender = \"Male\";\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tic_firstTwoChar = item.user_visitor.ic_num.substring(0, 2);\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tic_firstTwoChar < parseInt(this_year.toString().substring(2, 4))\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbirth_year = 2000 + parseInt(ic_firstTwoChar);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbirth_year = 1900 + parseInt(ic_firstTwoChar);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tage = this_year - birth_year;\n\n\t\t\t\t\t\t\titem[\"ic_num_merged\"] = item.user_visitor.ic_num;\n\t\t\t\t\t\t\titem[\"role\"] = \"Visitor\";\n\t\t\t\t\t\t\titem[\"ic_fname_merged\"] = item.user_visitor.ic_fname;\n\t\t\t\t\t\t\titem[\"contact_info_merged\"] = {\n\t\t\t\t\t\t\t\tvisitor_fname: item.user_visitor.ic_fname,\n\t\t\t\t\t\t\t\tvisitor_ic_num: item.user_visitor.ic_num,\n\t\t\t\t\t\t\t\tvisitor_ic_address: item.user_visitor.ic_address,\n\t\t\t\t\t\t\t\tvisitor_home_lat: item.user_visitor.home_lat,\n\t\t\t\t\t\t\t\tvisitor_home_lng: item.user_visitor.home_lng,\n\t\t\t\t\t\t\t\tvisitor_home_id: item.user_visitor.home_id,\n\t\t\t\t\t\t\t\tvisitor_phone_no: item.user_visitor.phone_no,\n\t\t\t\t\t\t\t\tvisitor_email: item.user_visitor.email,\n\t\t\t\t\t\t\t\tvisitor_age: age,\n\t\t\t\t\t\t\t\tvisitor_gender: gender,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.check_in_record.date_created = item.check_in_record.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.check_in_record.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t});\n\n\t\t\t\t\tjsonDataReturned.sort(function compare(a, b) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tnew Date(a.check_in_record.date_created) -\n\t\t\t\t\t\t\tnew Date(b.check_in_record.date_created)\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setState({ check_in_records: jsonDataReturned });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar {\n\t\t\tcheck_in_id,\n\t\t\tcheck_in_group_id,\n\t\t\tcheck_in_records,\n\t\t\tcontact_info,\n\t\t\tselected_check_in_records,\n\t\t\tselected_records_group,\n\t\t\tshow_phone_no_qr,\n\t\t\tregion,\n\t\t\tplace_lat,\n\t\t\tplace_lng,\n\t\t\tverify_token,\n\t\t} = this.state;\n\n\t\tif (!verify_token) return <div />;\n\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<Modal size=\"lg\" show={this.state.modal_show} onHide={this.handleClose}>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title>Contact Details</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t{contact_info === null ? (\n\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{contact_info.hasOwnProperty(\"dependent_fname\") ? (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\t\tDependent under{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{contact_info.visitor_fname +\n\t\t\t\t\t\t\t\t\t\t\t\t\" with IC \" +\n\t\t\t\t\t\t\t\t\t\t\t\tcontact_info.visitor_ic_num}\n\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t{\"Name of Dependent: \" + contact_info.dependent_fname}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t{\"IC No. of Dependent: \" + contact_info.dependent_ic_num}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p>{\"Age: \" + contact_info.dependent_age}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{\"Gender: \" + contact_info.dependent_gender}</p>\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t{\"Relationship: \" + contact_info.dependent_relationship}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t<h5>Contact Information of {contact_info.visitor_fname}</h5>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h5>Visitor</h5>\n\t\t\t\t\t\t\t\t\t\t<p>{\"Name: \" + contact_info.visitor_fname}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{\"IC No.: \" + contact_info.visitor_ic_num}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{\"Age: \" + contact_info.visitor_age}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{\"Gender: \" + contact_info.visitor_gender}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{\"Phone No.: \" + contact_info.visitor_phone_no + \" \"}\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclass=\"show_phone_no_qr\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tif (show_phone_no_qr) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ show_phone_no_qr: false });\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ show_phone_no_qr: true });\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{show_phone_no_qr\n\t\t\t\t\t\t\t\t\t\t\t? \"Hide Phone No. QR code\"\n\t\t\t\t\t\t\t\t\t\t\t: \"Show Phone No. QR code\"}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t{show_phone_no_qr === false ? (\n\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\twidth=\"150\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={`https://qrcode.tec-it.com/API/QRCode?data=tel%3a${contact_info.visitor_phone_no}`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tEmail:{\" \"}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref={\"mailto:\" + contact_info.visitor_email}\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{contact_info.visitor_email}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{\"Residential Address: \" + contact_info.visitor_ic_address}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={`https://www.google.com/maps/place/?q=place_id:${contact_info.visitor_home_id}`}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tView on Google Map\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<div style={{ height: \"350px\", width: \"80%\" }}>\n\t\t\t\t\t\t\t\t\t<GoogleMapReact\n\t\t\t\t\t\t\t\t\t\t// bootstrapURLKeys={\n\t\t\t\t\t\t\t\t\t\t// \t{\n\t\t\t\t\t\t\t\t\t\t// \t\tkey: \"AIzaSyDV2M6vNxqRZbKeWuJJ4kMyt9K1hOgSvlo\",\n\t\t\t\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t\t\tcenter={region}\n\t\t\t\t\t\t\t\t\t\tdefaultZoom={16}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<AnyReactComponent\n\t\t\t\t\t\t\t\t\t\t\tlat={place_lat}\n\t\t\t\t\t\t\t\t\t\t\tlng={place_lng}\n\t\t\t\t\t\t\t\t\t\t\t// text=\"My Marker\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</GoogleMapReact>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{/* <Button variant=\"primary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">View Casual Contact Check Ins</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<div class=\"navigation_breadcrumb\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\tpathname: `/view_casual_contacts`,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"\">Confirmed Case Record</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<span class=\"\"> / </span>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\tpathname: `/view_confirmed_case_check_ins/${check_in_group_id}`,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"\">Confirmed Case Check Ins</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<span class=\"\"> / Casual Contact Check Ins</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h2>Casual Contact Check Ins</h2>\n\t\t\t\t\t<br />\n\t\t\t\t\t{selected_records_group == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=\"confirmed_case_header_outer\">\n\t\t\t\t\t\t\t\t<h5>Confirmed Case Info</h5>\n\t\t\t\t\t\t\t\t<div id=\"confirmed_case_header_inner\">\n\t\t\t\t\t\t\t\t\t<p>{selected_records_group.visitor_and_dependent_fname}</p>\n\t\t\t\t\t\t\t\t\t<p>{selected_records_group.visitor_and_dependent_ic_num}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{selected_check_in_records == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div id=\"premise_header_outer\">\n\t\t\t\t\t\t\t<h5>Confirmed Case Checked In Premise Details</h5>\n\t\t\t\t\t\t\t<div id=\"premise_header_inner\">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{selected_check_in_records.user_premiseowner.premise_name}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{\"Entry point: \" +\n\t\t\t\t\t\t\t\t\t\tselected_check_in_records.check_in_record.premise_qr_code\n\t\t\t\t\t\t\t\t\t\t\t.entry_point}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{\"Checked in at \" +\n\t\t\t\t\t\t\t\t\t\tselected_check_in_records.check_in_record.date_created}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* excel download button */}\n\t\t\t\t\t{check_in_id == null || check_in_group_id == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\tpathname: `/download_excel_casual_contacts/${check_in_id}/${check_in_group_id}`,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button class=\"manage_btn register btn btn-success\">\n\t\t\t\t\t\t\t\t\tDownload Excel File\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div class=\"search_outer\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"form-control col-sm-3\"\n\t\t\t\t\t\t\t\tid=\"search_query\"\n\t\t\t\t\t\t\t\tname=\"search_query\"\n\t\t\t\t\t\t\t\tvalue={this.state.search_query}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ search_query: e.target.value });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tplaceholder=\"Search ID\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-success col-sm-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.submitSearch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t{check_in_records == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\tdata={check_in_records}\n\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"ID\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\twidth: 120,\n\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t{\"...\" +\n\t\t\t\t\t\t\t\t\t\t\t\trow.value.slice(row.value.length - 4).toUpperCase() +\n\t\t\t\t\t\t\t\t\t\t\t\t\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"https://www.flaticon.com/svg/static/icons/svg/60/60990.svg\"\n\t\t\t\t\t\t\t\t\t\t\t\twidth={17}\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Copy full ID\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"copy_id_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleCopyID(row.value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Name\",\n\t\t\t\t\t\t\t\t\taccessor: \"ic_fname_merged\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"IC\",\n\t\t\t\t\t\t\t\t\taccessor: \"ic_num_merged\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Role\",\n\t\t\t\t\t\t\t\t\taccessor: \"role\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Visitor Name\",\n\t\t\t\t\t\t\t\t// \taccessor: \"user_visitor.ic_fname\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Visitor IC\",\n\t\t\t\t\t\t\t\t// \taccessor: \"user_visitor.ic_num\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Dependent Name\",\n\t\t\t\t\t\t\t\t// \taccessor: \"visitor_dependent.ic_fname\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Dependent IC\",\n\t\t\t\t\t\t\t\t// \taccessor: \"visitor_dependent.ic_num\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Relationship\",\n\t\t\t\t\t\t\t\t// \taccessor: \"visitor_dependent.relationship\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Phone Number\",\n\t\t\t\t\t\t\t\t// \taccessor: \"user_visitor.phone_no\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Email\",\n\t\t\t\t\t\t\t\t// \taccessor: \"user_visitor.email\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Check In Entry Point\",\n\t\t\t\t\t\t\t\t\taccessor: \"check_in_record.premise_qr_code.entry_point\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Check In Date\",\n\t\t\t\t\t\t\t\t\taccessor: \"check_in_record.date_created\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Contact Details\",\n\t\t\t\t\t\t\t\t\taccessor: \"contact_info_merged\",\n\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleShow(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tView Contact Details\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Contacted\",\n\t\t\t\t\t\t\t\t// \taccessor: \"_id\",\n\t\t\t\t\t\t\t\t// \tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t// \t\t<div>\n\t\t\t\t\t\t\t\t// \t\t\t{/* <span>4 person </span>\n\t\t\t\t\t\t\t\t// \t\t\t<Link\n\t\t\t\t\t\t\t\t// \t\t\t\tto={{\n\t\t\t\t\t\t\t\t// \t\t\t\t\tpathname: `/view_casual_contact_check_ins/${value}`,\n\t\t\t\t\t\t\t\t// \t\t\t\t}}\n\t\t\t\t\t\t\t\t// \t\t\t>\n\t\t\t\t\t\t\t\t// \t\t\t\t<button class=\"manage_btn register btn btn-success btn-lg\">\n\t\t\t\t\t\t\t\t// \t\t\t\t\tView\n\t\t\t\t\t\t\t\t// \t\t\t\t</button>\n\t\t\t\t\t\t\t\t// \t\t\t</Link> */}\n\t\t\t\t\t\t\t\t// \t\t\t<input\n\t\t\t\t\t\t\t\t// \t\t\t\tname=\"is_contacted\"\n\t\t\t\t\t\t\t\t// \t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t// \t\t\t\t// checked={this.state.isGoing}\n\t\t\t\t\t\t\t\t// \t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t// \t\t\t\tonChange={this.handleCheckContacted.bind(this)}\n\t\t\t\t\t\t\t\t// \t\t\t/>\n\t\t\t\t\t\t\t\t// \t\t</div>\n\t\t\t\t\t\t\t\t// \t),\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tdefaultPageSize={10}\n\t\t\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<br />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default view_casual_contact_check_ins;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass view_simp_casual_contact_check_ins extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tcheck_in_id: null,\n\t\t\tgroup_record_id: null,\n\t\t\tcheck_in_records: null,\n\t\t\tcontact_info: null,\n\t\t};\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {\n\t\t// this.state.check_in_id = this.props.match.params.check_in_id;\n\t\t// this.state.check_in_group_id = this.props.match.params.check_in_group_id;\n\t\t// alert(\"1 \"+this.props.match.params.check_in_id);\n\t\t// alert(\"2 \" + this.props.match.params.check_in_group_id);\n\t\t// this.setState({ group_record_id: this.props.match.params.group_record_id });\n\t\tthis.state.group_record_id = this.props.match.params.group_record_id;\n\t\t// alert(this.props.match.params.group_record_id );\n\t\tthis.startup();\n\t}\n\n\tstartup = async () => {\n\t\talert(this.state.group_record_id);\n\t\tawait fetch(\"/getSimpCasualContactCheckIns\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t// check_in_id: this.state.check_in_id,\n\t\t\t\tgroup_record_id: this.state.group_record_id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\talert(JSON.stringify(jsonData));\n\n\t\t\t\t// var jsonDataReturned = jsonData;\n\t\t\t\t// var group_user_id = new Array();\n\t\t\t\t// jsonDataReturned.forEach(function (item) {\n\t\t\t\t// \tif (!group_user_id.includes(item.user_visitor._id)) {\n\t\t\t\t// \t\tgroup_user_id.push(item.user_visitor._id);\n\t\t\t\t// \t}\n\t\t\t\t// });\n\n\t\t\t\t// var arrLength_id = group_user_id.length;\n\t\t\t\t// var group_user_record = new Array();\n\t\t\t\t// for (var i = 0; i < arrLength_id; i++) {\n\t\t\t\t// \tjsonDataReturned.forEach(function (item) {\n\t\t\t\t// \t\tif (item.user_visitor._id == group_user_id[i]) {\n\t\t\t\t// \t\t\tvar id_existed = false;\n\t\t\t\t// \t\t\tgroup_user_record.forEach(function (item) {\n\t\t\t\t// \t\t\t\tif (item._id == group_user_id[i]) {\n\t\t\t\t// \t\t\t\t\tid_existed = true;\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t});\n\t\t\t\t// \t\t\tif (!id_existed) {\n\t\t\t\t// \t\t\t\tgroup_user_record.push(item.user_visitor._id);\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t}\n\t\t\t\t// \t});\n\t\t\t\t// }\n\t\t\t\t// alert(JSON.stringify(group_user_record));\n\t\t\t\t// var arrLength = group_user_id.length;\n\t\t\t\t// var group_user_record = new Array();\n\t\t\t\t// jsonDataReturned.forEach(function (item) {\n\t\t\t\t// \tfor (var i = 0; i < arrLength; i++) {\n\t\t\t\t// \t\tif (group_user_id[i] == item.user_visitor._id) {\n\t\t\t\t// \t\t\tif (item.hasOwnProperty(\"visitor_dependent\")) {\n\t\t\t\t// \t\t\t\tgroup_user_record.push({\n\t\t\t\t// \t\t\t\t\trecord_id: item._id,\n\t\t\t\t// \t\t\t\t\tvisitor_fname: item.user_visitor.ic_fname,\n\t\t\t\t// \t\t\t\t\tvisitor_ic_num: item.user_visitor.ic_num,\n\t\t\t\t// \t\t\t\t\tvisitor_ic_address: item.user_visitor.ic_address,\n\t\t\t\t// \t\t\t\t\tvisitor_phone_no: item.user_visitor.phone_no,\n\t\t\t\t// \t\t\t\t\tvisitor_email: item.user_visitor.email,\n\t\t\t\t// \t\t\t\t\tdependent_fname: item.visitor_dependent.ic_fname,\n\t\t\t\t// \t\t\t\t\tdependent_ic_num: item.visitor_dependent.ic_num,\n\t\t\t\t// \t\t\t\t});\n\t\t\t\t// \t\t\t} else if (item.hasOwnProperty(\"user_visitor\")) {\n\t\t\t\t// \t\t\t\tgroup_user_record.push({\n\t\t\t\t// \t\t\t\t\trecord_id: item._id,\n\t\t\t\t// \t\t\t\t\tvisitor_fname: item.user_visitor.ic_fname,\n\t\t\t\t// \t\t\t\t\tvisitor_ic_num: item.user_visitor.ic_num,\n\t\t\t\t// \t\t\t\t\tvisitor_ic_address: item.user_visitor.ic_address,\n\t\t\t\t// \t\t\t\t\tvisitor_phone_no: item.user_visitor.phone_no,\n\t\t\t\t// \t\t\t\t\tvisitor_email: item.user_visitor.email,\n\t\t\t\t// \t\t\t\t});\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t}\n\t\t\t\t// \t}\n\t\t\t\t// });\n\t\t\t\t// alert(JSON.stringify(group_user_record));\n\n\t\t\t\t// jsonDataReturned.forEach(function (item) {\n\t\t\t\t// \tif (item.hasOwnProperty(\"visitor_dependent\")) {\n\t\t\t\t// \t\titem[\"ic_num_merged\"] = item.visitor_dependent.ic_num;\n\t\t\t\t// \t\titem[\"ic_fname_merged\"] =\n\t\t\t\t// \t\t\titem.visitor_dependent.ic_fname + \" (Dependent)\";\n\t\t\t\t// \t\titem[\"contact_info_merged\"] = {\n\t\t\t\t// \t\t\tvisitor_fname: item.user_visitor.ic_fname,\n\t\t\t\t// \t\t\tvisitor_ic_num: item.user_visitor.ic_num,\n\t\t\t\t// \t\t\tvisitor_ic_address: item.user_visitor.ic_address,\n\t\t\t\t// \t\t\tvisitor_phone_no: item.user_visitor.phone_no,\n\t\t\t\t// \t\t\tvisitor_email: item.user_visitor.email,\n\t\t\t\t// \t\t\tdependent_fname: item.visitor_dependent.ic_fname,\n\t\t\t\t// \t\t\tdependent_ic_num: item.visitor_dependent.ic_num,\n\t\t\t\t// \t\t};\n\t\t\t\t// \t} else if (item.hasOwnProperty(\"user_visitor\")) {\n\t\t\t\t// \t\titem[\"ic_num_merged\"] = item.user_visitor.ic_num;\n\t\t\t\t// \t\titem[\"ic_fname_merged\"] = item.user_visitor.ic_fname;\n\t\t\t\t// \t\titem[\"contact_info_merged\"] = {\n\t\t\t\t// \t\t\tvisitor_fname: item.user_visitor.ic_fname,\n\t\t\t\t// \t\t\tvisitor_ic_num: item.user_visitor.ic_num,\n\t\t\t\t// \t\t\tvisitor_ic_address: item.user_visitor.ic_address,\n\t\t\t\t// \t\t\tvisitor_phone_no: item.user_visitor.phone_no,\n\t\t\t\t// \t\t\tvisitor_email: item.user_visitor.email,\n\t\t\t\t// \t\t};\n\t\t\t\t// \t}\n\t\t\t\t// \titem.check_in_record.date_created = item.check_in_record.date_created\n\t\t\t\t// \t\t.replace(\"T\", \" \")\n\t\t\t\t// \t\t.substring(0, item.check_in_record.date_created.indexOf(\".\") - 3);\n\t\t\t\t// });\n\n\t\t\t\tthis.setState({ check_in_records: jsonData });\n\n\t\t\t\t// if (jsonData) {\n\t\t\t\t// \talert(\"Login successful\");\n\t\t\t\t// \t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t// } else {\n\t\t\t\t// \talert(\"Phone number or password is incorrect\");\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\thandleCheckContacted = (e) => {\n\t\tvar value = e.target.value;\n\t\talert(value + \" saved\");\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ modal_show: false });\n\t};\n\n\thandleShow = (contact_info) => {\n\t\tthis.setState({ modal_show: true, contact_info: contact_info });\n\t\t// alert(JSON.stringify(value));\n\t\t// this.view_casual_contacts(confirmed_case_check_in_id);\n\t};\n\n\trender() {\n\t\tvar { check_in_records, contact_info } = this.state;\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<Modal size=\"lg\" show={this.state.modal_show} onHide={this.handleClose}>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title>Contact Details</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t{contact_info === null ? (\n\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{contact_info.hasOwnProperty(\"dependent_fname\") ? (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\tDependent under{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{contact_info.visitor_fname +\n\t\t\t\t\t\t\t\t\t\t\t\t\" with IC \" +\n\t\t\t\t\t\t\t\t\t\t\t\tcontact_info.visitor_ic_num}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p>{contact_info.dependent_fname}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{contact_info.dependent_ic_num}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p>Visitor</p>\n\t\t\t\t\t\t\t\t\t\t<p>{contact_info.visitor_fname}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{contact_info.visitor_ic_num}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<p>{contact_info.visitor_phone_no}</p>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\twidth=\"150\"\n\t\t\t\t\t\t\t\t\tsrc={`https://qrcode.tec-it.com/API/QRCode?data=tel%3a${contact_info.visitor_phone_no}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<p>{contact_info.visitor_email}</p>\n\t\t\t\t\t\t\t\t<p>{contact_info.visitor_ic_address}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{/* <Button variant=\"primary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">View Casual Contact Check Ins</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<h2>Saved Simplified Casual Contact Check In Record</h2>\n\t\t\t\t\t{check_in_records == null ? (\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\tdata={check_in_records}\n\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Name\",\n\t\t\t\t\t\t\t\t// \taccessor: \"ic_fname_merged\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"IC\",\n\t\t\t\t\t\t\t\t// \taccessor: \"ic_num_merged\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Visitor Name\",\n\t\t\t\t\t\t\t\t\taccessor: \"user_visitor.ic_fname\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Visitor IC\",\n\t\t\t\t\t\t\t\t\taccessor: \"user_visitor.ic_num\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Dependent Name\",\n\t\t\t\t\t\t\t\t\taccessor: \"visitor_dependent.ic_fname\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Dependent IC\",\n\t\t\t\t\t\t\t\t\taccessor: \"visitor_dependent.ic_num\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Relationship\",\n\t\t\t\t\t\t\t\t// \taccessor: \"visitor_dependent.relationship\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Phone Number\",\n\t\t\t\t\t\t\t\t// \taccessor: \"user_visitor.phone_no\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Email\",\n\t\t\t\t\t\t\t\t// \taccessor: \"user_visitor.email\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Check In Date\",\n\t\t\t\t\t\t\t\t\taccessor: \"check_in_record.date_created\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Contact Details\",\n\t\t\t\t\t\t\t\t\taccessor: \"contact_info_merged\",\n\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleShow(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tView Contact Details\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Contacted\",\n\t\t\t\t\t\t\t\t// \taccessor: \"_id\",\n\t\t\t\t\t\t\t\t// \tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t// \t\t<div>\n\t\t\t\t\t\t\t\t// \t\t\t{/* <span>4 person </span>\n\t\t\t\t\t\t\t\t// \t\t\t<Link\n\t\t\t\t\t\t\t\t// \t\t\t\tto={{\n\t\t\t\t\t\t\t\t// \t\t\t\t\tpathname: `/view_casual_contact_check_ins/${value}`,\n\t\t\t\t\t\t\t\t// \t\t\t\t}}\n\t\t\t\t\t\t\t\t// \t\t\t>\n\t\t\t\t\t\t\t\t// \t\t\t\t<button class=\"manage_btn register btn btn-success btn-lg\">\n\t\t\t\t\t\t\t\t// \t\t\t\t\tView\n\t\t\t\t\t\t\t\t// \t\t\t\t</button>\n\t\t\t\t\t\t\t\t// \t\t\t</Link> */}\n\t\t\t\t\t\t\t\t// \t\t\t<input\n\t\t\t\t\t\t\t\t// \t\t\t\tname=\"is_contacted\"\n\t\t\t\t\t\t\t\t// \t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t// \t\t\t\t// checked={this.state.isGoing}\n\t\t\t\t\t\t\t\t// \t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t// \t\t\t\tonChange={this.handleCheckContacted.bind(this)}\n\t\t\t\t\t\t\t\t// \t\t\t/>\n\t\t\t\t\t\t\t\t// \t\t</div>\n\t\t\t\t\t\t\t\t// \t),\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tdefaultPageSize={5}\n\t\t\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default view_simp_casual_contact_check_ins;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\nimport ReactExport from \"react-export-excel\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nclass download_excel_casual_contacts extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.verifyToken();\n\t\tthis.state = {\n\t\t\tcheck_in_premises: null,\n\t\t\tcheck_in_id: null,\n\t\t\tgroup_record_id: null,\n\t\t\tcheck_in_records: null,\n\t\t\tconfirmed_case_details: null,\n\t\t\tselected_check_in_records: null,\n\t\t\tdependent_record: null,\n\t\t\tvisitor_record: null,\n\t\t\tverify_token: false,\n\t\t};\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {\n\t\tthis.state.check_in_id = this.props.match.params.check_in_id;\n\t\tthis.state.group_record_id = this.props.match.params.check_in_group_id;\n\t\t// alert(this.state.check_in_id + \" \" + this.state.group_record_id);\n\t\tthis.startup();\n\t}\n\n\tverifyToken = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tstartup = async () => {\n\t\t// alert(this.state.group_record_id);\n\t\t// await fetch(\"/getConfirmedCaseCheckIns\", {\n\t\t// \tmethod: \"POST\",\n\t\t// \theaders: {\n\t\t// \t\t\"Content-Type\": \"application/json\",\n\t\t// \t},\n\t\t// \tbody: JSON.stringify({\n\t\t// \t\t// check_in_id: this.state.check_in_id,\n\t\t// \t\tgroup_record_id: \"5f56262a43b9694580bcfdea\",\n\t\t// \t}),\n\t\t// })\n\t\t// \t.then((res) => {\n\t\t// \t\t// console.log(JSON.stringify(res.headers));\n\t\t// \t\treturn res.json();\n\t\t// \t})\n\t\t// \t.then((jsonData) => {\n\t\t// \t\t// alert(JSON.stringify(jsonData));\n\t\t// \t\tvar jsonDataReturned = jsonData;\n\t\t// \t\tvar premises_arr = new Array();\n\t\t// \t\tjsonDataReturned.forEach(function (item) {\n\t\t// \t\t\tpremises_arr.push(item.user_premiseowner);\n\t\t// \t\t});\n\t\t// \t\tthis.setState({ check_in_premises: premises_arr });\n\t\t// \t})\n\t\t// \t.catch((error) => {\n\t\t// \t\talert(\"Error: \" + error);\n\t\t// \t});\n\n\t\t// await fetch(\"/getSimpCasualContactCheckIns\", {\n\t\t// \tmethod: \"POST\",\n\t\t// \theaders: {\n\t\t// \t\t\"Content-Type\": \"application/json\",\n\t\t// \t},\n\t\t// \tbody: JSON.stringify({\n\t\t// \t\tcheck_in_id: \"5f43561cd405ce34145766f0\",\n\t\t// \t\tgroup_record_id: \"5f56262a43b9694580bcfdea\",\n\t\t// \t}),\n\t\t// })\n\t\t// \t.then((res) => {\n\t\t// \t\t// console.log(JSON.stringify(res.headers));\n\t\t// \t\treturn res.json();\n\t\t// \t})\n\t\t// \t.then((jsonData) => {\n\t\t// \t\talert(JSON.stringify(jsonData));\n\t\t// \t\t// var jsonDataReturned = jsonData;\n\t\t// \t\t// var premises_arr = new Array();\n\t\t// \t\t// jsonDataReturned.forEach(function (item) {\n\t\t// \t\t// \tpremises_arr.push(item.user_premiseowner);\n\t\t// \t\t// });\n\t\t// \t\tthis.setState({ check_in_records: jsonData });\n\t\t// \t})\n\t\t// \t.catch((error) => {\n\t\t// \t\talert(\"Error: \" + error);\n\t\t// \t});\n\n\t\tvar { check_in_id, group_record_id } = this.state;\n\n\t\tawait fetch(\"/getSelectedSavedCasualContactsGroups\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ group_record_id: group_record_id }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tvar confirmed_case_arr = new Array();\n\t\t\t\tvar jsonDataReturned = jsonData;\n\t\t\t\tif (jsonDataReturned.hasOwnProperty(\"confirmed_case_visitor\")) {\n\t\t\t\t\tconfirmed_case_arr.push({\n\t\t\t\t\t\t_id: jsonDataReturned._id,\n\t\t\t\t\t\tvisitor_and_dependent_fname:\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_visitor.ic_fname,\n\t\t\t\t\t\tvisitor_and_dependent_ic_num:\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_visitor.ic_num,\n\t\t\t\t\t});\n\t\t\t\t} else if (\n\t\t\t\t\tjsonDataReturned.hasOwnProperty(\"confirmed_case_dependent\")\n\t\t\t\t) {\n\t\t\t\t\tconfirmed_case_arr.push({\n\t\t\t\t\t\t_id: jsonDataReturned._id,\n\t\t\t\t\t\tvisitor_and_dependent_fname:\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_dependent.ic_fname +\n\t\t\t\t\t\t\t\" (Dependent)\",\n\t\t\t\t\t\tvisitor_and_dependent_ic_num:\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_dependent.ic_num,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// jsonDataReturned.date_created = jsonDataReturned.date_created\n\t\t\t\t// \t.replace(\"T\", \" \")\n\t\t\t\t// \t.substring(0, jsonDataReturned.date_created.indexOf(\".\") - 3);\n\n\t\t\t\tthis.setState({ confirmed_case_details: confirmed_case_arr });\n\n\t\t\t\t// alert(JSON.stringify(this.state.records_group));\n\n\t\t\t\t// if (jsonData) {\n\t\t\t\t// \talert(\"Login successful\");\n\t\t\t\t// \t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t// } else {\n\t\t\t\t// \talert(\"Phone number or password is incorrect\");\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/getSelectedConfirmedCaseCheckIns\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tcheck_in_id: check_in_id,\n\t\t\t\tcheck_in_group_id: group_record_id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tvar premise_arr = new Array();\n\n\t\t\t\tjsonData.check_in_record.date_created = jsonData.check_in_record.date_created\n\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t.substring(0, jsonData.check_in_record.date_created.indexOf(\".\") - 3);\n\n\t\t\t\tpremise_arr.push({\n\t\t\t\t\t_id: jsonData._id,\n\t\t\t\t\tpremise_name: jsonData.user_premiseowner.premise_name,\n\t\t\t\t\tpremise_owner_name: jsonData.user_premiseowner.owner_fname,\n\t\t\t\t\tpremise_owner_phone_no: jsonData.user_premiseowner.phone_no,\n\t\t\t\t\tpremise_owner_email: jsonData.user_premiseowner.email,\n\t\t\t\t\tpremise_owner_state: jsonData.user_premiseowner.premise_state,\n\t\t\t\t\tpremise_owner_address:\n\t\t\t\t\t\tjsonData.user_premiseowner.premise_address +\n\t\t\t\t\t\t\", \" +\n\t\t\t\t\t\tjsonData.user_premiseowner.premise_postcode +\n\t\t\t\t\t\t\" \" +\n\t\t\t\t\t\tjsonData.user_premiseowner.premise_state,\n\t\t\t\t\tconfirmed_case_check_in_date_time:\n\t\t\t\t\t\tjsonData.check_in_record.date_created,\n\t\t\t\t});\n\n\t\t\t\tthis.setState({ selected_check_in_records: premise_arr });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/getCasualContactCheckIns\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tcheck_in_id: check_in_id,\n\t\t\t\tcheck_in_group_id: group_record_id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\n\t\t\t\tvar jsonDataReturned = jsonData;\n\t\t\t\tvar visitor_arr = new Array();\n\t\t\t\tvar dependent_arr = new Array();\n\n\t\t\t\tjsonDataReturned.forEach(function (item) {\n\t\t\t\t\titem.check_in_record.date_created = item.check_in_record.date_created\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, item.check_in_record.date_created.indexOf(\".\") - 3);\n\n\t\t\t\t\tif (item.hasOwnProperty(\"visitor_dependent\")) {\n\t\t\t\t\t\tdependent_arr.push({\n\t\t\t\t\t\t\t_id: item._id,\n\t\t\t\t\t\t\tvisitor_fname: item.user_visitor.ic_fname,\n\t\t\t\t\t\t\tvisitor_ic_num: item.user_visitor.ic_num,\n\t\t\t\t\t\t\tvisitor_ic_address: item.user_visitor.ic_address,\n\t\t\t\t\t\t\tvisitor_phone_no: item.user_visitor.phone_no,\n\t\t\t\t\t\t\tvisitor_email: item.user_visitor.email,\n\t\t\t\t\t\t\tdependent_fname: item.visitor_dependent.ic_fname,\n\t\t\t\t\t\t\tdependent_ic_num: item.visitor_dependent.ic_num,\n\t\t\t\t\t\t\tdependent_check_in_date_time: item.check_in_record.date_created,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (item.hasOwnProperty(\"user_visitor\")) {\n\t\t\t\t\t\tvisitor_arr.push({\n\t\t\t\t\t\t\t_id: item._id,\n\t\t\t\t\t\t\tvisitor_fname: item.user_visitor.ic_fname,\n\t\t\t\t\t\t\tvisitor_ic_num: item.user_visitor.ic_num,\n\t\t\t\t\t\t\tvisitor_ic_address: item.user_visitor.ic_address,\n\t\t\t\t\t\t\tvisitor_phone_no: item.user_visitor.phone_no,\n\t\t\t\t\t\t\tvisitor_email: item.user_visitor.email,\n\t\t\t\t\t\t\tvisitor_check_in_date_time: item.check_in_record.date_created,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tdependent_record: dependent_arr,\n\t\t\t\t\tvisitor_record: visitor_arr,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar {\n\t\t\tcheck_in_premises,\n\t\t\tcheck_in_records,\n\t\t\tconfirmed_case_details,\n\t\t\tselected_check_in_records,\n\t\t\tdependent_record,\n\t\t\tvisitor_record,\n\t\t\tverify_token,\n\t\t} = this.state;\n\n\t\tif (!verify_token) return <div />;\n\n\t\tconst confirmed_case_details_dataSet = confirmed_case_details;\n\t\tconst selected_check_in_records_dataSet = selected_check_in_records;\n\t\tconst visitor_record_dataSet = visitor_record;\n\t\tconst dependent_record_dataSet = dependent_record;\n\n\t\t// const styledDataSet = [\n\t\t// \t{\n\t\t// \t\tcolumns: [\n\t\t// \t\t\t{\n\t\t// \t\t\t\tvalue: \"Confirmed Case Name\",\n\t\t// \t\t\t\twidthPx: 200,\n\t\t// \t\t\t\tstyle: { font: { sz: \"24\", bold: true } },\n\t\t// \t\t\t},\n\t\t// \t\t\t{\n\t\t// \t\t\t\tvalue: \"Confirmed Case IC\",\n\t\t// \t\t\t\twidthPx: 200,\n\t\t// \t\t\t\tstyle: { font: { sz: \"24\", bold: true } },\n\t\t// \t\t\t},\n\t\t// \t\t],\n\t\t// \t\tdata: [dataSet],\n\t\t// \t},\n\t\t// ];\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{confirmed_case_details == null ||\n\t\t\t\tselected_check_in_records == null ||\n\t\t\t\tdependent_record == null ||\n\t\t\t\tvisitor_record == null ? (\n\t\t\t\t\t<p>Download will begin shortly ...</p>\n\t\t\t\t) : (\n\t\t\t\t\t<ExcelFile hideElement>\n\t\t\t\t\t\t<ExcelSheet\n\t\t\t\t\t\t\tdata={confirmed_case_details_dataSet}\n\t\t\t\t\t\t\tname=\"Confirmed Case\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ExcelColumn label=\"ID\" value=\"_id\" />\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Confirmed Case Name\"\n\t\t\t\t\t\t\t\tvalue=\"visitor_and_dependent_fname\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Confirmed Case IC\"\n\t\t\t\t\t\t\t\tvalue=\"visitor_and_dependent_ic_num\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ExcelSheet>\n\t\t\t\t\t\t<ExcelSheet\n\t\t\t\t\t\t\tdata={selected_check_in_records_dataSet}\n\t\t\t\t\t\t\tname=\"Premise Checked In\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ExcelColumn label=\"ID\" value=\"_id\" />\n\t\t\t\t\t\t\t<ExcelColumn label=\"Premise Name\" value=\"premise_name\" />\n\t\t\t\t\t\t\t<ExcelColumn label=\"Owner Name\" value=\"premise_owner_name\" />\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Owner Phone No.\"\n\t\t\t\t\t\t\t\tvalue=\"premise_owner_phone_no\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn label=\"Owner Email\" value=\"premise_owner_email\" />\n\t\t\t\t\t\t\t<ExcelColumn label=\"Premise State\" value=\"premise_owner_state\" />\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Premise Address\"\n\t\t\t\t\t\t\t\tvalue=\"premise_owner_address\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Confirmed Case Check In Time\"\n\t\t\t\t\t\t\t\tvalue=\"confirmed_case_check_in_date_time\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ExcelSheet>\n\t\t\t\t\t\t<ExcelSheet data={visitor_record_dataSet} name=\"Visitor\">\n\t\t\t\t\t\t\t<ExcelColumn label=\"ID\" value=\"_id\" />\n\t\t\t\t\t\t\t<ExcelColumn label=\"Name\" value=\"visitor_fname\" />\n\t\t\t\t\t\t\t<ExcelColumn label=\"IC Number\" value=\"visitor_ic_num\" />\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Check In Time\"\n\t\t\t\t\t\t\t\tvalue=\"visitor_check_in_date_time\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Residential Address\"\n\t\t\t\t\t\t\t\tvalue=\"visitor_ic_address\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn label=\"Phone Number\" value=\"visitor_phone_no\" />\n\t\t\t\t\t\t\t<ExcelColumn label=\"Email\" value=\"visitor_email\" />\n\t\t\t\t\t\t\t{/* <ExcelColumn\n\t\t\t\t\t\tlabel=\"Checked In Premise Address\"\n\t\t\t\t\t\tvalue=\"premise_address\"\n\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t{/* <ExcelColumn label=\"Check In Record ID\" value=\"_id\" /> */}\n\t\t\t\t\t\t\t{/* <ExcelColumn label=\"Wallet Money\" value=\"amount\" />\n\t\t\t\t\t<ExcelColumn label=\"Gender\" value=\"sex\" />\n\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\tlabel=\"Marital Status\"\n\t\t\t\t\t\tvalue={(col) => (col.is_married ? \"Married\" : \"Single\")}\n\t\t\t\t\t/> */}\n\t\t\t\t\t\t</ExcelSheet>\n\t\t\t\t\t\t<ExcelSheet data={dependent_record_dataSet} name=\"Dependent\">\n\t\t\t\t\t\t\t<ExcelColumn label=\"ID\" value=\"_id\" />\n\t\t\t\t\t\t\t<ExcelColumn label=\"Dependent Name\" value=\"dependent_fname\" />\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Dependent IC Number\"\n\t\t\t\t\t\t\t\tvalue=\"dependent_ic_num\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Dependent Check In Time\"\n\t\t\t\t\t\t\t\tvalue=\"dependent_check_in_date_time\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Dependent Under (Name)\"\n\t\t\t\t\t\t\t\tvalue=\"visitor_fname\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Dependent Under (IC Number)\"\n\t\t\t\t\t\t\t\tvalue=\"visitor_ic_num\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Dependent Under (Residential Address)\"\n\t\t\t\t\t\t\t\tvalue=\"visitor_ic_address\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Dependent Under (Phone Number)\"\n\t\t\t\t\t\t\t\tvalue=\"visitor_phone_no\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Dependent Under (Email)\"\n\t\t\t\t\t\t\t\tvalue=\"visitor_email\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ExcelSheet>\n\t\t\t\t\t</ExcelFile>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default download_excel_casual_contacts;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\nimport ReactExport from \"react-export-excel\";\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\nclass download_excel_infected_premise extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.verifyToken();\n\t\tthis.state = {\n\t\t\tcheck_in_premises: null,\n\t\t\tcheck_in_id: null,\n\t\t\tgroup_record_id: null,\n\t\t\tcheck_in_records: null,\n\t\t\tconfirmed_case_details: null,\n\t\t\tselected_check_in_records: null,\n\t\t\tdependent_record: null,\n\t\t\tvisitor_record: null,\n\t\t\tinfected_premise: null,\n\t\t\tverify_token: null,\n\t\t};\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {\n\t\tthis.state.group_record_id = this.props.match.params.check_in_group_id;\n\t\t// alert(this.state.check_in_id + \" \" + this.state.group_record_id);\n\t\tthis.startup();\n\t}\n\n\tverifyToken = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tgetCasualContactCount = async (checkInRecord) => {\n\t\tawait fetch(\"/getCasualContactCount\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ checkInRecord }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tvar infected_premise_arr = new Array();\n\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\tinfected_premise_arr.push({\n\t\t\t\t\t\t_id: item._id,\n\t\t\t\t\t\tpremise_name: item.user_premiseowner.premise_name,\n\t\t\t\t\t\tpremise_owner_name: item.user_premiseowner.owner_fname,\n\t\t\t\t\t\tpremise_owner_phone_no: item.user_premiseowner.phone_no,\n\t\t\t\t\t\tpremise_owner_email: item.user_premiseowner.email,\n\t\t\t\t\t\tpremise_owner_state: item.user_premiseowner.premise_state,\n\t\t\t\t\t\tpremise_owner_address:\n\t\t\t\t\t\t\titem.user_premiseowner.premise_address +\n\t\t\t\t\t\t\t\", \" +\n\t\t\t\t\t\t\titem.user_premiseowner.premise_postcode +\n\t\t\t\t\t\t\t\" \" +\n\t\t\t\t\t\t\titem.user_premiseowner.premise_state,\n\t\t\t\t\t\tconfirmed_case_check_in_date_time:\n\t\t\t\t\t\t\titem.check_in_record.date_created,\n\t\t\t\t\t\tcasual_contact_count: item.casual_contact_count,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tthis.setState({ infected_premise: infected_premise_arr });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tstartup = async () => {\n\t\tvar { group_record_id } = this.state;\n\n\t\tawait fetch(\"/getSelectedSavedCasualContactsGroups\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ group_record_id: group_record_id }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tvar confirmed_case_arr = new Array();\n\t\t\t\tvar jsonDataReturned = jsonData;\n\t\t\t\tif (jsonDataReturned.hasOwnProperty(\"confirmed_case_visitor\")) {\n\t\t\t\t\tconfirmed_case_arr.push({\n\t\t\t\t\t\t_id: jsonDataReturned._id,\n\t\t\t\t\t\tvisitor_and_dependent_fname:\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_visitor.ic_fname,\n\t\t\t\t\t\tvisitor_and_dependent_ic_num:\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_visitor.ic_num,\n\t\t\t\t\t});\n\t\t\t\t} else if (\n\t\t\t\t\tjsonDataReturned.hasOwnProperty(\"confirmed_case_dependent\")\n\t\t\t\t) {\n\t\t\t\t\tconfirmed_case_arr.push({\n\t\t\t\t\t\t_id: jsonDataReturned._id,\n\t\t\t\t\t\tvisitor_and_dependent_fname:\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_dependent.ic_fname +\n\t\t\t\t\t\t\t\" (Dependent)\",\n\t\t\t\t\t\tvisitor_and_dependent_ic_num:\n\t\t\t\t\t\t\tjsonDataReturned.confirmed_case_dependent.ic_num,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.setState({ confirmed_case_details: confirmed_case_arr });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/getConfirmedCaseCheckIns\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tgroup_record_id: group_record_id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\t// var jsonDataReturned = jsonData;\n\n\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\t// alert(JSON.stringify(item.check_in_record.user_premiseowner));\n\t\t\t\t\titem.check_in_record.date_created = item.check_in_record.date_created\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, item.check_in_record.date_created.indexOf(\".\") - 3);\n\t\t\t\t});\n\n\t\t\t\t// this.setState({ check_in_records: jsonData });\n\t\t\t\tthis.getCasualContactCount(jsonData);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar { confirmed_case_details, infected_premise, verify_token } = this.state;\n\n\t\tconst confirmed_case_details_dataSet = confirmed_case_details;\n\t\tconst infected_premise_dataSet = infected_premise;\n\n\t\tif (!verify_token) return <div />;\n\n\t\t// const styledDataSet = [\n\t\t// \t{\n\t\t// \t\tcolumns: [\n\t\t// \t\t\t{\n\t\t// \t\t\t\tvalue: \"Confirmed Case Name\",\n\t\t// \t\t\t\twidthPx: 200,\n\t\t// \t\t\t\tstyle: { font: { sz: \"24\", bold: true } },\n\t\t// \t\t\t},\n\t\t// \t\t\t{\n\t\t// \t\t\t\tvalue: \"Confirmed Case IC\",\n\t\t// \t\t\t\twidthPx: 200,\n\t\t// \t\t\t\tstyle: { font: { sz: \"24\", bold: true } },\n\t\t// \t\t\t},\n\t\t// \t\t],\n\t\t// \t\tdata: [dataSet],\n\t\t// \t},\n\t\t// ];\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{confirmed_case_details == null || infected_premise == null ? (\n\t\t\t\t\t<p>Download will begin shortly ...</p>\n\t\t\t\t) : (\n\t\t\t\t\t<ExcelFile hideElement>\n\t\t\t\t\t\t<ExcelSheet\n\t\t\t\t\t\t\tdata={confirmed_case_details_dataSet}\n\t\t\t\t\t\t\tname=\"Confirmed Case\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ExcelColumn label=\"ID\" value=\"_id\" />\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Confirmed Case Name\"\n\t\t\t\t\t\t\t\tvalue=\"visitor_and_dependent_fname\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Confirmed Case IC\"\n\t\t\t\t\t\t\t\tvalue=\"visitor_and_dependent_ic_num\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ExcelSheet>\n\t\t\t\t\t\t<ExcelSheet data={infected_premise_dataSet} name=\"Infected Premise\">\n\t\t\t\t\t\t\t<ExcelColumn label=\"ID\" value=\"_id\" />\n\t\t\t\t\t\t\t<ExcelColumn label=\"Premise Name\" value=\"premise_name\" />\n\t\t\t\t\t\t\t<ExcelColumn label=\"Owner Name\" value=\"premise_owner_name\" />\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Owner Phone No.\"\n\t\t\t\t\t\t\t\tvalue=\"premise_owner_phone_no\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn label=\"Owner Email\" value=\"premise_owner_email\" />\n\t\t\t\t\t\t\t<ExcelColumn label=\"Premise State\" value=\"premise_owner_state\" />\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Premise Address\"\n\t\t\t\t\t\t\t\tvalue=\"premise_owner_address\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Confirmed Case Check In Time\"\n\t\t\t\t\t\t\t\tvalue=\"confirmed_case_check_in_date_time\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExcelColumn\n\t\t\t\t\t\t\t\tlabel=\"Number of Casual Contact\"\n\t\t\t\t\t\t\t\tvalue=\"casual_contact_count\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ExcelSheet>\n\t\t\t\t\t</ExcelFile>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default download_excel_infected_premise;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\nimport GoogleMapReact from \"google-map-react\";\n\nconst AnyReactComponent = ({}) => (\n\t<img\n\t\tsrc={require(\"./assets/marker_icon.png\")}\n\t\tstyle={{ height: 35, width: 35 }}\n\t/>\n);\n\nclass add_hotspot extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.startup();\n\t\tthis.state = {\n\t\t\tsearch_prediction: null,\n\t\t\tsearch_prediction_selected: true,\n\t\t\tregion: { lat: 5.4022499, lng: 100.3093698 },\n\t\t\tplace_lat: 5.4022499,\n\t\t\tplace_lng: 100.3093698,\n\t\t\tplace_id: null,\n\t\t\tplace_name: null,\n\t\t\tsearch_query: null,\n\t\t\thotspot_place_name: null,\n\t\t\thotspot_place_state: \"KUALA LUMPUR\",\n\t\t\thotspot_place_address: null,\n\t\t\thotspot_description: null,\n\t\t\thotspot_remark: null,\n\t\t\tverify_token: false,\n\t\t};\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {}\n\n\tstartup = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\taddNewHotspot = async () => {\n\t\tvar {\n\t\t\tplace_id,\n\t\t\tplace_lat,\n\t\t\tplace_lng,\n\t\t\thotspot_place_name,\n\t\t\thotspot_place_address,\n\t\t\thotspot_place_state,\n\t\t\thotspot_description,\n\t\t\thotspot_remark,\n\t\t} = this.state;\n\n\t\tif (\n\t\t\thotspot_place_name == null ||\n\t\t\thotspot_place_name == \"\" ||\n\t\t\thotspot_description == null ||\n\t\t\thotspot_description == \"\" ||\n\t\t\thotspot_remark == null ||\n\t\t\thotspot_remark == \"\" ||\n\t\t\thotspot_place_address == null ||\n\t\t\thotspot_place_address == \"\" ||\n\t\t\thotspot_place_state == null ||\n\t\t\thotspot_place_state == \"\"\n\t\t) {\n\t\t\talert(\"Please fill in every input\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tplace_id == null ||\n\t\t\tplace_id == \"\" ||\n\t\t\tplace_lat == null ||\n\t\t\tplace_lat == \"\" ||\n\t\t\tplace_lng == null ||\n\t\t\tplace_lng == \"\"\n\t\t) {\n\t\t\talert(\"Please select a location\");\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\"/add_new_hotspot\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tplace_id: place_id,\n\t\t\t\tplace_lat: place_lat.toString(),\n\t\t\t\tplace_lng: place_lng.toString(),\n\t\t\t\tplace_name: hotspot_place_name,\n\t\t\t\tplace_address: hotspot_place_address,\n\t\t\t\tplace_state: hotspot_place_state,\n\t\t\t\tdescription: hotspot_description,\n\t\t\t\tremark: hotspot_remark,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (response == \"success\") {\n\t\t\t\t\talert(\"Added successfully\");\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t} else {\n\t\t\t\t\talert(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tgetSearchLocation = async (place_id) => {\n\t\tconst query_get_home_location = `/getSearchLocation?place_id=${place_id}`;\n\t\tconsole.log(query_get_home_location);\n\t\tawait axios\n\t\t\t.get(query_get_home_location)\n\t\t\t.then((response) => {\n\t\t\t\tvar latitude_res = response.data.result.geometry.location.lat;\n\t\t\t\tvar longitude_res = response.data.result.geometry.location.lng;\n\t\t\t\tthis.setState({\n\t\t\t\t\tregion: {\n\t\t\t\t\t\tlat: latitude_res,\n\t\t\t\t\t\tlng: longitude_res,\n\t\t\t\t\t},\n\t\t\t\t\tplace_lat: latitude_res,\n\t\t\t\t\tplace_lng: longitude_res,\n\t\t\t\t\tplace_id: place_id,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(error);\n\t\t\t});\n\t};\n\n\tonPressResult = async (place_id, place_name) => {\n\t\tthis.setState({\n\t\t\tsearch_prediction_selected: true,\n\t\t\tsearch_query: \"\",\n\t\t\tplace_name: place_name,\n\t\t});\n\t\tawait this.getSearchLocation(place_id);\n\t};\n\n\tsearchLocation = async (value) => {\n\t\tconst query_search_home_adress = `/searchLocation?search_query=${value}`;\n\t\tconsole.log(query_search_home_adress);\n\t\tawait axios\n\t\t\t.get(query_search_home_adress)\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({ search_prediction_selected: false });\n\t\t\t\tvar predicted_places = [];\n\t\t\t\tvar predictions = response.data.predictions;\n\t\t\t\tpredictions.forEach(function (item) {\n\t\t\t\t\tpredicted_places.push({\n\t\t\t\t\t\tplace_name: item.description,\n\t\t\t\t\t\tplace_id: item.place_id,\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tsearch_prediction: predicted_places,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(error);\n\t\t\t});\n\t};\n\n\thandleChange = async (e) => {\n\t\tthis.setState({ search_query: e.target.value });\n\t\tif (e.target.value.length > 10) {\n\t\t\tawait this.searchLocation(e.target.value);\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tsearch_prediction: [],\n\t\t\t});\n\t\t}\n\t};\n\n\trender() {\n\t\tvar {\n\t\t\tsearch_prediction,\n\t\t\tsearch_prediction_selected,\n\t\t\tregion,\n\t\t\tplace_lat,\n\t\t\tplace_lng,\n\t\t\tplace_id,\n\t\t\tsearch_query,\n\t\t\tverify_token,\n\t\t} = this.state;\n\n\t\tif (!verify_token) return <div />;\n\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">Add New Hotspot</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<h2>Add New Hotspot</h2>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div id=\"update_hotspot_details_outer\">\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"place_name\">Place Name</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"Place Name\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"place_name\"\n\t\t\t\t\t\t\t\tid=\"place_name\"\n\t\t\t\t\t\t\t\tref=\"place_name\"\n\t\t\t\t\t\t\t\tvalue={this.state.hotspot_place_name}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ hotspot_place_name: e.target.value });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"place_address\">Address</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"Address\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"place_address\"\n\t\t\t\t\t\t\t\tid=\"place_address\"\n\t\t\t\t\t\t\t\tref=\"place_address\"\n\t\t\t\t\t\t\t\tvalue={this.state.hotspot_place_address}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ hotspot_place_address: e.target.value });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"place_state\">State</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"place_state\"\n\t\t\t\t\t\t\t\tid=\"place_state\"\n\t\t\t\t\t\t\t\tref=\"place_state\"\n\t\t\t\t\t\t\t\tvalue={this.state.hotspot_place_state}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ hotspot_place_state: e.target.value });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"KUALA LUMPUR\">KUALA LUMPUR</option>\n\t\t\t\t\t\t\t\t<option value=\"LABUAN\">LABUAN</option>\n\t\t\t\t\t\t\t\t<option value=\"PUTRAJAYA\">PUTRAJAYA</option>\n\t\t\t\t\t\t\t\t<option value=\"JOHOR\">JOHOR</option>\n\t\t\t\t\t\t\t\t<option value=\"KEDAH\">KEDAH</option>\n\t\t\t\t\t\t\t\t<option value=\"KELANTAN\">KELANTAN</option>\n\t\t\t\t\t\t\t\t<option value=\"MELAKA\">MELAKA</option>\n\t\t\t\t\t\t\t\t<option value=\"NEGERI SEMBILAN\">NEGERI SEMBILAN</option>\n\t\t\t\t\t\t\t\t<option value=\"PAHANG\">PAHANG</option>\n\t\t\t\t\t\t\t\t<option value=\"PERAK\">PERAK</option>\n\t\t\t\t\t\t\t\t<option value=\"PERLIS\">PERLIS</option>\n\t\t\t\t\t\t\t\t<option value=\"PULAU PINANG\">PULAU PINANG</option>\n\t\t\t\t\t\t\t\t<option value=\"SABAH\">SABAH</option>\n\t\t\t\t\t\t\t\t<option value=\"SARAWAK\">SARAWAK</option>\n\t\t\t\t\t\t\t\t<option value=\"SELANGOR\">SELANGOR</option>\n\t\t\t\t\t\t\t\t<option value=\"TERENGGANU\">TERENGGANU</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"description\">Description</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\tmaxlength=\"1000\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\tref=\"description\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\thotspot_description: e.target.value,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.hotspot_description}\n\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"remark\">Remark</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tplaceholder=\"Remark\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\tmaxlength=\"1000\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"remark\"\n\t\t\t\t\t\t\t\tid=\"remark\"\n\t\t\t\t\t\t\t\tref=\"remark\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ hotspot_remark: e.target.value });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.hotspot_remark}\n\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<div class=\"label_outer_add\">\n\t\t\t\t\t\t\t<label for=\"search_query\">Search for location</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"search_place_outer_add\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"Search place\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"search_query\"\n\t\t\t\t\t\t\t\tid=\"search_query\"\n\t\t\t\t\t\t\t\tref=\"search_query\"\n\t\t\t\t\t\t\t\tvalue={this.state.search_query}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.handleChange(e);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass={\n\t\t\t\t\t\t\t\t\tsearch_prediction_selected\n\t\t\t\t\t\t\t\t\t\t? \"predict_dropdown_hidden\"\n\t\t\t\t\t\t\t\t\t\t: \"predict_dropdown_show_add\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{search_prediction === null ? (\n\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\tsearch_prediction.map((item) => (\n\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingVertical: 10, cursor: \"pointer\" }}\n\t\t\t\t\t\t\t\t\t\t\tkey={item.place_id}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\tthis.onPressResult(item.place_id, item.place_name)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{item.place_name}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{place_id == null ? (\n\t\t\t\t\t\t\t<div class=\"no_location_selected\"> No location is selected</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div class=\"location_selected\">\n\t\t\t\t\t\t\t\tLocation has been selected {\"\\n\"}\n\t\t\t\t\t\t\t\t<p class=\"mb-0\">{this.state.place_name}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<div style={{ height: \"500px\", width: \"750px\" }}>\n\t\t\t\t\t\t\t<GoogleMapReact\n\t\t\t\t\t\t\t\t// bootstrapURLKeys={\n\t\t\t\t\t\t\t\t// \t{\n\t\t\t\t\t\t\t\t// \t\tkey: \"AIzaSyDV2M6vNxqRZbKeWuJJ4kMyt9K1hOgSvlo\",\n\t\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\tcenter={region}\n\t\t\t\t\t\t\t\tdefaultZoom={16}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AnyReactComponent\n\t\t\t\t\t\t\t\t\tlat={place_lat}\n\t\t\t\t\t\t\t\t\tlng={place_lng}\n\t\t\t\t\t\t\t\t\t// text=\"My Marker\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</GoogleMapReact>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-5 py-2 manage_btn register btn btn-success\"\n\t\t\t\t\t\t\t// disabled={this.isDisable(value)}\n\t\t\t\t\t\t\tonClick={() => this.addNewHotspot()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdd Hotspot\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default add_hotspot;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass view_hotspots extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.verifyToken();\n\t\tthis.state = {\n\t\t\trecords_group: null,\n\t\t\tsearch_query: null,\n\t\t\tverify_token: false,\n\t\t};\n\t\tthis.startup();\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {}\n\n\tverifyToken = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tgetHotspotCount = async (groupRecord) => {\n\t\tawait fetch(\"/getHotspotCount\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ groupRecord }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tthis.setState({ records_group: jsonData });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tstartup = async () => {\n\t\tawait fetch(\"/getSavedCasualContactsGroups\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\talert(\"No record found\");\n\t\t\t\t} else {\n\t\t\t\t\tvar jsonDataReturned = jsonData;\n\t\t\t\t\tjsonDataReturned.forEach(function (item) {\n\t\t\t\t\t\tif (item.hasOwnProperty(\"confirmed_case_visitor\")) {\n\t\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_visitor));\n\t\t\t\t\t\t\titem.visitor_and_dependent_fname =\n\t\t\t\t\t\t\t\titem.confirmed_case_visitor.ic_fname;\n\t\t\t\t\t\t\titem.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\t\titem.confirmed_case_visitor.ic_num;\n\t\t\t\t\t\t} else if (item.hasOwnProperty(\"confirmed_case_dependent\")) {\n\t\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_dependent));\n\t\t\t\t\t\t\titem.visitor_and_dependent_fname =\n\t\t\t\t\t\t\t\titem.confirmed_case_dependent.ic_fname + \" (Dependent)\";\n\t\t\t\t\t\t\titem.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\t\titem.confirmed_case_dependent.ic_num;\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.date_created = item.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t});\n\t\t\t\t\t// alert(JSON.stringify(jsonDataReturned));\n\n\t\t\t\t\t// this.setState({ records_group: jsonDataReturned });\n\t\t\t\t\tthis.getHotspotCount(jsonDataReturned);\n\t\t\t\t}\n\t\t\t\t// alert(JSON.stringify(this.state.records_group));\n\n\t\t\t\t// if (jsonData) {\n\t\t\t\t// \talert(\"Login successful\");\n\t\t\t\t// \t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t// } else {\n\t\t\t\t// \talert(\"Phone number or password is incorrect\");\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tisDisable = (value) => {\n\t\tvar { records_group } = this.state;\n\n\t\tvar disabled = false;\n\t\trecords_group.forEach(function (item) {\n\t\t\t// alert(value);\n\t\t\tif (item._id == value) {\n\t\t\t\t// alert(item.hotspot_count);\n\t\t\t\tif (item.hotspot_count == 0) {\n\t\t\t\t\tdisabled = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// alert(disabled);\n\t\treturn disabled;\n\t};\n\n\tisDisable_1 = (value) => {\n\t\tvar { records_group } = this.state;\n\n\t\tvar disabled = false;\n\t\trecords_group.forEach(function (item) {\n\t\t\t// alert(value);\n\t\t\tif (item._id == value) {\n\t\t\t\t// alert(item.hotspot_count);\n\t\t\t\tif (item.hotspot_count == 0) {\n\t\t\t\t\tdisabled = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// alert(disabled);\n\t\treturn disabled;\n\t};\n\n\thandleCopyID = (sid) => {\n\t\tnavigator.clipboard.writeText(sid);\n\t\t// alert(\"ID copied: \" + sid);\n\t};\n\n\tconfirm_delete = async (record_id) => {\n\t\tif (\n\t\t\twindow.confirm(\n\t\t\t\t\"Confirm to delete? All of the hotspots record under this confirmed case will be deleted.\"\n\t\t\t)\n\t\t) {\n\t\t\tawait fetch(\"/delete_all_hotspot_record\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ record_id: record_id }),\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\t\treturn res.text();\n\t\t\t\t})\n\t\t\t\t.then((jsonData) => {\n\t\t\t\t\tif (jsonData) {\n\t\t\t\t\t\tthis.startup();\n\t\t\t\t\t\talert(\"Record has been deleted successfully\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert(\"Error occured while deleting the record\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\talert(\"Error: \" + error);\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t};\n\n\tsubmitSearch = async () => {\n\t\tvar { search_query } = this.state;\n\n\t\tif (search_query == null) {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tif (search_query.trim() == \"\") {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\"/search_casual_contact_group\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ search_query: search_query }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\talert(\"No record found\");\n\t\t\t\t} else {\n\t\t\t\t\tvar jsonDataReturned = jsonData;\n\t\t\t\t\tjsonDataReturned.forEach(function (item) {\n\t\t\t\t\t\tif (item.hasOwnProperty(\"confirmed_case_visitor\")) {\n\t\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_visitor));\n\t\t\t\t\t\t\titem.visitor_and_dependent_fname =\n\t\t\t\t\t\t\t\titem.confirmed_case_visitor.ic_fname;\n\t\t\t\t\t\t\titem.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\t\titem.confirmed_case_visitor.ic_num;\n\t\t\t\t\t\t} else if (item.hasOwnProperty(\"confirmed_case_dependent\")) {\n\t\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_dependent));\n\t\t\t\t\t\t\titem.visitor_and_dependent_fname =\n\t\t\t\t\t\t\t\titem.confirmed_case_dependent.ic_fname + \" (Dependent)\";\n\t\t\t\t\t\t\titem.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\t\titem.confirmed_case_dependent.ic_num;\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.date_created = item.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t});\n\t\t\t\t\t// alert(JSON.stringify(jsonDataReturned));\n\n\t\t\t\t\t// this.setState({ records_group: jsonDataReturned });\n\t\t\t\t\tthis.getHotspotCount(jsonDataReturned);\n\t\t\t\t}\n\t\t\t\t// alert(JSON.stringify(this.state.records_group));\n\n\t\t\t\t// if (jsonData) {\n\t\t\t\t// \talert(\"Login successful\");\n\t\t\t\t// \t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t// } else {\n\t\t\t\t// \talert(\"Phone number or password is incorrect\");\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar { records_group, verify_token } = this.state;\n\n\t\tif (!verify_token) return <div />;\n\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">View Existing Hotspots</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<h2>Confirmed Case Record</h2>\n\t\t\t\t\t<div class=\"search_outer\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"form-control col-sm-3\"\n\t\t\t\t\t\t\t\tid=\"search_query\"\n\t\t\t\t\t\t\t\tname=\"search_query\"\n\t\t\t\t\t\t\t\tvalue={this.state.search_query}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ search_query: e.target.value });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tplaceholder=\"Search ID\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-success col-sm-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.submitSearch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t{records_group == null ? (\n\t\t\t\t\t\t<p>Loading ...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\tdata={records_group}\n\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"ID\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\twidth: 120,\n\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t{\"...\" +\n\t\t\t\t\t\t\t\t\t\t\t\trow.value.slice(row.value.length - 4).toUpperCase() +\n\t\t\t\t\t\t\t\t\t\t\t\t\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"https://www.flaticon.com/svg/static/icons/svg/60/60990.svg\"\n\t\t\t\t\t\t\t\t\t\t\t\twidth={17}\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Copy full ID\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"copy_id_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleCopyID(row.value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Confirmed Case Name\",\n\t\t\t\t\t\t\t\t\taccessor: \"visitor_and_dependent_fname\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Confirmed Case IC\",\n\t\t\t\t\t\t\t\t\taccessor: \"visitor_and_dependent_ic_num\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Total Hotspots\",\n\t\t\t\t\t\t\t\t\taccessor: \"hotspot_count\",\n\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">{row.value + \" place(s)\"}</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Total Casual Contact\",\n\t\t\t\t\t\t\t\t// \taccessor: \"casual_contact_count\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Day Range\",\n\t\t\t\t\t\t\t\t// \taccessor: \"day_range_check_in\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Time Range (Before)\",\n\t\t\t\t\t\t\t\t// \taccessor: \"time_range_check_in_before\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Time Range (After)\",\n\t\t\t\t\t\t\t\t// \taccessor: \"time_range_check_in_after\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Date Created\",\n\t\t\t\t\t\t\t\t\taccessor: \"date_created\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"View Hotspots\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t{/* <span>4 person </span> */}\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: `/view_hotspots_each/${value}`,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.isDisable(value)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Delete\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-danger\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.isDisable_1(value)}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.confirm_delete(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDelete All\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"View Simplified Casual Contacts\",\n\t\t\t\t\t\t\t\t// \taccessor: \"_id\",\n\t\t\t\t\t\t\t\t// \tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t// \t\t<div>\n\t\t\t\t\t\t\t\t// \t\t\t{/* <span>4 person </span> */}\n\t\t\t\t\t\t\t\t// \t\t\t<Link\n\t\t\t\t\t\t\t\t// \t\t\t\tto={{\n\t\t\t\t\t\t\t\t// \t\t\t\t\tpathname: `/view_simp_casual_contact_check_ins/${value}`,\n\t\t\t\t\t\t\t\t// \t\t\t\t}}\n\t\t\t\t\t\t\t\t// \t\t\t>\n\t\t\t\t\t\t\t\t// \t\t\t\t<button class=\"manage_btn register btn btn-success\">\n\t\t\t\t\t\t\t\t// \t\t\t\t\tView Simplified\n\t\t\t\t\t\t\t\t// \t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t// \t\t\t</Link>\n\t\t\t\t\t\t\t\t// \t\t</div>\n\t\t\t\t\t\t\t\t// \t),\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tdefaultPageSize={10}\n\t\t\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default view_hotspots;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\nimport GoogleMapReact from \"google-map-react\";\n\nconst AnyReactComponent = ({}) => (\n\t<img\n\t\tsrc={require(\"./assets/hotspot_icon.png\")}\n\t\tstyle={{ height: 35, width: 35 }}\n\t/>\n);\n\nclass view_hotspots_each extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.verifyToken();\n\t\tthis.state = {\n\t\t\tgroup_record_id: null,\n\t\t\tpremise_hotpots_record: null,\n\t\t\thome_hotpots_record: null,\n\t\t\tselected_records_group: null,\n\t\t\tmodal_show: false,\n\t\t\tmodal_show_1: false,\n\t\t\tpremise_details: null,\n\t\t\tpremise_place: null,\n\t\t\tsearch_prediction: null,\n\t\t\tsearch_prediction_selected: true,\n\t\t\tregion: null,\n\t\t\tplace_lat: null,\n\t\t\tplace_lng: null,\n\t\t\tplace_id: null,\n\t\t\tplace_name: null,\n\t\t\tsearch_query: null,\n\t\t\tshow_phone_no_qr: false,\n\t\t\tverify_token: false,\n\t\t\tsearch_query_1: null,\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {\n\t\tthis.state.group_record_id = this.props.match.params.group_record_id;\n\t\tthis.startup();\n\t\t// alert(this.props.match.params.group_record_id);\n\t}\n\n\tverifyToken = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\t// getEachPremiseName = async (confirmed_case_check_ins) => {\n\t// \t// var confirmed_case_check_ins_returned = new Array();\n\t// \tvar counter = 0;\n\n\t// \tconfirmed_case_check_ins.forEach(async function (item) {\n\t// \t\t// alert(JSON.stringify(item.check_in_record.user_premiseowner));\n\t// \t\tawait fetch(\"/getEachPremiseName\", {\n\t// \t\t\tmethod: \"POST\",\n\t// \t\t\theaders: {\n\t// \t\t\t\t\"Content-Type\": \"application/json\",\n\t// \t\t\t},\n\t// \t\t\tbody: JSON.stringify({\n\t// \t\t\t\tuser_premiseowner_id: item.check_in_record.user_premiseowner,\n\t// \t\t\t}),\n\t// \t\t})\n\t// \t\t\t.then((res) => {\n\t// \t\t\t\t// console.log(JSON.stringify(res.headers));\n\t// \t\t\t\treturn res.json();\n\t// \t\t\t})\n\t// \t\t\t.then((jsonData) => {\n\t// \t\t\t\t// alert(JSON.stringify(jsonData.premise_name));\n\t// \t\t\t\t// var jsonDataReturned = jsonData;\n\t// \t\t\t\titem.premise_name = jsonData.premise_name;\n\t// \t\t\t\t// alert(JSON.stringify(item));\n\n\t// \t\t\t\t// alert(JSON.stringify(item));\n\t// \t\t\t\t// confirmed_case_check_ins_returned.push(item);\n\t// \t\t\t\t// alert(JSON.stringify(confirmed_case_check_ins_returned));\n\t// \t\t\t\t// this.getEachPremiseName(jsonData);\n\t// \t\t\t\t// jsonDataReturned.forEach(function (item) {\n\t// \t\t\t\t// item.premise_name = item.premise_name;\n\t// \t\t\t\t// alert(JSON.stringify(item.check_in_record.user_premiseowner));\n\t// \t\t\t\t// });\n\t// \t\t\t})\n\t// \t\t\t.catch((error) => {\n\t// \t\t\t\talert(\"Error: \" + error);\n\t// \t\t\t});\n\n\t// \t\tcounter += 1;\n\n\t// \t\t// if (counter == confirmed_case_check_ins.length) {\n\t// \t\t// \t// console.log(\"endOfLoop\");\n\t// \t\t// \talert(JSON.stringify(confirmed_case_check_ins_returned));\n\t// \t\t// \tthis.setState({ check_in_records: confirmed_case_check_ins_returned });\n\t// \t\t// }\n\t// \t});\n\t// \t// alert(JSON.stringify(this.state.check_in_records));\n\t// \t// this.setState({ check_in_records: confirmed_case_check_ins_returned });\n\t// };\n\n\tgetCasualContactCount = async (checkInRecord) => {\n\t\tawait fetch(\"/getCasualContactCount\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ checkInRecord }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tthis.setState({ check_in_records: jsonData });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tstartup = async () => {\n\t\t// alert(this.state.group_record_id);\n\t\tawait fetch(\"/getSelectedSavedCasualContactsGroups\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ group_record_id: this.state.group_record_id }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tvar jsonDataReturned = jsonData;\n\t\t\t\tif (jsonDataReturned.hasOwnProperty(\"confirmed_case_visitor\")) {\n\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_visitor));\n\t\t\t\t\tjsonDataReturned.visitor_and_dependent_fname =\n\t\t\t\t\t\tjsonDataReturned.confirmed_case_visitor.ic_fname;\n\t\t\t\t\tjsonDataReturned.visitor_and_dependent_ic_num =\n\t\t\t\t\t\tjsonDataReturned.confirmed_case_visitor.ic_num;\n\t\t\t\t} else if (\n\t\t\t\t\tjsonDataReturned.hasOwnProperty(\"confirmed_case_dependent\")\n\t\t\t\t) {\n\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_dependent));\n\t\t\t\t\tjsonDataReturned.visitor_and_dependent_fname =\n\t\t\t\t\t\tjsonDataReturned.confirmed_case_dependent.ic_fname + \" (Dependent)\";\n\t\t\t\t\tjsonDataReturned.visitor_and_dependent_ic_num =\n\t\t\t\t\t\tjsonDataReturned.confirmed_case_dependent.ic_num;\n\t\t\t\t}\n\t\t\t\tjsonDataReturned.date_created = jsonDataReturned.date_created\n\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t.substring(0, jsonDataReturned.date_created.indexOf(\".\") - 3);\n\t\t\t\t// alert(JSON.stringify(jsonDataReturned));\n\n\t\t\t\tthis.setState({ selected_records_group: jsonDataReturned });\n\t\t\t\t// alert(JSON.stringify(this.state.records_group));\n\n\t\t\t\t// if (jsonData) {\n\t\t\t\t// \talert(\"Login successful\");\n\t\t\t\t// \t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t// } else {\n\t\t\t\t// \talert(\"Phone number or password is incorrect\");\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/getSavedHotspot_premise\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tgroup_record_id: this.state.group_record_id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\t// var jsonDataReturned = jsonData;\n\t\t\t\tif (!Object.keys(jsonData).length) {\n\t\t\t\t\tthis.setState({ premise_hotpots_record: \"none\" });\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.check_in_record.user_premiseowner));\n\t\t\t\t\t\titem.date_created = item.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t\titem.check_in_record.date_created = item.check_in_record.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.check_in_record.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t\titem.hotspotDetailsMerged = {\n\t\t\t\t\t\t\trecord_id: item._id,\n\t\t\t\t\t\t\tplace_id: item.place_id,\n\t\t\t\t\t\t\tplace_lat: parseFloat(item.place_lat),\n\t\t\t\t\t\t\tplace_lng: parseFloat(item.place_lng),\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setState({ premise_hotpots_record: jsonData });\n\t\t\t\t}\n\n\t\t\t\t// this.getCasualContactCount(jsonData);\n\n\t\t\t\t// this.getEachPremiseName(jsonData);\n\t\t\t\t// alert(JSON.stringify(this.state.check_in_records));\n\t\t\t\t// if (jsonData) {\n\t\t\t\t// \talert(\"Login successful\");\n\t\t\t\t// \t// this.props.navigation.navigate(\"visitor_home\");\n\t\t\t\t// } else {\n\t\t\t\t// \talert(\"Phone number or password is incorrect\");\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/getSavedHotspot_home\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tgroup_record_id: this.state.group_record_id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tif (!Object.keys(jsonData).length) {\n\t\t\t\t\tthis.setState({ home_hotpots_record: \"none\" });\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\t// alert(JSON.stringify(jsonData[0]));\n\t\t\t\t\tjsonData[0].date_created = jsonData[0].date_created\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, jsonData[0].date_created.indexOf(\".\") - 3);\n\n\t\t\t\t\tjsonData[0].hotspotDetailsMerged = {\n\t\t\t\t\t\trecord_id: jsonData[0]._id,\n\t\t\t\t\t\tplace_id: jsonData[0].place_id,\n\t\t\t\t\t\tplace_lat: parseFloat(jsonData[0].place_lat),\n\t\t\t\t\t\tplace_lng: parseFloat(jsonData[0].place_lng),\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.setState({ home_hotpots_record: jsonData });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tisDisable = (value) => {\n\t\t// alert(value);\n\t\treturn false;\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ modal_show: false });\n\t};\n\n\thandleShow = (premise_details) => {\n\t\tthis.setState({\n\t\t\tmodal_show: true,\n\t\t\tpremise_details: premise_details,\n\t\t});\n\n\t\t// alert(JSON.stringify(value));\n\t\t// this.view_casual_contacts(confirmed_case_check_in_id);\n\t};\n\n\thandleClose_1 = () => {\n\t\tthis.setState({ modal_show_1: false });\n\t};\n\n\thandleShow_1 = (premise_place) => {\n\t\tthis.setState({\n\t\t\tmodal_show_1: true,\n\t\t\tpremise_place: premise_place,\n\t\t\tregion: {\n\t\t\t\tlat: premise_place.place_lat,\n\t\t\t\tlng: premise_place.place_lng,\n\t\t\t},\n\t\t\tplace_lat: premise_place.place_lat,\n\t\t\tplace_lng: premise_place.place_lng,\n\t\t\tplace_id: premise_place.place_id,\n\t\t});\n\t\t// alert(JSON.stringify(value));\n\t\t// this.view_casual_contacts(confirmed_case_check_in_id);\n\t};\n\n\tsaveNewHotspotLocation = async (record_id) => {\n\t\t// alert(\n\t\t// \trecord_id +\n\t\t// \t\t\" \" +\n\t\t// \t\tthis.state.place_id +\n\t\t// \t\t\" \" +\n\t\t// \t\tthis.state.place_lat +\n\t\t// \t\t\" \" +\n\t\t// \t\tthis.state.place_lng\n\t\t// );\n\t\tawait fetch(\"/saveNewHotspotLocation\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\trecord_id: record_id,\n\t\t\t\tplace_id: this.state.place_id,\n\t\t\t\tplace_lat: this.state.place_lat.toString(),\n\t\t\t\tplace_lng: this.state.place_lng.toString(),\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (response == \"success\") {\n\t\t\t\t\talert(\"Saved successfully\");\n\t\t\t\t\tthis.startup();\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Failed to save\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tgetSearchLocation = async (place_id) => {\n\t\tconst query_get_home_location = `/getSearchLocation?place_id=${place_id}`;\n\t\tconsole.log(query_get_home_location);\n\t\tawait axios\n\t\t\t.get(query_get_home_location)\n\t\t\t.then((response) => {\n\t\t\t\t// console.log(response.data);\n\t\t\t\t// console.log(response.data.results[0].geometry.location.lat);\n\t\t\t\t// console.log(response.data.results[0].geometry.location.lng);\n\t\t\t\tvar latitude_res = response.data.result.geometry.location.lat;\n\t\t\t\tvar longitude_res = response.data.result.geometry.location.lng;\n\t\t\t\tthis.setState({\n\t\t\t\t\tregion: {\n\t\t\t\t\t\tlat: latitude_res,\n\t\t\t\t\t\tlng: longitude_res,\n\t\t\t\t\t},\n\t\t\t\t\tplace_lat: latitude_res,\n\t\t\t\t\tplace_lng: longitude_res,\n\t\t\t\t\tplace_id: place_id,\n\t\t\t\t});\n\n\t\t\t\t// this.setState({ latitude: latitude, longitude: longitude });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(error);\n\t\t\t});\n\t};\n\n\tonPressResult = async (place_id, place_name) => {\n\t\t// alert(place_id + place_name);\n\t\tthis.setState({\n\t\t\tsearch_prediction_selected: true,\n\t\t\tsearch_query: \"\",\n\t\t\tplace_name: place_name,\n\t\t});\n\t\tawait this.getSearchLocation(place_id);\n\t};\n\n\tsearchLocation = async (value) => {\n\t\t// alert(value);\n\t\tconst query_search_home_adress = `/searchLocation?search_query=${value}`;\n\t\tconsole.log(query_search_home_adress);\n\t\tawait axios\n\t\t\t.get(query_search_home_adress)\n\t\t\t.then((response) => {\n\t\t\t\t// alert(response.data);\n\t\t\t\t// console.log(response.data.results[0].geometry.location.lng);\n\t\t\t\tthis.setState({ search_prediction_selected: false });\n\t\t\t\tvar predicted_places = [];\n\t\t\t\tvar predictions = response.data.predictions;\n\t\t\t\t// console.log(\"result: \" + JSON.stringify(predictions));\n\t\t\t\tpredictions.forEach(function (item) {\n\t\t\t\t\tpredicted_places.push({\n\t\t\t\t\t\tplace_name: item.description,\n\t\t\t\t\t\tplace_id: item.place_id,\n\t\t\t\t\t});\n\t\t\t\t\t// console.log(item.structured_formatting.main_text);\n\t\t\t\t});\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tsearch_prediction: predicted_places,\n\t\t\t\t});\n\t\t\t\t// alert(JSON.stringify(this.state.search_prediction));\n\t\t\t\t// this.setState({ latitude: latitude, longitude: longitude });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(error);\n\t\t\t});\n\t};\n\n\thandleChange = async (e) => {\n\t\tthis.setState({ search_query: e.target.value });\n\t\tif (e.target.value.length > 10) {\n\t\t\tawait this.searchLocation(e.target.value);\n\t\t\t// alert(value);\n\t\t\t// alert(this.state.search_query);\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tsearch_prediction: [],\n\t\t\t});\n\t\t}\n\t\t// alert(e.target.value);\n\t};\n\n\tstatic defaultProps = {\n\t\tcenter: {\n\t\t\tlat: 59.95,\n\t\t\tlng: 30.33,\n\t\t},\n\t\tzoom: 11,\n\t};\n\n\tconfirm_delete = async (record_id) => {\n\t\tif (window.confirm(\"Confirm to delete?\")) {\n\t\t\tawait fetch(\"/delete_one_hotspot_record\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ record_id: record_id }),\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\t\treturn res.text();\n\t\t\t\t})\n\t\t\t\t.then((jsonData) => {\n\t\t\t\t\tif (jsonData) {\n\t\t\t\t\t\tthis.startup();\n\t\t\t\t\t\talert(\"Record has been deleted successfully\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert(\"Error occured while deleting the record\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\talert(\"Error: \" + error);\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t};\n\n\tsubmitSearch = async () => {\n\t\tvar { search_query_1 } = this.state;\n\n\t\tif (search_query_1 == null) {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tif (search_query_1.trim() == \"\") {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\"/search_saved_hotspot_premise\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tgroup_record_id: this.state.group_record_id,\n\t\t\t\tsearch_query: search_query_1,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\t// var jsonDataReturned = jsonData;\n\t\t\t\tif (!Object.keys(jsonData).length) {\n\t\t\t\t\tthis.setState({ premise_hotpots_record: \"none\" });\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.check_in_record.user_premiseowner));\n\t\t\t\t\t\titem.date_created = item.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t\titem.check_in_record.date_created = item.check_in_record.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.check_in_record.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t\titem.hotspotDetailsMerged = {\n\t\t\t\t\t\t\trecord_id: item._id,\n\t\t\t\t\t\t\tplace_id: item.place_id,\n\t\t\t\t\t\t\tplace_lat: parseFloat(item.place_lat),\n\t\t\t\t\t\t\tplace_lng: parseFloat(item.place_lng),\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setState({ premise_hotpots_record: jsonData });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar {\n\t\t\tpremise_hotpots_record,\n\t\t\thome_hotpots_record,\n\t\t\tselected_records_group,\n\t\t\tpremise_details,\n\t\t\tpremise_place,\n\t\t\tsearch_prediction,\n\t\t\tregion,\n\t\t\tplace_lat,\n\t\t\tplace_lng,\n\t\t\tplace_id,\n\t\t\tsearch_prediction_selected,\n\t\t\tshow_phone_no_qr,\n\t\t\tverify_token,\n\t\t\tsearch_query_1,\n\t\t} = this.state;\n\n\t\tif (!verify_token) return <div />;\n\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">View Hotspots</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<div class=\"navigation_breadcrumb\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\tpathname: `/view_hotspots`,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"\">Confirmed Case Record</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<span class=\"\"> / Hotspots</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h2>Hotspots</h2>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tshow={this.state.modal_show}\n\t\t\t\t\t\tonHide={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t\t<Modal.Title>Premise Details</Modal.Title>\n\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t{premise_details === null ? (\n\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h5>Premise Details</h5>\n\t\t\t\t\t\t\t\t\t\t{/* <p>{premise_details._id}</p> */}\n\t\t\t\t\t\t\t\t\t\t<p>{\"Premise Name: \" + premise_details.premise_name}</p>\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t{\"Premise Address: \" +\n\t\t\t\t\t\t\t\t\t\t\t\tpremise_details.premise_address +\n\t\t\t\t\t\t\t\t\t\t\t\t\", \" +\n\t\t\t\t\t\t\t\t\t\t\t\tpremise_details.premise_postcode +\n\t\t\t\t\t\t\t\t\t\t\t\t\", \" +\n\t\t\t\t\t\t\t\t\t\t\t\tpremise_details.premise_state}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t<h5>Owner Details</h5>\n\t\t\t\t\t\t\t\t\t\t<p>{\"Owner's Name: \" + premise_details.owner_fname}</p>\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t{\"Owner's Phone No.: \" + premise_details.phone_no + \" \"}\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"show_phone_no_qr\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (show_phone_no_qr) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ show_phone_no_qr: false });\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ show_phone_no_qr: true });\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{show_phone_no_qr\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Hide Phone No. QR code\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Show Phone No. QR code\"}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{show_phone_no_qr === false ? (\n\t\t\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"150\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://qrcode.tec-it.com/API/QRCode?data=tel%3a${premise_details.phone_no}`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\tOwner's Email:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref={\"mailto:\" + premise_details.email}\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{premise_details.email}\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t\t<Button variant=\"secondary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{/* <Button variant=\"primary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t\t</Modal.Footer>\n\t\t\t\t\t</Modal>\n\n\t\t\t\t\t<Modal\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tshow={this.state.modal_show_1}\n\t\t\t\t\t\tonHide={this.handleClose_1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t\t<Modal.Title>Hotspot Details</Modal.Title>\n\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t{premise_place === null ? (\n\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h5>Search for new location</h5>\n\t\t\t\t\t\t\t\t\t\t{/* <p>{premise_place.record_id}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{premise_place.place_lat}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{premise_place.place_lng}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{premise_place.place_id}</p> */}\n\t\t\t\t\t\t\t\t\t\t<div class=\"search_place_outer\">\n\t\t\t\t\t\t\t\t\t\t\t{/* <div class=\"label_outer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"ic_number\">Confirmed case IC number</label>\n\t\t\t\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Search place\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"search_query\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"search_query\"\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"search_query\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.search_query}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange(e);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t// onKeyPress={this.handleChange(this.value)}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass={\n\t\t\t\t\t\t\t\t\t\t\t\tsearch_prediction_selected\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"predict_dropdown_hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"predict_dropdown_show\"\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{search_prediction === null ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\tsearch_prediction.map((item) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingVertical: 10, cursor: \"pointer\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item.place_id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.onPressResult(item.place_id, item.place_name)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.place_name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<div style={{ height: \"500px\", width: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t<GoogleMapReact\n\t\t\t\t\t\t\t\t\t\t\t\t// bootstrapURLKeys={\n\t\t\t\t\t\t\t\t\t\t\t\t// \t{\n\t\t\t\t\t\t\t\t\t\t\t\t// \t\tkey: \"AIzaSyDV2M6vNxqRZbKeWuJJ4kMyt9K1hOgSvlo\",\n\t\t\t\t\t\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t\t\t\t\tcenter={region}\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultZoom={16}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<AnyReactComponent\n\t\t\t\t\t\t\t\t\t\t\t\t\tlat={place_lat}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlng={place_lng}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</GoogleMapReact>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t\t<Button variant=\"secondary\" onClick={this.handleClose_1}>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{premise_place === null ? (\n\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.saveNewHotspotLocation(premise_place.record_id);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Modal.Footer>\n\t\t\t\t\t</Modal>\n\t\t\t\t\t{/* <div style={{ height: \"100vh\", width: \"100%\" }}>\n\t\t\t\t\t\t<GoogleMapReact\n\t\t\t\t\t\t\tbootstrapURLKeys={{ key: \"AIzaSyDV2M6vNxqRZbKeWuJJ4kMyt9K1hOgSvlo\" }}\n\t\t\t\t\t\t\tdefaultCenter={this.props.center}\n\t\t\t\t\t\t\tdefaultZoom={this.props.zoom}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<AnyReactComponent\n\t\t\t\t\t\t\t\tlat={59.955413}\n\t\t\t\t\t\t\t\tlng={30.337844}\n\t\t\t\t\t\t\t\ttext=\"My Marker\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</GoogleMapReact>\n\t\t\t\t\t</div> */}\n\t\t\t\t\t<br />\n\t\t\t\t\t{selected_records_group == null ? (\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=\"confirmed_case_header_outer\">\n\t\t\t\t\t\t\t\t<h5>Confirmed Case Info</h5>\n\t\t\t\t\t\t\t\t<div id=\"confirmed_case_header_inner\">\n\t\t\t\t\t\t\t\t\t<p>{selected_records_group.visitor_and_dependent_fname}</p>\n\t\t\t\t\t\t\t\t\t<p>{selected_records_group.visitor_and_dependent_ic_num}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<h4 class=\"mb-3\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclass=\"mb-2 mr-3\"\n\t\t\t\t\t\t\tsrc=\"https://www.flaticon.com/svg/static/icons/svg/2948/2948176.svg\"\n\t\t\t\t\t\t\twidth={30}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tResidential Location Hotspot\n\t\t\t\t\t</h4>\n\t\t\t\t\t{home_hotpots_record == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : home_hotpots_record == \"none\" ? (\n\t\t\t\t\t\t<p class=\"no_record\">No record found</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\tdata={home_hotpots_record}\n\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Home Address\",\n\t\t\t\t\t\t\t\t\taccessor: \"user_visitor.ic_address\",\n\t\t\t\t\t\t\t\t\tminWidth: 400,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"View Hotspot Details\",\n\t\t\t\t\t\t\t\t\taccessor: \"hotspotDetailsMerged\",\n\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-success\"\n\t\t\t\t\t\t\t\t\t\t\t\t// disabled={this.isDisable(value)}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleShow_1(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tView / Edit\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Delete\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-danger\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.confirm_delete(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t// disabled={this.isDisable(value)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tdefaultPageSize={1}\n\t\t\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<br />\n\t\t\t\t\t<h4 class=\"mb-3\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclass=\"mb-2 mr-3\"\n\t\t\t\t\t\t\tsrc=\"https://www.flaticon.com/svg/static/icons/svg/126/126122.svg\"\n\t\t\t\t\t\t\twidth={30}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tPremise Hotspot\n\t\t\t\t\t</h4>\n\t\t\t\t\t<div class=\"search_outer\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"form-control col-sm-3\"\n\t\t\t\t\t\t\t\tid=\"search_query\"\n\t\t\t\t\t\t\t\tname=\"search_query\"\n\t\t\t\t\t\t\t\tvalue={this.state.search_query_1}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ search_query_1: e.target.value });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tplaceholder=\"Search Place Name / State\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-success col-sm-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.submitSearch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t{premise_hotpots_record == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : premise_hotpots_record == \"none\" ? (\n\t\t\t\t\t\t<p class=\"no_record\">No record found</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\tdata={premise_hotpots_record}\n\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Check In Premise\",\n\t\t\t\t\t\t\t\t\taccessor: \"user_premiseowner.premise_name\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"State\",\n\t\t\t\t\t\t\t\t\taccessor: \"user_premiseowner.premise_state\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Confirmed Case IC\",\n\t\t\t\t\t\t\t\t// \taccessor: \"confirmed_case_visitor.ic_num\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Day Range\",\n\t\t\t\t\t\t\t\t// \taccessor: \"day_range_check_in\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Time Range (Before)\",\n\t\t\t\t\t\t\t\t// \taccessor: \"time_range_check_in_before\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Time Range (After)\",\n\t\t\t\t\t\t\t\t// \taccessor: \"time_range_check_in_after\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Check In Date\",\n\t\t\t\t\t\t\t\t\taccessor: \"check_in_record.date_created\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Date Created\",\n\t\t\t\t\t\t\t\t// \taccessor: \"date_created\",\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"View Premise Details\",\n\t\t\t\t\t\t\t\t\t// accessor: \"check_in_record._id\",\n\t\t\t\t\t\t\t\t\t// id: \"id\",\n\t\t\t\t\t\t\t\t\taccessor: \"user_premiseowner\",\n\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t// disabled={this.isDisable(value)}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleShow(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"View Hotspot Details\",\n\t\t\t\t\t\t\t\t\taccessor: \"hotspotDetailsMerged\",\n\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-success\"\n\t\t\t\t\t\t\t\t\t\t\t\t// disabled={this.isDisable(value)}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleShow_1(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tView / Edit\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Delete\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-danger\"\n\t\t\t\t\t\t\t\t\t\t\t\t// disabled={this.isDisable(value)}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.confirm_delete(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tdefaultPageSize={10}\n\t\t\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<br />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default view_hotspots_each;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\nimport GoogleMapReact from \"google-map-react\";\n\nconst AnyReactComponent = ({}) => (\n\t<img\n\t\tsrc={require(\"./assets/hotspot_icon.png\")}\n\t\tstyle={{ height: 35, width: 35 }}\n\t/>\n);\n\nclass view_hotspots_manual_add extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.verifyToken();\n\t\tthis.state = {\n\t\t\tpremise_hotpots_record: null,\n\t\t\thome_hotpots_record: null,\n\t\t\tselected_records_group: null,\n\t\t\tmodal_show: false,\n\t\t\tmodal_show_1: false,\n\t\t\tpremise_details: null,\n\t\t\tpremise_place: null,\n\t\t\tsearch_prediction: null,\n\t\t\tsearch_prediction_selected: true,\n\t\t\tregion: null,\n\t\t\tplace_lat: null,\n\t\t\tplace_lng: null,\n\t\t\tplace_id: null,\n\t\t\tsearch_query: null,\n\t\t\thotspot_place_name: null,\n\t\t\thotspot_description: null,\n\t\t\thotspot_remark: null,\n\t\t\tsearch_query: null,\n\t\t\tverify_token: false,\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {\n\t\tthis.startup();\n\t}\n\n\tverifyToken = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tgetCasualContactCount = async (checkInRecord) => {\n\t\tawait fetch(\"/getCasualContactCount\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ checkInRecord }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tthis.setState({ check_in_records: jsonData });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tstartup = async () => {\n\t\tawait fetch(\"/getSavedHotspot_manual_added\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\t// var jsonDataReturned = jsonData;\n\t\t\t\tif (!Object.keys(jsonData).length) {\n\t\t\t\t\tthis.setState({ home_hotpots_record: \"none\" });\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.check_in_record.user_premiseowner));\n\t\t\t\t\t\titem.date_created = item.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t\titem.hotspotDetailsMerged = {\n\t\t\t\t\t\t\trecord_id: item._id,\n\t\t\t\t\t\t\tplace_id: item.place_id,\n\t\t\t\t\t\t\tplace_lat: parseFloat(item.place_lat),\n\t\t\t\t\t\t\tplace_lng: parseFloat(item.place_lng),\n\t\t\t\t\t\t\thotspot_place_name: item.place_name,\n\t\t\t\t\t\t\thotspot_place_address: item.place_address,\n\t\t\t\t\t\t\thotspot_place_state: item.place_state,\n\t\t\t\t\t\t\thotspot_description: item.description,\n\t\t\t\t\t\t\thotspot_remark: item.remark,\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({ home_hotpots_record: jsonData });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tisDisable = (value) => {\n\t\t// alert(value);\n\t\treturn false;\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ modal_show: false });\n\t};\n\n\thandleShow = (premise_details) => {\n\t\tthis.setState({\n\t\t\tmodal_show: true,\n\t\t\tpremise_details: premise_details,\n\t\t});\n\n\t\t// alert(JSON.stringify(value));\n\t\t// this.view_casual_contacts(confirmed_case_check_in_id);\n\t};\n\n\thandleClose_1 = () => {\n\t\tthis.setState({ modal_show_1: false });\n\t};\n\n\thandleShow_1 = (premise_place) => {\n\t\tthis.setState({\n\t\t\tmodal_show_1: true,\n\t\t\tpremise_place: premise_place,\n\t\t\tregion: {\n\t\t\t\tlat: premise_place.place_lat,\n\t\t\t\tlng: premise_place.place_lng,\n\t\t\t},\n\t\t\tplace_lat: premise_place.place_lat,\n\t\t\tplace_lng: premise_place.place_lng,\n\t\t\tplace_id: premise_place.place_id,\n\t\t\thotspot_place_name: premise_place.hotspot_place_name,\n\t\t\thotspot_place_address: premise_place.hotspot_place_address,\n\t\t\thotspot_place_state: premise_place.hotspot_place_state,\n\t\t\thotspot_description: premise_place.hotspot_description,\n\t\t\thotspot_remark: premise_place.hotspot_remark,\n\t\t});\n\t\t// alert(JSON.stringify(value));\n\t\t// this.view_casual_contacts(confirmed_case_check_in_id);\n\t};\n\n\tsaveNewHotspotLocation = async (record_id) => {\n\t\t// alert(\n\t\t// \trecord_id +\n\t\t// \t\t\" \" +\n\t\t// \t\tthis.state.place_id +\n\t\t// \t\t\" \" +\n\t\t// \t\tthis.state.place_lat +\n\t\t// \t\t\" \" +\n\t\t// \t\tthis.state.place_lng\n\t\t// );\n\n\t\tvar {\n\t\t\tplace_id,\n\t\t\tplace_lat,\n\t\t\tplace_lng,\n\t\t\thotspot_place_name,\n\t\t\thotspot_place_address,\n\t\t\thotspot_place_state,\n\t\t\thotspot_description,\n\t\t\thotspot_remark,\n\t\t} = this.state;\n\n\t\tif (\n\t\t\thotspot_place_name == null ||\n\t\t\thotspot_place_name == \"\" ||\n\t\t\thotspot_description == null ||\n\t\t\thotspot_description == \"\" ||\n\t\t\thotspot_remark == null ||\n\t\t\thotspot_remark == \"\" ||\n\t\t\thotspot_place_address == null ||\n\t\t\thotspot_place_address == \"\" ||\n\t\t\thotspot_place_state == null ||\n\t\t\thotspot_place_state == \"\"\n\t\t) {\n\t\t\talert(\"Please fill in every input\");\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\"/saveHotspotDetails_manual_added\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\trecord_id: record_id,\n\t\t\t\tplace_id: place_id,\n\t\t\t\tplace_lat: place_lat.toString(),\n\t\t\t\tplace_lng: place_lng.toString(),\n\t\t\t\tplace_name: hotspot_place_name,\n\t\t\t\tplace_address: hotspot_place_address,\n\t\t\t\tplace_state: hotspot_place_state,\n\t\t\t\tdescription: hotspot_description,\n\t\t\t\tremark: hotspot_remark,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (response == \"success\") {\n\t\t\t\t\talert(\"Saved successfully\");\n\t\t\t\t\tthis.startup();\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Failed to save\");\n\t\t\t\t}\n\t\t\t\tthis.handleClose_1();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tgetSearchLocation = async (place_id) => {\n\t\tconst query_get_home_location = `/getSearchLocation?place_id=${place_id}`;\n\t\tconsole.log(query_get_home_location);\n\t\tawait axios\n\t\t\t.get(query_get_home_location)\n\t\t\t.then((response) => {\n\t\t\t\t// console.log(response.data);\n\t\t\t\t// console.log(response.data.results[0].geometry.location.lat);\n\t\t\t\t// console.log(response.data.results[0].geometry.location.lng);\n\t\t\t\tvar latitude_res = response.data.result.geometry.location.lat;\n\t\t\t\tvar longitude_res = response.data.result.geometry.location.lng;\n\t\t\t\tthis.setState({\n\t\t\t\t\tregion: {\n\t\t\t\t\t\tlat: latitude_res,\n\t\t\t\t\t\tlng: longitude_res,\n\t\t\t\t\t},\n\t\t\t\t\tplace_lat: latitude_res,\n\t\t\t\t\tplace_lng: longitude_res,\n\t\t\t\t\tplace_id: place_id,\n\t\t\t\t});\n\n\t\t\t\t// this.setState({ latitude: latitude, longitude: longitude });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(error);\n\t\t\t});\n\t};\n\n\tonPressResult = async (place_id, place_name) => {\n\t\t// alert(place_id + place_name);\n\t\tthis.setState({\n\t\t\tsearch_prediction_selected: true,\n\t\t\tsearch_query: \"\",\n\t\t\tplace_name: place_name,\n\t\t});\n\t\tawait this.getSearchLocation(place_id);\n\t};\n\n\tsearchLocation = async (value) => {\n\t\t// alert(value);\n\t\tconst query_search_home_adress = `/searchLocation?search_query=${value}`;\n\t\tconsole.log(query_search_home_adress);\n\t\tawait axios\n\t\t\t.get(query_search_home_adress)\n\t\t\t.then((response) => {\n\t\t\t\t// alert(response.data);\n\t\t\t\t// console.log(response.data.results[0].geometry.location.lng);\n\t\t\t\tthis.setState({ search_prediction_selected: false });\n\t\t\t\tvar predicted_places = [];\n\t\t\t\tvar predictions = response.data.predictions;\n\t\t\t\t// console.log(\"result: \" + JSON.stringify(predictions));\n\t\t\t\tpredictions.forEach(function (item) {\n\t\t\t\t\tpredicted_places.push({\n\t\t\t\t\t\tplace_name: item.description,\n\t\t\t\t\t\tplace_id: item.place_id,\n\t\t\t\t\t});\n\t\t\t\t\t// console.log(item.structured_formatting.main_text);\n\t\t\t\t});\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tsearch_prediction: predicted_places,\n\t\t\t\t});\n\t\t\t\t// alert(JSON.stringify(this.state.search_prediction));\n\t\t\t\t// this.setState({ latitude: latitude, longitude: longitude });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(error);\n\t\t\t});\n\t};\n\n\tconfirm_delete = async (record_id) => {\n\t\tif (window.confirm(\"Confirm to delete?\")) {\n\t\t\tawait fetch(\"/delete_one_hotspot_record\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ record_id: record_id }),\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\t\treturn res.text();\n\t\t\t\t})\n\t\t\t\t.then((jsonData) => {\n\t\t\t\t\tif (jsonData) {\n\t\t\t\t\t\tthis.startup();\n\t\t\t\t\t\talert(\"Record has been deleted successfully\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert(\"Error occured while deleting the record\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\talert(\"Error: \" + error);\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t};\n\n\thandleChange = async (e) => {\n\t\tthis.setState({ search_query: e.target.value });\n\t\tif (e.target.value.length == 10) {\n\t\t\tawait this.searchLocation(e.target.value);\n\t\t\t// alert(value);\n\t\t\t// alert(this.state.search_query);\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tsearch_prediction: [],\n\t\t\t});\n\t\t}\n\t\t// alert(e.target.value);\n\t};\n\n\tstatic defaultProps = {\n\t\tcenter: {\n\t\t\tlat: 59.95,\n\t\t\tlng: 30.33,\n\t\t},\n\t\tzoom: 11,\n\t};\n\n\tsubmitSearch = async () => {\n\t\tvar { search_query } = this.state;\n\n\t\tif (search_query == null) {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tif (search_query.trim() == \"\") {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\"/search_manual_added_hotspot\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ search_query: search_query }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\t// var jsonDataReturned = jsonData;\n\t\t\t\tif (!Object.keys(jsonData).length) {\n\t\t\t\t\tthis.setState({ home_hotpots_record: \"none\" });\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.check_in_record.user_premiseowner));\n\t\t\t\t\t\titem.date_created = item.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t\titem.hotspotDetailsMerged = {\n\t\t\t\t\t\t\trecord_id: item._id,\n\t\t\t\t\t\t\tplace_id: item.place_id,\n\t\t\t\t\t\t\tplace_lat: parseFloat(item.place_lat),\n\t\t\t\t\t\t\tplace_lng: parseFloat(item.place_lng),\n\t\t\t\t\t\t\thotspot_place_name: item.place_name,\n\t\t\t\t\t\t\thotspot_place_address: item.place_address,\n\t\t\t\t\t\t\thotspot_place_state: item.place_state,\n\t\t\t\t\t\t\thotspot_description: item.description,\n\t\t\t\t\t\t\thotspot_remark: item.remark,\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({ home_hotpots_record: jsonData });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar {\n\t\t\tpremise_hotpots_record,\n\t\t\thome_hotpots_record,\n\t\t\tselected_records_group,\n\t\t\tpremise_details,\n\t\t\tpremise_place,\n\t\t\tsearch_prediction,\n\t\t\tregion,\n\t\t\tplace_lat,\n\t\t\tplace_lng,\n\t\t\tsearch_prediction_selected,\n\t\t\tverify_token,\n\t\t} = this.state;\n\n\t\tif (!verify_token) return <div />;\n\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">View Manual Added Hotspots</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<h2>Manual Added Hotspots</h2>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tshow={this.state.modal_show}\n\t\t\t\t\t\tonHide={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t\t<Modal.Title>Premise Details</Modal.Title>\n\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t{premise_details === null ? (\n\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h5>Premise Details</h5>\n\t\t\t\t\t\t\t\t\t\t<p>{premise_details.premise_name}</p>\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t{premise_details.premise_address +\n\t\t\t\t\t\t\t\t\t\t\t\t\", \" +\n\t\t\t\t\t\t\t\t\t\t\t\tpremise_details.premise_postcode +\n\t\t\t\t\t\t\t\t\t\t\t\t\", \" +\n\t\t\t\t\t\t\t\t\t\t\t\tpremise_details.premise_state}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<h5>Owner Details</h5>\n\t\t\t\t\t\t\t\t\t\t<p>{premise_details.owner_fname}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{premise_details.phone_no}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{premise_details.email}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t\t<Button variant=\"secondary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{/* <Button variant=\"primary\" onClick={this.handleClose}>\n\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t\t</Modal.Footer>\n\t\t\t\t\t</Modal>\n\n\t\t\t\t\t<Modal\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tshow={this.state.modal_show_1}\n\t\t\t\t\t\tonHide={this.handleClose_1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t\t<Modal.Title>Hotspot Details</Modal.Title>\n\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t{premise_place === null ? (\n\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div id=\"update_hotspot_details_outer\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"place_name\">Place Name</label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Place Name\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"place_name\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"place_name\"\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"place_name\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.hotspot_place_name}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ hotspot_place_name: e.target.value });\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"place_address\">Address</label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Address\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"place_address\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"place_address\"\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"place_address\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.hotspot_place_address}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thotspot_place_address: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"place_state\">State</label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"place_state\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"place_state\"\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"place_state\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.hotspot_place_state}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thotspot_place_state: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"KUALA LUMPUR\">KUALA LUMPUR</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"LABUAN\">LABUAN</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"PUTRAJAYA\">PUTRAJAYA</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"JOHOR\">JOHOR</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"KEDAH\">KEDAH</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"KELANTAN\">KELANTAN</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"MELAKA\">MELAKA</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"NEGERI SEMBILAN\">NEGERI SEMBILAN</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"PAHANG\">PAHANG</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"PERAK\">PERAK</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"PERLIS\">PERLIS</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"PULAU PINANG\">PULAU PINANG</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"SABAH\">SABAH</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"SARAWAK\">SARAWAK</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"SELANGOR\">SELANGOR</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"TERENGGANU\">TERENGGANU</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"description\">Description</label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t\t\t\tmaxlength=\"1000\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"description\"\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thotspot_description: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.hotspot_description}\n\t\t\t\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"remark\">Remark</label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Remark\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t\t\t\tmaxlength=\"1000\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"remark\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"remark\"\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"remark\"\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ hotspot_remark: e.target.value });\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.hotspot_remark}\n\t\t\t\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t\t\t\t\t<h5>Search for new location</h5>\n\t\t\t\t\t\t\t\t\t\t{/* <p>{premise_place.record_id}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{premise_place.place_lat}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{premise_place.place_lng}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{premise_place.place_id}</p> */}\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"search_place_outer\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Search place\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control w-100\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"search_query\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"search_query\"\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"search_query\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.search_query}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange(e);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t// onKeyPress={this.handleChange(this.value)}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass={\n\t\t\t\t\t\t\t\t\t\t\t\tsearch_prediction_selected\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"predict_dropdown_hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"predict_dropdown_show\"\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{search_prediction === null ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\tsearch_prediction.map((item) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingVertical: 10, cursor: \"pointer\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item.place_id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.onPressResult(item.place_id, item.place_name)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.place_name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<div style={{ height: \"400px\", width: \"100%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t<GoogleMapReact\n\t\t\t\t\t\t\t\t\t\t\t\t// bootstrapURLKeys={\n\t\t\t\t\t\t\t\t\t\t\t\t// \t{\n\t\t\t\t\t\t\t\t\t\t\t\t// \t\tkey: \"AIzaSyDV2M6vNxqRZbKeWuJJ4kMyt9K1hOgSvlo\",\n\t\t\t\t\t\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t\t\t\t\tcenter={region}\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultZoom={16}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<AnyReactComponent\n\t\t\t\t\t\t\t\t\t\t\t\t\tlat={place_lat}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlng={place_lng}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// text=\"My Marker\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</GoogleMapReact>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t\t<Button variant=\"secondary\" onClick={this.handleClose_1}>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{premise_place === null ? (\n\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.saveNewHotspotLocation(premise_place.record_id);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Modal.Footer>\n\t\t\t\t\t</Modal>\n\t\t\t\t\t{/* <div style={{ height: \"100vh\", width: \"100%\" }}>\n\t\t\t\t\t\t<GoogleMapReact\n\t\t\t\t\t\t\tbootstrapURLKeys={{ key: \"AIzaSyDV2M6vNxqRZbKeWuJJ4kMyt9K1hOgSvlo\" }}\n\t\t\t\t\t\t\tdefaultCenter={this.props.center}\n\t\t\t\t\t\t\tdefaultZoom={this.props.zoom}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<AnyReactComponent\n\t\t\t\t\t\t\t\tlat={59.955413}\n\t\t\t\t\t\t\t\tlng={30.337844}\n\t\t\t\t\t\t\t\ttext=\"My Marker\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</GoogleMapReact>\n\t\t\t\t\t</div> */}\n\t\t\t\t\t<div class=\"search_outer\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"form-control col-sm-4\"\n\t\t\t\t\t\t\t\tid=\"search_query\"\n\t\t\t\t\t\t\t\tname=\"search_query\"\n\t\t\t\t\t\t\t\tvalue={this.state.search_query}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ search_query: e.target.value });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tplaceholder=\"Search Place Name / State / Address / Description / Remark\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-success col-sm-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.submitSearch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t{selected_records_group == null ? (\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=\"confirmed_case_header_outer\">\n\t\t\t\t\t\t\t\t<h5>Confirmed Case Info</h5>\n\t\t\t\t\t\t\t\t<div id=\"confirmed_case_header_inner\">\n\t\t\t\t\t\t\t\t\t<p>{selected_records_group.visitor_and_dependent_fname}</p>\n\t\t\t\t\t\t\t\t\t<p>{selected_records_group.visitor_and_dependent_ic_num}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{home_hotpots_record == null ? (\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t) : home_hotpots_record == \"none\" ? (\n\t\t\t\t\t\t<p class=\"no_record\">No record found</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\tdata={home_hotpots_record}\n\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Place Name\",\n\t\t\t\t\t\t\t\t\taccessor: \"place_name\",\n\t\t\t\t\t\t\t\t\tminWidth: 200,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"State\",\n\t\t\t\t\t\t\t\t\taccessor: \"place_state\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Address\",\n\t\t\t\t\t\t\t\t\taccessor: \"place_address\",\n\t\t\t\t\t\t\t\t\tminWidth: 300,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Description\",\n\t\t\t\t\t\t\t\t// \taccessor: \"description\",\n\t\t\t\t\t\t\t\t// \tminWidth: 300,\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Remark\",\n\t\t\t\t\t\t\t\t// \taccessor: \"remark\",\n\t\t\t\t\t\t\t\t// \tminWidth: 300,\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Date Created\",\n\t\t\t\t\t\t\t\t\taccessor: \"date_created\",\n\t\t\t\t\t\t\t\t\tminWidth: 100,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"View Hotspot Details\",\n\t\t\t\t\t\t\t\t\taccessor: \"hotspotDetailsMerged\",\n\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-success\"\n\t\t\t\t\t\t\t\t\t\t\t\t// disabled={this.isDisable(value)}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleShow_1(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tView / Edit\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Delete\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-danger\"\n\t\t\t\t\t\t\t\t\t\t\t\t// disabled={this.isDisable(value)}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.confirm_delete(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tdefaultPageSize={10}\n\t\t\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default view_hotspots_manual_add;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass send_batch_email extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.startup();\n\t\tvar newLine = \"\\r\\n\";\n\t\tthis.state = {\n\t\t\tsending_mail: false,\n\t\t\tconfirmed_case_name: null,\n\t\t\tconfirmed_case_ic_num: null,\n\t\t\tgroup_id: null,\n\t\t\tgroup_id_verified: false,\n\t\t\tverify_token: false,\n\t\t\tsend_to: \"premise_owner\",\n\t\t\temail_subject: \"Inform about Casual Contact with COVID-19 patient\",\n\t\t\temail_content:\n\t\t\t\t\"Good day,\" +\n\t\t\t\tnewLine +\n\t\t\t\tnewLine +\n\t\t\t\t\"Sorry to inform that one of the COVID-19 patient have checked in to your premise. \" +\n\t\t\t\t\"Please wait for further instructions. \" +\n\t\t\t\t\"The medical team of Ministry of Health (MOH) Malaysia will contact you soon.\" +\n\t\t\t\tnewLine +\n\t\t\t\tnewLine +\n\t\t\t\t\"Regards,\" +\n\t\t\t\tnewLine +\n\t\t\t\t\"Medical Team from MOH\" +\n\t\t\t\tnewLine +\n\t\t\t\t\"COVID-19 Contact Tracing System\",\n\t\t};\n\t}\n\n\tstartup = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount = async () => {\n\t\t// var email_content = document.getElementById(\"email_content\");\n\t\t// var newLine = \"\\r\\n\";\n\t\t// var content =\n\t\t// \t\"Good day,\" +\n\t\t// \tnewLine +\n\t\t// \tnewLine +\n\t\t// \t\"Sorry to inform that you or/and your dependent have been in casual contact with one of the COVID-19 patient. \" +\n\t\t// \t\"Please avoid close contact with others if possible until you get further instructions. \" +\n\t\t// \t\"The medical team of Ministry of Health (MOH) Malaysia will contact you soon.\" +\n\t\t// \tnewLine +\n\t\t// \tnewLine +\n\t\t// \t\"Regards,\" +\n\t\t// \tnewLine +\n\t\t// \t\"Medical Team from MOH\" +\n\t\t// \tnewLine +\n\t\t// \t\"COVID-19 Contact Tracing System\";\n\t\t// email_content.value = content;\n\t};\n\n\tsearch_confirmed_case_id = async () => {\n\t\tvar { group_id } = this.state;\n\n\t\tif (group_id == null || group_id == \"\") {\n\t\t\talert(\"Please fill in the confirmed case record ID\");\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\"/search_confirmed_case_by_id\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tgroup_id: group_id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (!jsonData) {\n\t\t\t\t\talert(\"Confirmed case record not found.\");\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tgroup_id_verified: false,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (jsonData.hasOwnProperty(\"confirmed_case_visitor\")) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_visitor));\n\t\t\t\t\t\tjsonData.visitor_and_dependent_fname =\n\t\t\t\t\t\t\tjsonData.confirmed_case_visitor.ic_fname;\n\t\t\t\t\t\tjsonData.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\tjsonData.confirmed_case_visitor.ic_num;\n\t\t\t\t\t} else if (jsonData.hasOwnProperty(\"confirmed_case_dependent\")) {\n\t\t\t\t\t\t// alert(JSON.stringify(item.confirmed_case_dependent));\n\t\t\t\t\t\tjsonData.visitor_and_dependent_fname =\n\t\t\t\t\t\t\tjsonData.confirmed_case_dependent.ic_fname;\n\t\t\t\t\t\tjsonData.visitor_and_dependent_ic_num =\n\t\t\t\t\t\t\tjsonData.confirmed_case_dependent.ic_num;\n\t\t\t\t\t}\n\t\t\t\t\tjsonData.date_created = jsonData.date_created\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, jsonData.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t// alert(jsonData.visitor_and_dependent_ic_num);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tconfirmed_case_ic_num: jsonData.visitor_and_dependent_ic_num,\n\t\t\t\t\t\tconfirmed_case_name: jsonData.visitor_and_dependent_fname,\n\t\t\t\t\t\tconfirmed_case_date_created: jsonData.date_created,\n\t\t\t\t\t\tgroup_id_verified: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\thandleSubmit = async () => {\n\t\tvar {\n\t\t\tgroup_id_verified,\n\t\t\tgroup_id,\n\t\t\temail_subject,\n\t\t\temail_content,\n\t\t\tsend_to,\n\t\t} = this.state;\n\n\t\tif (!group_id_verified) {\n\t\t\talert(\"Please confirm the confirmed case record first\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tgroup_id == null ||\n\t\t\tgroup_id == \"\" ||\n\t\t\temail_subject == null ||\n\t\t\temail_subject == \"\" ||\n\t\t\temail_content == null ||\n\t\t\temail_content == \"\"\n\t\t) {\n\t\t\talert(\"Please fill in all the input\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({ sending_mail: true });\n\t\t// alert(send_to);\n\t\tif (send_to == \"casual_contact\") {\n\t\t\tawait fetch(\"/send_batch_email_casual_contact\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tgroup_id: group_id,\n\t\t\t\t\temail_subject: email_subject,\n\t\t\t\t\temail_content: email_content,\n\t\t\t\t}),\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\t\treturn res.text();\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response == \"success\") {\n\t\t\t\t\t\talert(\"Email has been sent to all the casual contacts\");\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t} else if (response == \"send_email_failed\") {\n\t\t\t\t\t\talert(\"Email failed to send\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert(response);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ sending_mail: false });\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\talert(\"Error: \" + error);\n\t\t\t\t});\n\t\t} else if (send_to == \"premise_owner\") {\n\t\t\tawait fetch(\"/send_batch_email_premise_owner\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tgroup_id: group_id,\n\t\t\t\t\temail_subject: email_subject,\n\t\t\t\t\temail_content: email_content,\n\t\t\t\t}),\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\t\treturn res.text();\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response == \"success\") {\n\t\t\t\t\t\talert(\"Email has been sent to all the affected premise owner\");\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t} else if (response == \"send_email_failed\") {\n\t\t\t\t\t\talert(\"Email failed to send\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert(response);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ sending_mail: false });\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\talert(\"Error: \" + error);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tsend_to_onChange = () => {\n\t\tvar newLine = \"\\r\\n\";\n\t\tif (this.state.send_to == \"premise_owner\") {\n\t\t\tthis.setState({\n\t\t\t\temail_content:\n\t\t\t\t\t\"Good day,\" +\n\t\t\t\t\tnewLine +\n\t\t\t\t\tnewLine +\n\t\t\t\t\t\"Sorry to inform that one of the COVID-19 patient have checked in to your premise. \" +\n\t\t\t\t\t\"Please wait for further instructions. \" +\n\t\t\t\t\t\"The medical team of Ministry of Health (MOH) Malaysia will contact you soon.\" +\n\t\t\t\t\tnewLine +\n\t\t\t\t\tnewLine +\n\t\t\t\t\t\"Regards,\" +\n\t\t\t\t\tnewLine +\n\t\t\t\t\t\"Medical Team from MOH\" +\n\t\t\t\t\tnewLine +\n\t\t\t\t\t\"COVID-19 Contact Tracing System\",\n\t\t\t});\n\t\t} else if (this.state.send_to == \"casual_contact\") {\n\t\t\tthis.setState({\n\t\t\t\temail_content:\n\t\t\t\t\t\"Good day,\" +\n\t\t\t\t\tnewLine +\n\t\t\t\t\tnewLine +\n\t\t\t\t\t\"Sorry to inform that you or/and your dependent have been in casual contact with one of the COVID-19 patient. \" +\n\t\t\t\t\t\"Please avoid close contact with others if possible until you get further instructions. \" +\n\t\t\t\t\t\"The medical team of Ministry of Health (MOH) Malaysia will contact you soon.\" +\n\t\t\t\t\tnewLine +\n\t\t\t\t\tnewLine +\n\t\t\t\t\t\"Regards,\" +\n\t\t\t\t\tnewLine +\n\t\t\t\t\t\"Medical Team from MOH\" +\n\t\t\t\t\tnewLine +\n\t\t\t\t\t\"COVID-19 Contact Tracing System\",\n\t\t\t});\n\t\t}\n\t};\n\n\trender() {\n\t\tvar {\n\t\t\tconfirmed_case_ic_num,\n\t\t\tconfirmed_case_name,\n\t\t\tconfirmed_case_date_created,\n\t\t\tsending_mail,\n\t\t\tgroup_id,\n\t\t\temail_subject,\n\t\t\temail_content,\n\t\t\tsend_to,\n\t\t\tgroup_id_verified,\n\t\t\tverify_token,\n\t\t} = this.state;\n\n\t\tif (!verify_token) return <div />;\n\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">Send Batch Email</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<h2>Send Batch Email</h2>\n\t\t\t\t\t<br />\n\n\t\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t\t<h5 class=\"col-sm-2\">Confirmed Case Record ID</h5>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tplaceholder=\"e.g. 5f4781ee048dc43e5867d748\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control col-sm-3\"\n\t\t\t\t\t\t\tname=\"group_id\"\n\t\t\t\t\t\t\tid=\"group_id\"\n\t\t\t\t\t\t\tref=\"group_id\"\n\t\t\t\t\t\t\tvalue={group_id}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tthis.setState({ group_id: e.target.value });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"btn btn-secondary col-sm-1 ml-3\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.search_confirmed_case_id();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t// type=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{confirmed_case_ic_num == null ||\n\t\t\t\t\tconfirmed_case_name == null ||\n\t\t\t\t\tconfirmed_case_date_created == null ||\n\t\t\t\t\tgroup_id_verified == false ? (\n\t\t\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t\t\t<div class=\"col-sm-2\"></div>\n\t\t\t\t\t\t\t<div class=\"record_no_confirm_batch_mail\">\n\t\t\t\t\t\t\t\t<h5>Please confirm the Confirmed Case Record</h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t\t\t<div class=\"col-sm-2\"></div>\n\t\t\t\t\t\t\t<div class=\"record_confirmed_batch_mail\">\n\t\t\t\t\t\t\t\t<h5>Confirmed Case Record has been confirmed</h5>\n\t\t\t\t\t\t\t\t<p>{\"Confirmed Case Name: \" + confirmed_case_name}</p>\n\t\t\t\t\t\t\t\t<p>{\"Confirmed Case IC No.: \" + confirmed_case_ic_num}</p>\n\t\t\t\t\t\t\t\t<p>{\"Date created: \" + confirmed_case_date_created}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t\t<h5 class=\"col-sm-2\">Send To</h5>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclass=\"form-control col-sm-5\"\n\t\t\t\t\t\t\tname=\"place_state\"\n\t\t\t\t\t\t\tid=\"place_state\"\n\t\t\t\t\t\t\tref=\"place_state\"\n\t\t\t\t\t\t\tvalue={this.state.send_to}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tthis.state.send_to = e.target.value;\n\t\t\t\t\t\t\t\tthis.send_to_onChange();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\tselected={send_to == \"premise_owner\"}\n\t\t\t\t\t\t\t\tvalue=\"premise_owner\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPremise Owner\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\tselected={send_to == \"premise_owner\"}\n\t\t\t\t\t\t\t\tvalue=\"casual_contact\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCasual Contact\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\n\t\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t\t<h5 class=\"col-sm-2\">Email Subject</h5>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tplaceholder=\"Email Subject\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control col-sm-5 email_subject\"\n\t\t\t\t\t\t\tname=\"email_subject\"\n\t\t\t\t\t\t\tid=\"email_subject\"\n\t\t\t\t\t\t\tref=\"email_subject\"\n\t\t\t\t\t\t\tvalue={email_subject}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tthis.setState({ email_subject: e.target.value });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\n\t\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t\t<h5 class=\"col-sm-2\">Email Content</h5>\n\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\trows={11}\n\t\t\t\t\t\t\tplaceholder=\"Email Content\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control col-sm-5\"\n\t\t\t\t\t\t\tname=\"email_content\"\n\t\t\t\t\t\t\tid=\"email_content\"\n\t\t\t\t\t\t\tref=\"email_content\"\n\t\t\t\t\t\t\tvalue={email_content}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tthis.setState({ email_content: e.target.value });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"search_submit_btn\"\n\t\t\t\t\t\tclass=\"btn btn-success px-5\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"Send Email\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.handleSubmit();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t{sending_mail == true ? (\n\t\t\t\t\t\t<div class=\"alert alert-primary w-50\" role=\"alert\">\n\t\t\t\t\t\t\tPlease wait while the mail is being sent.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default send_batch_email;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass add_staff extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.startup();\n\t\tthis.state = {\n\t\t\tsending_mail: false,\n\t\t\tverify_token: false,\n\t\t\tverify_role: false,\n\t\t};\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {}\n\n\tstartup = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/getLoginDetails\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData[0].role == 0) {\n\t\t\t\t\twindow.location.href = \"/dashboard\";\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ verify_role: true });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// alert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ modal_show: false });\n\t};\n\n\thandleShow = (confirmed_case_check_in_id) => {\n\t\tthis.setState({ modal_show: true });\n\t\tthis.view_casual_contacts(confirmed_case_check_in_id);\n\t};\n\n\thandleSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\t// get form input value\n\t\tconst fname = this.refs.fname.value,\n\t\t\temail_address = this.refs.email_address.value,\n\t\t\trole = this.refs.role.value;\n\n\t\tif (\n\t\t\tfname == null ||\n\t\t\tfname == \"\" ||\n\t\t\temail_address == null ||\n\t\t\temail_address == \"\" ||\n\t\t\trole == null ||\n\t\t\trole == \"\"\n\t\t) {\n\t\t\talert(\"Please fill in all the input\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({ sending_mail: true });\n\n\t\tvar psw_length = 10,\n\t\t\tcharacter =\n\t\t\t\t\"!@#$^&*abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\",\n\t\t\trandom_psw = \"\";\n\t\tfor (var i = 0, x = character.length; i < psw_length; ++i) {\n\t\t\trandom_psw += character.charAt(Math.floor(Math.random() * x));\n\t\t}\n\n\t\tawait fetch(\"/add_new_staff\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tfname: fname,\n\t\t\t\temail_address: email_address,\n\t\t\t\trole: role,\n\t\t\t\trandom_psw: random_psw,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (response == \"success\") {\n\t\t\t\t\talert(\"Email has been sent to the new staff\");\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t} else if (response == \"email_existed\") {\n\t\t\t\t\talert(\"This email is existed in staff list. Email was not sent.\");\n\t\t\t\t} else if (response == \"send_email_failed\") {\n\t\t\t\t\talert(\"Email failed to send\");\n\t\t\t\t} else {\n\t\t\t\t\talert(response);\n\t\t\t\t}\n\t\t\t\tthis.setState({ sending_mail: false });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar { sending_mail, verify_token, verify_role } = this.state;\n\t\tif (!verify_token || !verify_role) return <div />;\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">Add New Staff</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<h2>Add New Staff</h2>\n\t\t\t\t\t<br />\n\t\t\t\t\t<form\n\t\t\t\t\t\tname=\"trace_casual_contacts_form\"\n\t\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\t\tid=\"trace_casual_contacts_form\"\n\t\t\t\t\t\tclass=\"add_staff_form\"\n\t\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* input group */}\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"fname\">Full Name</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"Full Name\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"fname\"\n\t\t\t\t\t\t\t\tid=\"fname\"\n\t\t\t\t\t\t\t\tref=\"fname\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"email_address\">Email Address</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"Email Address\"\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"email_address\"\n\t\t\t\t\t\t\t\tid=\"email_address\"\n\t\t\t\t\t\t\t\tref=\"email_address\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t<div class=\"input_outer\">\n\t\t\t\t\t\t\t<div class=\"label_outer\">\n\t\t\t\t\t\t\t\t<label for=\"role\">Role</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"Role\"\n\t\t\t\t\t\t\t\ttype=\"role\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"role\"\n\t\t\t\t\t\t\t\tid=\"role\"\n\t\t\t\t\t\t\t\tref=\"role\"\n\t\t\t\t\t\t\t\tvalue=\"Staff\"\n\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{/* <select className=\"form-control\" name=\"role\" id=\"role\" ref=\"role\">\n\t\t\t\t\t\t\t\t<option value={1}>Admin</option>\n\t\t\t\t\t\t\t\t<option value={0}>Staff</option>\n\t\t\t\t\t\t\t</select> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"search_submit_btn\"\n\t\t\t\t\t\t\tclass=\"btn btn-success\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tvalue=\"Add Staff\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</form>\n\t\t\t\t\t<br />\n\t\t\t\t\t{sending_mail == true ? (\n\t\t\t\t\t\t<div class=\"alert alert-primary w-50\" role=\"alert\">\n\t\t\t\t\t\t\tPlease wait while the mail is being sent.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default add_staff;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass manage_staff extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tstaff_list: null,\n\t\t\tsearch_query: null,\n\t\t\tverify_token: false,\n\t\t\tverify_role: false,\n\t\t};\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {\n\t\tthis.startup();\n\t}\n\n\tstartup = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/getLoginDetails\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData[0].role == 0) {\n\t\t\t\t\twindow.location.href = \"/dashboard\";\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ verify_role: true });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// alert(\"Error: \" + error);\n\t\t\t});\n\n\t\t// alert(this.state.group_record_id);\n\t\tawait fetch(\"/get_all_staff\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\tif (!item.hasOwnProperty(\"phone_no\")) {\n\t\t\t\t\t\titem.phone_no = \"-\";\n\t\t\t\t\t}\n\t\t\t\t\tif (item.role == 1) {\n\t\t\t\t\t\titem.role = \"Admin\";\n\t\t\t\t\t} else if (item.role == 0) {\n\t\t\t\t\t\titem.role = \"Staff\";\n\t\t\t\t\t}\n\t\t\t\t\tif (item.first_login == true) {\n\t\t\t\t\t\titem.first_login = \"No\";\n\t\t\t\t\t} else if (item.first_login == false) {\n\t\t\t\t\t\titem.first_login = \"Yes\";\n\t\t\t\t\t}\n\t\t\t\t\titem.date_created = item.date_created\n\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t});\n\t\t\t\tthis.setState({ staff_list: jsonData });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\thandleCopyID = (sid) => {\n\t\tnavigator.clipboard.writeText(sid);\n\t\talert(\"ID copied: \" + sid);\n\t};\n\n\tswitchRole = async (sid) => {\n\t\tvar confirm_change = window.confirm(\n\t\t\t\"Confirm to switch the role of this staff? Your role will be switched to staff after this.\"\n\t\t);\n\t\tif (confirm_change == true) {\n\t\t\tawait fetch(\"/change_staff_role\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ sid: sid }),\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\t\treturn res.text();\n\t\t\t\t})\n\t\t\t\t.then((jsonData) => {\n\t\t\t\t\tif (jsonData == \"success\") {\n\t\t\t\t\t\talert(\"Role has been changed\");\n\t\t\t\t\t\t// this.startup();\n\t\t\t\t\t\twindow.location.href = \"/logout\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert(\"Role failed to change\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\talert(\"Error: \" + error);\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t};\n\n\tdeleteStaff = async (sid) => {\n\t\tvar confirm_change = window.confirm(\"Confirm to delete this staff?\");\n\t\tif (confirm_change == true) {\n\t\t\tawait fetch(\"/delete_staff\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ sid: sid }),\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\t\treturn res.text();\n\t\t\t\t})\n\t\t\t\t.then((jsonData) => {\n\t\t\t\t\tif (jsonData == \"success\") {\n\t\t\t\t\t\talert(\"This staff has been deleted\");\n\t\t\t\t\t\tthis.startup();\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert(\"Failed to delete this staff\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\talert(\"Error: \" + error);\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t};\n\n\t// reactivate_acc = async(sid) => {\n\t// \tvar confirm_reactivate = window.confirm(\n\t// \t\t\"Confirm to reactivate this staff account?\"\n\t// \t);\n\t// \tif (confirm_reactivate == true) {\n\t// \t\tawait fetch(\"/reactivate_staff_acc\", {\n\t// \t\t\tmethod: \"POST\",\n\t// \t\t\theaders: {\n\t// \t\t\t\t\"Content-Type\": \"application/json\",\n\t// \t\t\t},\n\t// \t\t\tbody: JSON.stringify({ sid: sid }),\n\t// \t\t})\n\t// \t\t\t.then((res) => {\n\t// \t\t\t\t// console.log(JSON.stringify(res.headers));\n\t// \t\t\t\treturn res.text();\n\t// \t\t\t})\n\t// \t\t\t.then((jsonData) => {\n\t// \t\t\t\tif (jsonData == \"success\") {\n\t// \t\t\t\t\talert(\"This staff account has been reactivated\");\n\t// \t\t\t\t\tthis.startup();\n\t// \t\t\t\t} else {\n\t// \t\t\t\t\talert(\"This staff account failed to reactivate\");\n\t// \t\t\t\t}\n\t// \t\t\t})\n\t// \t\t\t.catch((error) => {\n\t// \t\t\t\talert(\"Error: \" + error);\n\t// \t\t\t});\n\t// \t} else {\n\t// \t\treturn;\n\t// \t}\n\t// };\n\n\t// isDisabled = (sid) => {\n\t// \tvar { staff_list } = this.state;\n\t// \tvar disabled = false;\n\t// \tstaff_list.forEach(function (item) {\n\t// \t\tif (item._id == sid) {\n\t// \t\t\tif (item.first_login == \"Yes\") {\n\t// \t\t\t\tdisabled = true;\n\t// \t\t\t}\n\t// \t\t}\n\t// \t});\n\t// \treturn disabled;\n\t// };\n\n\tisDisable_switch = (value) => {\n\t\tvar { staff_list } = this.state;\n\t\tvar disabled = false;\n\t\tstaff_list.forEach(function (item) {\n\t\t\tif (item._id == value) {\n\t\t\t\tif (item.role == \"Admin\") {\n\t\t\t\t\tdisabled = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn disabled;\n\t};\n\n\tisDisable_delete = (value) => {\n\t\tvar { staff_list } = this.state;\n\t\tvar disabled = false;\n\t\tstaff_list.forEach(function (item) {\n\t\t\tif (item._id == value) {\n\t\t\t\tif (item.role == \"Admin\") {\n\t\t\t\t\tdisabled = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn disabled;\n\t};\n\n\tsubmitSearch = async () => {\n\t\tvar { search_query } = this.state;\n\n\t\tif (search_query == null) {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tif (search_query.trim() == \"\") {\n\t\t\tthis.startup();\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\"/search_staff_list\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ search_query: search_query }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tif (jsonData == false) {\n\t\t\t\t\talert(\"No record found\");\n\t\t\t\t} else {\n\t\t\t\t\tjsonData.forEach(function (item) {\n\t\t\t\t\t\tif (!item.hasOwnProperty(\"phone_no\")) {\n\t\t\t\t\t\t\titem.phone_no = \"-\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (item.role == 1) {\n\t\t\t\t\t\t\titem.role = \"Admin\";\n\t\t\t\t\t\t} else if (item.role == 0) {\n\t\t\t\t\t\t\titem.role = \"Staff\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (item.first_login == true) {\n\t\t\t\t\t\t\titem.first_login = \"No\";\n\t\t\t\t\t\t} else if (item.first_login == false) {\n\t\t\t\t\t\t\titem.first_login = \"Yes\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.date_created = item.date_created\n\t\t\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t\t\t.substring(0, item.date_created.indexOf(\".\") - 3);\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({ staff_list: jsonData });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar { staff_list, verify_token, verify_role } = this.state;\n\t\tif (!verify_token || !verify_role) return <div />;\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">Manage Staff</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<h2>Manage Staff</h2>\n\n\t\t\t\t\t<div class=\"search_outer\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"form-control col-sm-3\"\n\t\t\t\t\t\t\t\tid=\"search_query\"\n\t\t\t\t\t\t\t\tname=\"search_query\"\n\t\t\t\t\t\t\t\tvalue={this.state.search_query}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ search_query: e.target.value });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tplaceholder=\"Search staff name / ID / email\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-success col-sm-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.submitSearch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<br />\n\t\t\t\t\t{staff_list == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\tdata={staff_list}\n\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"ID\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\twidth: 120,\n\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column\">\n\t\t\t\t\t\t\t\t\t\t\t{\"...\" +\n\t\t\t\t\t\t\t\t\t\t\t\trow.value.slice(row.value.length - 4).toUpperCase() +\n\t\t\t\t\t\t\t\t\t\t\t\t\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"https://www.flaticon.com/svg/static/icons/svg/60/60990.svg\"\n\t\t\t\t\t\t\t\t\t\t\t\twidth={17}\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Copy full ID\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"copy_id_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleCopyID(row.value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Name\",\n\t\t\t\t\t\t\t\t\taccessor: \"fname\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Email\",\n\t\t\t\t\t\t\t\t\taccessor: \"email\",\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Phone No.\",\n\t\t\t\t\t\t\t\t\taccessor: \"phone_no\",\n\t\t\t\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Role\",\n\t\t\t\t\t\t\t\t\taccessor: \"role\",\n\t\t\t\t\t\t\t\t\twidth: 120,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Activated\",\n\t\t\t\t\t\t\t\t\taccessor: \"first_login\",\n\t\t\t\t\t\t\t\t\twidth: 120,\n\t\t\t\t\t\t\t\t\tCell: (row) => (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass={\n\t\t\t\t\t\t\t\t\t\t\t\trow.value == \"Yes\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"table_column_green\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"table_column_red\"\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{row.value}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Date Created\",\n\t\t\t\t\t\t\t\t\taccessor: \"date_created\",\n\t\t\t\t\t\t\t\t\twidth: 160,\n\t\t\t\t\t\t\t\t\tCell: (row) => <div class=\"table_column\">{row.value}</div>,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\t\t// \tHeader: \"Reactivate\",\n\t\t\t\t\t\t\t\t// \taccessor: \"_id\",\n\t\t\t\t\t\t\t\t// \twidth: 150,\n\t\t\t\t\t\t\t\t// \tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t// \t\t<div class=\"table_column_btn\">\n\t\t\t\t\t\t\t\t// \t\t\t<button\n\t\t\t\t\t\t\t\t// \t\t\t\tclass=\"manage_btn register btn btn-secondary\"\n\t\t\t\t\t\t\t\t// \t\t\t\tdisabled={this.isDisabled(value)}\n\t\t\t\t\t\t\t\t// \t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t// \t\t\t\t\tthis.reactivate_acc(value);\n\t\t\t\t\t\t\t\t// \t\t\t\t}}\n\t\t\t\t\t\t\t\t// \t\t\t>\n\t\t\t\t\t\t\t\t// \t\t\t\tReactivate\n\t\t\t\t\t\t\t\t// \t\t\t</button>\n\t\t\t\t\t\t\t\t// \t\t</div>\n\t\t\t\t\t\t\t\t// \t),\n\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Switch Role\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column_btn\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-success\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.switchRole(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.isDisable_switch(value)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tSwitch Role\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tHeader: \"Delete\",\n\t\t\t\t\t\t\t\t\taccessor: \"_id\",\n\t\t\t\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t\t\t\t\tCell: ({ value }) => (\n\t\t\t\t\t\t\t\t\t\t<div class=\"table_column_btn\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"manage_btn register btn btn-danger\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.deleteStaff(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.isDisable_delete(value)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tdefaultPageSize={10}\n\t\t\t\t\t\t\tclassName=\"-striped -highlight\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default manage_staff;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass manage_profile extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.verifyToken();\n\t\tthis.state = {\n\t\t\tprofile_details: null,\n\t\t\tupdated_phone_no: null,\n\t\t\tcurrent_psw: null,\n\t\t\tnew_psw: null,\n\t\t\tcon_new_psw: null,\n\t\t\tverify_token: false,\n\t\t};\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount() {\n\t\tthis.startup();\n\t}\n\n\tverifyToken = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tstartup = async () => {\n\t\t// alert(this.state.group_record_id);\n\t\tawait fetch(\"/get_own_profile_details\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tif (!jsonData.hasOwnProperty(\"phone_no\")) {\n\t\t\t\t\tjsonData.phone_no = \"-\";\n\t\t\t\t}\n\t\t\t\tif (jsonData.role == 1) {\n\t\t\t\t\tjsonData.role = \"Admin\";\n\t\t\t\t} else if (jsonData.role == 0) {\n\t\t\t\t\tjsonData.role = \"Staff\";\n\t\t\t\t}\n\t\t\t\tif (jsonData.first_login == true) {\n\t\t\t\t\tjsonData.first_login = \"No\";\n\t\t\t\t} else if (jsonData.first_login == false) {\n\t\t\t\t\tjsonData.first_login = \"Yes\";\n\t\t\t\t}\n\t\t\t\tjsonData.date_created = jsonData.date_created\n\t\t\t\t\t.replace(\"T\", \" \")\n\t\t\t\t\t.substring(0, jsonData.date_created.indexOf(\".\") - 3);\n\t\t\t\tthis.setState({ profile_details: jsonData });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\thandleCopyID = (sid) => {\n\t\tnavigator.clipboard.writeText(sid);\n\t\talert(\"ID copied: \" + sid);\n\t};\n\n\tupdatePhoneNo = async () => {\n\t\tvar { updated_phone_no } = this.state;\n\n\t\tif (updated_phone_no == null) {\n\t\t\talert(\"There is no update on the phone number\");\n\t\t\treturn;\n\t\t}\n\n\t\tupdated_phone_no = updated_phone_no.trim().replace(/\\s/g, \"\");\n\n\t\tif (updated_phone_no == \"\") {\n\t\t\talert(\"Please enter your phone number\");\n\t\t\treturn;\n\t\t} else if (/\\D/.test(updated_phone_no)) {\n\t\t\t// if contains non-digit character\n\t\t\talert(\"Please enter number only\");\n\t\t\treturn;\n\t\t} else if (updated_phone_no.substring(0, 1) !== \"0\") {\n\t\t\talert(\"Invalid phone number\");\n\t\t\treturn;\n\t\t} else if (\n\t\t\tupdated_phone_no.substring(0, 2) == \"04\" &&\n\t\t\t(updated_phone_no.length < 9 || updated_phone_no.length > 10)\n\t\t) {\n\t\t\talert(\"Invalid phone number\");\n\t\t\treturn;\n\t\t} else if (\n\t\t\tupdated_phone_no.substring(0, 2) == \"01\" &&\n\t\t\t(updated_phone_no.length < 10 || updated_phone_no.length > 11)\n\t\t) {\n\t\t\talert(\"Invalid phone number\");\n\t\t\treturn;\n\t\t} else if (\n\t\t\tupdated_phone_no.substring(0, 2) !== \"01\" &&\n\t\t\tupdated_phone_no.substring(0, 2) !== \"04\"\n\t\t) {\n\t\t\talert(\"Invalid phone number\");\n\t\t\treturn;\n\t\t}\n\n\t\tawait fetch(\"/update_own_phone_number\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ updated_phone_no: updated_phone_no }),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\tif (jsonData == \"success\") {\n\t\t\t\t\talert(\"Phone number updated successfully\");\n\t\t\t\t} else if (jsonData == \"failed\") {\n\t\t\t\t\talert(\"Phone number existed in the other staff's record\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tchangePassword = async () => {\n\t\t// input value\n\t\tvar { current_psw, new_psw, con_new_psw } = this.state;\n\n\t\tif (new_psw !== con_new_psw) {\n\t\t\talert(\"New password does not match\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/.test(new_psw)) {\n\t\t\talert(\n\t\t\t\t\"New password must contain at least 8 characters with combination of number, uppercase and lowercase character\"\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\t// check login credentials\n\t\tawait fetch(\"/change_psw\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tuser: {\n\t\t\t\t\tcurrent_psw: current_psw,\n\t\t\t\t\tnew_psw: new_psw,\n\t\t\t\t},\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// console.log(jsonData);\n\t\t\t\tif (jsonData) {\n\t\t\t\t\talert(\"Password changed successful\");\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else {\n\t\t\t\t\talert(\n\t\t\t\t\t\t\"Current password is incorrect or new password is same as current password\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\trender() {\n\t\tvar {\n\t\t\tprofile_details,\n\t\t\tupdated_phone_no,\n\t\t\tcurrent_psw,\n\t\t\tnew_psw,\n\t\t\tcon_new_psw,\n\t\t\tverify_token,\n\t\t} = this.state;\n\n\t\tif (!verify_token) return <div />;\n\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">Manage Profile</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t<h2>Manage Profile</h2>\n\n\t\t\t\t\t<br />\n\t\t\t\t\t{profile_details == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"row mb-1\">\n\t\t\t\t\t\t\t\t<h5 class=\"col-sm-2\">ID</h5>\n\t\t\t\t\t\t\t\t<p class=\"lead col-sm-2 mt-n1\">{profile_details._id}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row mb-1\">\n\t\t\t\t\t\t\t\t<h5 class=\"col-sm-2\">Full Name</h5>\n\t\t\t\t\t\t\t\t<p class=\"lead col-sm-2 mt-n1\">{profile_details.fname}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row mb-1\">\n\t\t\t\t\t\t\t\t<h5 class=\"col-sm-2\">Email</h5>\n\t\t\t\t\t\t\t\t<p class=\"lead col-sm-2 mt-n1\">{profile_details.email}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t\t\t\t<h5 class=\"col-sm-2\">Phone No.</h5>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Phone No.\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-2 mt-n2 ml-2\"\n\t\t\t\t\t\t\t\t\tname=\"phone_no\"\n\t\t\t\t\t\t\t\t\tid=\"phone_no\"\n\t\t\t\t\t\t\t\t\tref=\"phone_no\"\n\t\t\t\t\t\t\t\t\tmaxLength={11}\n\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\tupdated_phone_no == null\n\t\t\t\t\t\t\t\t\t\t\t? profile_details.phone_no\n\t\t\t\t\t\t\t\t\t\t\t: updated_phone_no\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({ updated_phone_no: e.target.value });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"btn btn-secondary col-sm-1 ml-2 mt-n2\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.updatePhoneNo();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row mb-1\">\n\t\t\t\t\t\t\t\t<h5 class=\"col-sm-2\">Role</h5>\n\t\t\t\t\t\t\t\t<p class=\"lead col-sm-2 mt-n1\">{profile_details.role}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row mb-1\">\n\t\t\t\t\t\t\t\t<h5 class=\"col-sm-2\">Date Created</h5>\n\t\t\t\t\t\t\t\t<p class=\"lead col-sm-2 mt-n1\">\n\t\t\t\t\t\t\t\t\t{profile_details.date_created}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<h3>Change Password</h3>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<div class=\"row mb-4\">\n\t\t\t\t\t\t\t\t<h5 class=\"col-sm-2\">Current Password</h5>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Current Password\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-2 mt-n2 ml-2\"\n\t\t\t\t\t\t\t\t\tname=\"current_psw\"\n\t\t\t\t\t\t\t\t\tid=\"current_psw\"\n\t\t\t\t\t\t\t\t\tref=\"current_psw\"\n\t\t\t\t\t\t\t\t\tvalue={current_psw}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({ current_psw: e.target.value });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row mb-4\">\n\t\t\t\t\t\t\t\t<h5 class=\"col-sm-2\">New Password</h5>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tplaceholder=\"New Password\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-2 mt-n2 ml-2\"\n\t\t\t\t\t\t\t\t\tname=\"new_psw\"\n\t\t\t\t\t\t\t\t\tid=\"new_psw\"\n\t\t\t\t\t\t\t\t\tref=\"new_psw\"\n\t\t\t\t\t\t\t\t\tvalue={new_psw}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({ new_psw: e.target.value });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row mb-4\">\n\t\t\t\t\t\t\t\t<h5 class=\"col-sm-2\">Confirm New Password</h5>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Confirm New Password\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-2 mt-n2 ml-2\"\n\t\t\t\t\t\t\t\t\tname=\"con_new_psw\"\n\t\t\t\t\t\t\t\t\tid=\"con_new_psw\"\n\t\t\t\t\t\t\t\t\tref=\"con_new_psw\"\n\t\t\t\t\t\t\t\t\tvalue={con_new_psw}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({ con_new_psw: e.target.value });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-success col-sm-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.changePassword();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tChange Password\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default manage_profile;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\n\n// link this page to another page\nimport { Link } from \"react-router-dom\";\n\nclass logout extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {};\n\t}\n\n\tlogout = async () => {\n\t\tawait fetch(\"/logout\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// console.log(jsonData);\n\t\t\t\tif (jsonData) {\n\t\t\t\t\talert(\"Logout successful\");\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Logout failed\");\n\t\t\t\t\twindow.location.href = \"/dashboard\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tcomponentDidMount = async () => {\n\t\t// if (window.confirm(\"Confirm to logout?\")) {\n\t\tthis.logout();\n\t\t// } else {\n\t\t// \twindow.location.href = \"/\";\n\t\t// }\n\t};\n\n\trender() {\n\t\treturn <div></div>;\n\t}\n}\n\nexport default logout;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n// link this page to another page\nimport { Link } from \"react-router-dom\";\nimport { Bar, Pie } from \"react-chartjs-2\";\n\nclass health_risk_assessment_analytics extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.startup();\n\t\tthis.state = {\n\t\t\thra_responses_yes: null,\n\t\t\thra_responses_no: null,\n\t\t\thra_results: null,\n\t\t\thra_gender: null,\n\t\t\thra_age: null,\n\t\t\tverify_token: false,\n\t\t};\n\t}\n\n\t// signals that the all components have rendered properly\n\tcomponentDidMount = async () => {\n\t\tawait fetch(\"/get_hra_responses_count\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tthis.setState({\n\t\t\t\t\thra_responses_yes: jsonData.yes,\n\t\t\t\t\thra_responses_no: jsonData.no,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/get_hra_results_count\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tthis.setState({\n\t\t\t\t\thra_results: jsonData,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/get_hra_gender_count\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tthis.setState({\n\t\t\t\t\thra_gender: jsonData,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\n\t\tawait fetch(\"/get_hra_age_count\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tthis.setState({\n\t\t\t\t\thra_age: jsonData,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tstartup = async () => {\n\t\tawait fetch(\"/verifyToken\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\t// console.log(JSON.stringify(res.headers));\n\t\t\t\treturn res.text();\n\t\t\t})\n\t\t\t.then((jsonData) => {\n\t\t\t\t// alert(JSON.stringify(jsonData));\n\t\t\t\tif (jsonData === \"failed\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/\";\n\t\t\t\t} else if (jsonData === \"success\") {\n\t\t\t\t\tthis.setState({ verify_token: true });\n\t\t\t\t} else if (jsonData === \"failed_first_login\") {\n\t\t\t\t\tthis.setState({ verify_token: false });\n\t\t\t\t\twindow.location.href = \"/change_password_first_login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ modal_show: false });\n\t};\n\n\thandleShow = (confirmed_case_check_in_id) => {\n\t\tthis.setState({ modal_show: true });\n\t\tthis.view_casual_contacts(confirmed_case_check_in_id);\n\t};\n\n\thandleSubmit = async (e) => {\n\t\te.preventDefault();\n\t};\n\n\trender() {\n\t\tvar {\n\t\t\thra_age,\n\t\t\thra_gender,\n\t\t\thra_responses_yes,\n\t\t\thra_responses_no,\n\t\t\thra_results,\n\t\t\tverify_token,\n\t\t} = this.state;\n\n\t\tif (!verify_token) return <div />;\n\n\t\t// gender\n\t\tvar data_gender;\n\t\tif (hra_gender !== null) {\n\t\t\tdata_gender = {\n\t\t\t\tlabels: [\"Male\", \"Female\"],\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: hra_gender,\n\t\t\t\t\t\tbackgroundColor: [\n\t\t\t\t\t\t\t\"rgba(54, 162, 235, 0.5)\",\n\t\t\t\t\t\t\t\"rgba(255, 99, 132, 0.5)\",\n\t\t\t\t\t\t],\n\t\t\t\t\t\thoverBackgroundColor: [\n\t\t\t\t\t\t\t\"rgba(54, 162, 235, 1)\",\n\t\t\t\t\t\t\t\"rgba(255, 99, 132, 1)\",\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\t\t}\n\n\t\t// age\n\t\tvar data_age;\n\t\tif (hra_age !== null) {\n\t\t\tdata_age = {\n\t\t\t\tlabels: [\n\t\t\t\t\t\"0-14 years\",\n\t\t\t\t\t\"15-24 years\",\n\t\t\t\t\t\"25-64 years\",\n\t\t\t\t\t\"65 years and above\",\n\t\t\t\t],\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Age Range\",\n\t\t\t\t\t\tbackgroundColor: \"rgba(50, 88, 168,0.2)\",\n\t\t\t\t\t\tborderColor: \"rgba(50, 88, 168,1)\",\n\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\thoverBackgroundColor: \"rgba(50, 88, 168,0.4)\",\n\t\t\t\t\t\thoverBorderColor: \"rgba(50, 88, 168,1)\",\n\t\t\t\t\t\tdata: hra_age,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\t\t}\n\n\t\t// response\n\t\tvar data_responses;\n\t\tif (hra_responses_yes !== null || hra_responses_no !== null) {\n\t\t\tdata_responses = {\n\t\t\t\tlabels: [\"Q1\", \"Q2\", \"Q3\", \"Q4\", \"Q5\"],\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Yes\",\n\t\t\t\t\t\tbackgroundColor: \"rgba(155,231,91,0.2)\",\n\t\t\t\t\t\tborderColor: \"rgba(155,231,91,1)\",\n\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\thoverBackgroundColor: \"rgba(155,231,91,0.4)\",\n\t\t\t\t\t\thoverBorderColor: \"rgba(155,231,91,1)\",\n\t\t\t\t\t\tdata: hra_responses_yes,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"No\",\n\t\t\t\t\t\tbackgroundColor: \"rgba(255,99,132,0.2)\",\n\t\t\t\t\t\tborderColor: \"rgba(255,99,132,1)\",\n\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\thoverBackgroundColor: \"rgba(255,99,132,0.4)\",\n\t\t\t\t\t\thoverBorderColor: \"rgba(255,99,132,1)\",\n\t\t\t\t\t\tdata: hra_responses_no,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\t\t}\n\n\t\t// results\n\t\tvar data_results;\n\t\tif (hra_results !== null) {\n\t\t\tdata_results = {\n\t\t\t\tlabels: [\n\t\t\t\t\t\"Health Check Recommended for COVID-19\",\n\t\t\t\t\t\"No Health Check Recommended for COVID-19\",\n\t\t\t\t],\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: hra_results,\n\t\t\t\t\t\tbackgroundColor: [\n\t\t\t\t\t\t\t\"rgba(255,99,132, 0.5)\",\n\t\t\t\t\t\t\t\"rgba(161, 237, 172, 0.5)\",\n\t\t\t\t\t\t],\n\t\t\t\t\t\thoverBackgroundColor: [\n\t\t\t\t\t\t\t\"rgba(255,99,132, 1)\",\n\t\t\t\t\t\t\t\"rgba(161, 237, 172, 1)\",\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\t\t}\n\n\t\treturn (\n\t\t\t<div class=\"\">\n\t\t\t\t<NavBar />\n\n\t\t\t\t<div class=\"page_header\">\n\t\t\t\t\t<div class=\"page_title\">Health Risk Assessment Analytics</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"page_content\">\n\t\t\t\t\t{hra_gender == null ||\n\t\t\t\t\thra_age == null ||\n\t\t\t\t\thra_responses_yes == null ||\n\t\t\t\t\thra_responses_no == null ||\n\t\t\t\t\thra_results == null ? (\n\t\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4 class=\"font-weight-bold mb-3\">\n\t\t\t\t\t\t\t\tRespondent Demographic Overview\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<h5>{\"Total number of respondent: \" + parseInt(hra_gender[0] + hra_gender[1])}</h5>\n\t\t\t\t\t\t\t<div class=\"row px-3\">\n\t\t\t\t\t\t\t\t<div class=\"col-sm-6\">\n\t\t\t\t\t\t\t\t\t<Pie width={500} height={300} data={data_gender} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"col-sm-6\">\n\t\t\t\t\t\t\t\t\t<Bar\n\t\t\t\t\t\t\t\t\t\twidth={500}\n\t\t\t\t\t\t\t\t\t\theight={300}\n\t\t\t\t\t\t\t\t\t\tdata={data_age}\n\t\t\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<h4 class=\"font-weight-bold mb-3\">Responses Overview</h4>\n\t\t\t\t\t\t\t<div class=\"hra_questions\">\n\t\t\t\t\t\t\t\t<p class=\"lead\">\n\t\t\t\t\t\t\t\t\tQ1. Have you / your dependent traveled to (or living in) any\n\t\t\t\t\t\t\t\t\tof the <b>COVID-19 affected areas/countries</b> in the last 14\n\t\t\t\t\t\t\t\t\tdays?\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p class=\"lead\">\n\t\t\t\t\t\t\t\t\tQ2. Have you / your dependent had any <b>close contact</b>{\" \"}\n\t\t\t\t\t\t\t\t\twith a person who is known to have COVID-19 during the last 14\n\t\t\t\t\t\t\t\t\tdays?\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p class=\"lead\">\n\t\t\t\t\t\t\t\t\tQ3. Do you / your dependent have a <b>fever</b>?\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p class=\"lead\">\n\t\t\t\t\t\t\t\t\tQ4. Do you / your dependent have a <b>cough</b>?\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p class=\"lead\">\n\t\t\t\t\t\t\t\t\tQ5. Do you / your dependent have a <b>shortness of breath</b>?\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"col-sm-8\">\n\t\t\t\t\t\t\t\t<Bar\n\t\t\t\t\t\t\t\t\twidth={500}\n\t\t\t\t\t\t\t\t\theight={300}\n\t\t\t\t\t\t\t\t\tdata={data_responses}\n\t\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\t\t\t\t\tyAxes: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<h4 class=\"font-weight-bold mb-3\">Results Overview</h4>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<div class=\"col-sm-6\">\n\t\t\t\t\t\t\t\t<Pie width={500} height={300} data={data_results} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default health_risk_assessment_analytics;\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\n\r\nimport App from \"./App\";\r\nimport change_password_first_login from \"./change_password_first_login\";\r\nimport login from \"./login\";\r\nimport dashboard from \"./dashboard\";\r\nimport search_casual_contacts from \"./search_casual_contacts\";\r\nimport NavBar from \"./NavBar\";\r\nimport view_casual_contacts from \"./view_casual_contacts\";\r\nimport view_confirmed_case_check_ins from \"./view_confirmed_case_check_ins\";\r\nimport view_casual_contact_check_ins from \"./view_casual_contact_check_ins\";\r\nimport view_simp_casual_contact_check_ins from \"./view_simp_casual_contact_check_ins\";\r\nimport download_excel_casual_contacts from \"./download_excel_casual_contacts\";\r\nimport download_excel_infected_premise from \"./download_excel_infected_premise\";\r\nimport add_hotspot from \"./add_hotspot\";\r\nimport view_hotspots from \"./view_hotspots\";\r\nimport view_hotspots_each from \"./view_hotspots_each\";\r\nimport view_hotspots_manual_add from \"./view_hotspots_manual_add\";\r\nimport send_batch_email from \"./send_batch_email\";\r\nimport add_staff from \"./add_staff\";\r\nimport manage_staff from \"./manage_staff\";\r\nimport manage_profile from \"./manage_profile\";\r\nimport logout from \"./logout\";\r\nimport health_risk_assessment_analytics from \"./health_risk_assessment_analytics\";\r\n\r\nconst Router = () => (\r\n\t<BrowserRouter>\r\n\t\t<Switch>\r\n\t\t\t{/* login */}\r\n\t\t\t<Route path=\"/\" component={login} exact />\r\n\r\n\t\t\t{/* change psw first login */}\r\n\t\t\t<Route path=\"/change_password_first_login\" component={change_password_first_login} exact />\r\n\t\t\t\r\n\t\t\t{/* dashboard */}\r\n\t\t\t<Route path=\"/dashboard\" component={dashboard} exact />\r\n\r\n\t\t\t{/* casual contact */}\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/search_casual_contacts\"\r\n\t\t\t\tcomponent={search_casual_contacts}\r\n\t\t\t\texact\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/view_casual_contacts\"\r\n\t\t\t\tcomponent={view_casual_contacts}\r\n\t\t\t\texact\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/view_confirmed_case_check_ins/:group_record_id\"\r\n\t\t\t\tcomponent={view_confirmed_case_check_ins}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/view_casual_contact_check_ins/:check_in_id/:check_in_group_id\"\r\n\t\t\t\tcomponent={view_casual_contact_check_ins}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/view_simp_casual_contact_check_ins/:group_record_id\"\r\n\t\t\t\tcomponent={view_simp_casual_contact_check_ins}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/download_excel_casual_contacts/:check_in_id/:check_in_group_id\"\r\n\t\t\t\tcomponent={download_excel_casual_contacts}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/download_excel_infected_premise/:check_in_group_id\"\r\n\t\t\t\tcomponent={download_excel_infected_premise}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* hotspot */}\r\n\t\t\t<Route path=\"/add_hotspot\" component={add_hotspot} />\r\n\t\t\t<Route path=\"/view_hotspots\" component={view_hotspots} />\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/view_hotspots_each/:group_record_id\"\r\n\t\t\t\tcomponent={view_hotspots_each}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/view_hotspots_manual_add\"\r\n\t\t\t\tcomponent={view_hotspots_manual_add}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* batch email */}\r\n\t\t\t<Route path=\"/send_batch_email\" component={send_batch_email} exact />\r\n\r\n\t\t\t{/* health risk assessment analytics */}\r\n\t\t\t<Route path=\"/health_risk_assessment_analytics\" component={health_risk_assessment_analytics} exact />\r\n\t\t\t\r\n\t\t\t{/* staff */}\r\n\t\t\t<Route path=\"/add_staff\" component={add_staff} exact />\r\n\t\t\t<Route path=\"/manage_staff\" component={manage_staff} exact />\r\n\t\t\t<Route path=\"/manage_profile\" component={manage_profile} exact />\r\n\t\t\t\r\n\t\t\t{/* navbar */}\r\n\t\t\t<Route path=\"/NavBar\" component={NavBar} exact />\r\n\t\t\t<Route path=\"/logout\" component={logout} exact />\r\n\t\t\t\r\n\t\t\t{/* if route not found */}\r\n\t\t\t<Route path=\"*\" component={login} />\r\n\t\t</Switch>\r\n\t</BrowserRouter>\r\n);\r\n\r\nexport default Router;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport Router from \"./Router\";\n\nReactDOM.render(<Router />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAZ5QTFRF/////wAA/wAA/4CA/1VV/0BA/1VV30BA/05O/1BQ/1lN9UdH/1VV70JC/1VV8kpD/1dR/1dR/1VP7UlJ/1VR/1ZS7EVI/1hU7UlF/1dQ/1hS7EZG7EhE/1ZT/1ZT60dE/1dS/1dT6kZG/1dT60ZG/1hR60VF/1ZS6UZG/1dR/1ZS6UZG/1ZT/1dR6EVF/1dS6ERE6UVF/1dT6EVD/1dS/1dS6UVD/1ZS/1dS50ND50ND5kND/1dR/1dS50ND5kRC/1dS5UJC/1dS/1dS5EFB/1ZS40FB/1ZS5EFB40BB/1hS4kFB4kBA4j9B/1dR/1dS/1dS4D4//1dS/1dS3j0+4D0+3z0+3jw9/1dS3Ts93Tw9xdjfxtjfyNnfydjfytjezNbbzdXb0cvP0sbL0sfL1qyw16Kl2JKU2YeL2l9i2mdq2m1v2m5w2zo82zw+20FD20xO205R3Ds83Ds97+vr7+/v8OXl8d3d8d/e8s/O8tHQ9bWz9bu5+JqX+ZKP+oaD+4B8/HBs/HFs/Wlk/W1p/l9b/mFc/1dS/1hT/1pVqptFDAAAAFt0Uk5TAAECAgMEBggNEBQZHh8kJiYsLTg5PkNDRklLUFJTX2VqbG1vdHd9f4CBgouLjZubqKqqrq+ytrq7v8HCwsTKzNbY3uDj4+bm6Ozs7fDx8fT1+Pn6+/v8/f3+/nKHsyQAAAFXSURBVDhPfdNlU8NAFIXhW6BQiru7u7u7uxOsuC1SCNLiFvjXNDfJSho4X99ndiabWQA2Z2pRw9DScEtxFFjNlj2l+EZ8u6oO8O/hzYpiAELG4sw9YVLhAVnJFbujTxEBWQgTQJWevz+Oz3TRw/cULX95b2RpfedSE4Uc6MD+eifLsiRJGycIJlgPmlb7j0fWgLR1jh8bTEEMHvAkG0DaxyPSKMhE4GVgF0ElBeUI7hlwIeikoADBAwPbCBopyEDwyMAegjIKYhF83hpg8wJBOgW2XhQv1xpYO8Q+z/3SUu0m3zwqcJ1qN9nGOkQr+t6fD46IvmQOQL0h6N8kg3yHyFkzcCcKACrMoEvsEDoqgtUIE4AcEdSYO9i7eTAT4gcgaZkD+f4doISBVqsOgU0GGLFbAnAOaGDR+un5Fj+nAnfWXx0gTwV1f3eAWoX0/9fB0T4uPjn4BbiY44IDk6OhAAAAAElFTkSuQmCC\""],"sourceRoot":""}